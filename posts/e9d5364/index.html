<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>国利网安靶场基础平台技术白皮书 | Focu$ on yourself.</title><meta name="description" content="国利网安靶场基础平台技术白皮书"><meta name="author" content="0xfocu5"><meta name="copyright" content="0xfocu5"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="shortcut icon" href="https://focu5.oss-accelerate.aliyuncs.com/blog/20200927102719.jpg"><link rel="canonical" href="https://0xfocu5.github.io/posts/e9d5364/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta property="og:type" content="article"><meta property="og:title" content="国利网安靶场基础平台技术白皮书"><meta property="og:url" content="https://0xfocu5.github.io/posts/e9d5364/"><meta property="og:site_name" content="Focu$ on yourself."><meta property="og:description" content="国利网安靶场基础平台技术白皮书"><meta property="og:image" content="https://focu5.oss-accelerate.aliyuncs.com/blog/20200927102719.jpg"><meta property="article:published_time" content="2022-05-09T16:00:00.000Z"><meta property="article:modified_time" content="2022-05-09T16:00:00.000Z"><meta name="twitter:card" content="summary"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  hexoversion: '5.2.0',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    message_prev: 'Snackbar.bookmark.message_prev',
    message_next: 'Snackbar.bookmark.message_next'
  },
  runtime: 'days',
  date_suffix: {"one_hour":"date_suffix.one_hour","hours":"date_suffix.hours","day":"天前"},
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
    },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true,
  postUpdate: '2022-05-10 00:00:00'
}</script><noscript><style type="text/css">
#nav {
  opacity: 1
}
.justified-gallery img {
  opacity: 1
}
</style></noscript><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
  }
}

var autoChangeMode = 'false'
var t = saveToLocal.get('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (saveToLocal.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><meta name="generator" content="Hexo 5.2.0"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/img/20200714224051.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">26</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">11</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">Categories</div><div class="length_num">15</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tages</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div id="body-wrap"><div id="sidebar"><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%99%BA%E8%83%BD%E6%B1%BD%E8%BD%A6%E7%BD%91%E7%BB%9C%E9%9D%B6%E5%9C%BA%E7%9B%AE%E6%A0%87%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E5%88%86%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.</span> <span class="toc-text">智能汽车网络靶场目标网络管理分系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E8%8A%82%E7%82%B9%E7%94%9F%E6%88%90%E6%A8%A1%E5%9D%97"><span class="toc-number">1.1.</span> <span class="toc-text">虚拟节点生成模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E4%BA%A4%E6%8D%A2%E6%9C%BA"><span class="toc-number">1.1.0.1.</span> <span class="toc-text">虚拟交换机</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8vswitch%E6%9E%84%E5%BB%BA%E8%99%9A%E6%8B%9F%E7%BD%91%E7%BB%9C"><span class="toc-number">1.1.0.1.1.</span> <span class="toc-text">使用vswitch构建虚拟网络</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9E%84%E5%BB%BA%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%8E%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9B%B8%E8%BF%9E%E7%9A%84%E7%BD%91%E7%BB%9C"><span class="toc-number">1.1.0.1.2.</span> <span class="toc-text">构建虚拟机与虚拟机相连的网络</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9E%84%E5%BB%BA%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%8E%E7%89%A9%E7%90%86%E6%9C%BA%E7%9B%B8%E8%BF%9E%E7%9A%84%E7%BD%91%E7%BB%9C"><span class="toc-number">1.1.0.1.3.</span> <span class="toc-text">构建虚拟机与物理机相连的网络</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%A8%E4%B8%8D%E5%90%8C%E7%9A%84%E4%B8%BB%E6%9C%BA%E4%B9%8B%E9%97%B4%E6%9E%84%E5%BB%BA%E7%BD%91%E6%A1%A5%E4%B9%8B%E9%97%B4%E7%9A%84%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.1.0.1.4.</span> <span class="toc-text">在不同的主机之间构建网桥之间的连接</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E8%B7%AF%E7%94%B1%E5%99%A8"><span class="toc-number">1.1.0.2.</span> <span class="toc-text">虚拟路由器</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E8%B7%AF%E7%94%B1%E5%99%A8%E7%89%B9%E6%80%A7"><span class="toc-number">1.1.0.2.1.</span> <span class="toc-text">虚拟路由器特性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E8%B7%AF%E7%94%B1%E5%99%A8%E5%AE%89%E8%A3%85"><span class="toc-number">1.1.0.2.2.</span> <span class="toc-text">虚拟路由器安装</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E8%B7%AF%E7%94%B1%E5%99%A8%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E3%80%81%E4%BC%98%E5%85%88%E7%BA%A7%E8%AE%BE%E7%BD%AE"><span class="toc-number">1.1.0.2.3.</span> <span class="toc-text">虚拟路由器拥塞控制、优先级设置</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E9%98%B2%E7%81%AB%E5%A2%99"><span class="toc-number">1.1.0.3.</span> <span class="toc-text">虚拟防火墙</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%8D%E5%8A%A1%E5%99%A8-%E5%AE%A2%E6%88%B7%E7%AB%AF-%E8%BD%A6%E8%BD%BD%E9%9B%B6%E9%83%A8%E4%BB%B6"><span class="toc-number">1.1.0.4.</span> <span class="toc-text">虚拟服务器&#x2F;客户端&#x2F;车载零部件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87%E7%BD%91%E7%BB%9C%E8%B0%83%E5%BA%A6%E6%A8%A1%E5%9D%97"><span class="toc-number">1.2.</span> <span class="toc-text">目标网络调度模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97"><span class="toc-number">1.3.</span> <span class="toc-text">目标网络管理模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%99%9A%E5%AE%9E%E4%BA%92%E8%81%94%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97"><span class="toc-number">1.4.</span> <span class="toc-text">虚实互联管理模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E7%BD%91%E7%BB%9C%E6%94%AF%E6%92%91%E6%A8%A1%E5%9D%97"><span class="toc-number">1.5.</span> <span class="toc-text">虚拟网络支撑模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%A6%E5%AE%BD%E6%8E%A7%E5%88%B6"><span class="toc-number">1.5.0.1.</span> <span class="toc-text">带宽控制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%A5%E6%96%87%E5%88%86%E7%B1%BB"><span class="toc-number">1.5.0.2.</span> <span class="toc-text">报文分类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E7%89%B9%E5%BE%81%E7%9A%84%E6%8A%A5%E6%96%87%E5%88%86%E7%B1%BB"><span class="toc-number">1.5.0.2.1.</span> <span class="toc-text">基于特征的报文分类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%9A%84%E6%8A%A5%E6%96%87%E5%88%86%E7%B1%BB"><span class="toc-number">1.5.0.2.2.</span> <span class="toc-text">基于机器学习的报文分类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E6%B7%B7%E5%90%88%E6%96%B9%E5%BC%8F%E7%9A%84%E6%8A%A5%E6%96%87%E5%88%86%E7%B1%BB"><span class="toc-number">1.5.0.2.3.</span> <span class="toc-text">基于混合方式的报文分类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B7%E4%BD%93%E5%AE%9E%E6%96%BD%E6%96%B9%E6%A1%88"><span class="toc-number">1.5.0.2.4.</span> <span class="toc-text">具体实施方案</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%A6%E5%AE%BD%E3%80%81%E5%BB%B6%E8%BF%9F%E3%80%81%E4%B8%A2%E5%8C%85%E4%BB%BF%E7%9C%9F"><span class="toc-number">1.5.0.3.</span> <span class="toc-text">带宽、延迟、丢包仿真</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B8%A6%E5%AE%BD%E4%BB%BF%E7%9C%9F%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88"><span class="toc-number">1.5.0.3.1.</span> <span class="toc-text">带宽仿真技术方案</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BB%B6%E8%BF%9F%E4%BB%BF%E7%9C%9F%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88"><span class="toc-number">1.5.0.3.2.</span> <span class="toc-text">延迟仿真技术方案</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%A2%E5%8C%85%E4%BB%BF%E7%9C%9F%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88"><span class="toc-number">1.5.0.3.3.</span> <span class="toc-text">丢包仿真技术方案</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%81%E9%87%8F%E4%BB%BF%E7%9C%9F%E6%A8%A1%E5%9D%97"><span class="toc-number">1.6.</span> <span class="toc-text">流量仿真模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%81%E9%87%8F%E4%BA%A7%E7%94%9F%E6%9E%B6%E6%9E%84"><span class="toc-number">1.6.0.1.</span> <span class="toc-text">流量产生架构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9C%80%E6%B1%82"><span class="toc-number">1.6.0.2.</span> <span class="toc-text">需求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87"><span class="toc-number">1.6.0.3.</span> <span class="toc-text">目标</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%81%E9%87%8F%E7%89%B9%E6%80%A7"><span class="toc-number">1.6.0.4.</span> <span class="toc-text">流量特性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1"><span class="toc-number">1.6.0.5.</span> <span class="toc-text">系统设计</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%81%E9%87%8F%E7%94%9F%E6%88%90%E5%8E%9F%E7%90%86"><span class="toc-number">1.6.0.5.1.</span> <span class="toc-text">流量生成原理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%81%E9%87%8F%E7%94%9F%E6%88%90%E6%A1%86%E6%9E%B6"><span class="toc-number">1.6.0.5.2.</span> <span class="toc-text">流量生成框架</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E9%85%8D%E7%BD%AE"><span class="toc-number">1.6.0.5.3.</span> <span class="toc-text">方案配置</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Snort%E8%A7%84%E5%88%99%E8%A7%A3%E6%9E%90%E6%B5%81%E7%A8%8B"><span class="toc-number">1.6.0.5.4.</span> <span class="toc-text">Snort规则解析流程</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%88%AA%E5%9B%BE"><span class="toc-number">1.6.0.6.</span> <span class="toc-text">系统截图</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%99%BA%E8%83%BD%E6%B1%BD%E8%BD%A6%E7%BD%91%E7%BB%9C%E9%9D%B6%E5%9C%BA%E8%AF%95%E9%AA%8C%E6%94%AF%E6%92%91%E5%88%86%E7%B3%BB%E7%BB%9F"><span class="toc-number">2.</span> <span class="toc-text">智能汽车网络靶场试验支撑分系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97"><span class="toc-number">2.1.</span> <span class="toc-text">资源管理模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%AE%A1%E7%90%86"><span class="toc-number">2.1.0.1.</span> <span class="toc-text">虚拟机管理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BAACL%E9%85%8D%E7%BD%AE"><span class="toc-number">2.1.0.2.</span> <span class="toc-text">虚拟机ACL配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E9%83%A8%E7%BD%B2"><span class="toc-number">2.1.0.3.</span> <span class="toc-text">虚拟机部署</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%95%9C%E5%83%8F%E7%AE%A1%E7%90%86"><span class="toc-number">2.1.0.4.</span> <span class="toc-text">镜像管理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%B6%E5%9C%BA%E5%B7%A5%E7%A8%8B%E7%AE%A1%E7%90%86"><span class="toc-number">2.1.0.5.</span> <span class="toc-text">靶场工程管理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%95%E9%AA%8C%E5%9C%BA%E6%99%AF%E7%AE%A1%E7%90%86"><span class="toc-number">2.1.0.6.</span> <span class="toc-text">试验场景管理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97"><span class="toc-number">2.1.0.7.</span> <span class="toc-text">配置管理模块</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86"><span class="toc-number">2.1.0.8.</span> <span class="toc-text">学习资源管理</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%BB%B4%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97"><span class="toc-number">2.2.</span> <span class="toc-text">运维管理模块</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%99%BA%E8%83%BD%E6%B1%BD%E8%BD%A6%E7%BD%91%E7%BB%9C%E9%9D%B6%E5%9C%BA%E8%AF%95%E9%AA%8C%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86%E5%88%86%E7%B3%BB%E7%BB%9F"><span class="toc-number">3.</span> <span class="toc-text">智能汽车网络靶场试验配置管理分系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B1%BD%E8%BD%A6%E5%AE%89%E5%85%A8%E6%B5%8B%E8%AF%95%E6%A8%A1%E5%9D%97"><span class="toc-number">3.1.</span> <span class="toc-text">汽车安全测试模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E6%94%BB%E9%98%B2%E4%BB%BB%E5%8A%A1%E7%AE%A1%E7%90%86%E5%AD%90%E6%A8%A1%E5%9D%97"><span class="toc-number">3.1.0.1.</span> <span class="toc-text">安全攻防任务管理子模块</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%8B%E8%AF%84%E4%BB%BB%E5%8A%A1%E7%AE%A1%E7%90%86"><span class="toc-number">3.1.0.1.1.</span> <span class="toc-text">测评任务管理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E8%AE%A1%E5%88%92%E7%AE%A1%E7%90%86"><span class="toc-number">3.1.0.1.2.</span> <span class="toc-text">测试计划管理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E7%AE%A1%E7%90%86"><span class="toc-number">3.1.0.1.3.</span> <span class="toc-text">测试用例管理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E6%8A%A5%E5%91%8A%E7%AE%A1%E7%90%86"><span class="toc-number">3.1.0.1.4.</span> <span class="toc-text">测试报告管理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%8B%E8%AF%84%E5%9C%BA%E6%99%AF%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%9E%84%E5%BB%BA"><span class="toc-number">3.1.0.1.5.</span> <span class="toc-text">测评场景设计与构建</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE"><span class="toc-number">3.1.0.1.5.1.</span> <span class="toc-text">虚拟网络配置</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E8%8A%82%E7%82%B9%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="toc-number">3.1.0.1.5.2.</span> <span class="toc-text">虚拟节点的配置</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"><span class="toc-number">3.1.0.1.5.3.</span> <span class="toc-text">网络环境配置</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E9%85%8D%E7%BD%AE"><span class="toc-number">3.1.0.1.5.4.</span> <span class="toc-text">虚拟机配置</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E8%B7%AF%E7%94%B1%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="toc-number">3.1.0.1.5.5.</span> <span class="toc-text">虚拟路由的配置</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%8D%8F%E8%AE%AE%E6%A0%88%E8%8A%82%E7%82%B9%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="toc-number">3.1.0.1.5.6.</span> <span class="toc-text">协议栈节点的配置</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%8B%93%E6%89%91%E6%A8%A1%E6%9D%BF%E9%85%8D%E7%BD%AE"><span class="toc-number">3.1.0.1.5.7.</span> <span class="toc-text">拓扑模板配置</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%8B%E8%AF%84%E8%B5%84%E6%BA%90%E8%B0%83%E5%BA%A6"><span class="toc-number">3.1.0.1.6.</span> <span class="toc-text">测评资源调度</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B5%8B%E8%AF%84%E6%B5%81%E7%A8%8B%E7%BC%96%E6%8E%92%E5%AF%BC%E8%B0%83"><span class="toc-number">3.1.0.1.6.1.</span> <span class="toc-text">测评流程编排导调</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B5%8B%E8%AF%84%E8%AF%95%E9%AA%8C%E5%B9%B6%E8%A1%8C%E7%AE%A1%E7%90%86"><span class="toc-number">3.1.0.1.6.2.</span> <span class="toc-text">测评试验并行管理</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B5%8B%E8%AF%84%E8%AF%95%E9%AA%8C%E8%BF%90%E8%A1%8C%E7%AE%A1%E7%90%86"><span class="toc-number">3.1.0.1.6.3.</span> <span class="toc-text">测评试验运行管理</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B5%8B%E8%AF%84%E8%AF%95%E9%AA%8C%E8%BF%87%E7%A8%8B%E7%9B%91%E6%8E%A7"><span class="toc-number">3.1.0.1.6.4.</span> <span class="toc-text">测评试验过程监控</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B5%8B%E8%AF%84%E8%AF%95%E9%AA%8C%E6%94%BB%E9%98%B2%E4%BA%8B%E4%BB%B6"><span class="toc-number">3.1.0.1.6.5.</span> <span class="toc-text">测评试验攻防事件</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B5%8B%E8%AF%84%E8%AF%95%E9%AA%8C%E5%9B%9E%E6%94%BE"><span class="toc-number">3.1.0.1.6.6.</span> <span class="toc-text">测评试验回放</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E6%94%BB%E9%98%B2%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E5%AD%90%E6%A8%A1%E5%9D%97"><span class="toc-number">3.1.0.2.</span> <span class="toc-text">安全攻防资源管理子模块</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E5%BA%93%E7%AE%A1%E7%90%86"><span class="toc-number">3.1.0.2.1.</span> <span class="toc-text">知识库管理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%BC%8F%E6%B4%9E%E9%97%AD%E7%8E%AF%E7%AE%A1%E7%90%86"><span class="toc-number">3.1.0.2.2.</span> <span class="toc-text">漏洞闭环管理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7%E7%AE%A1%E7%90%86"><span class="toc-number">3.1.0.2.3.</span> <span class="toc-text">测试工具管理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E9%9D%B6%E6%A0%87%E7%AE%A1%E7%90%86"><span class="toc-number">3.1.0.2.4.</span> <span class="toc-text">测试靶标管理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A1%E6%A8%A1%E6%9D%BF%E7%AE%A1%E7%90%86"><span class="toc-number">3.1.0.2.5.</span> <span class="toc-text">任务模板管理</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B1%BD%E8%BD%A6%E5%AE%89%E5%85%A8%E6%BC%94%E7%BB%83%E6%A8%A1%E5%9D%97"><span class="toc-number">3.2.</span> <span class="toc-text">汽车安全演练模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E8%AE%BE%E8%AE%A1"><span class="toc-number">3.2.0.1.</span> <span class="toc-text">方案设计</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%94%BB%E9%98%B2%E6%BC%94%E7%BB%83%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.2.0.2.</span> <span class="toc-text">攻防演练类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BC%94%E7%BB%83%E5%9C%BA%E6%99%AF%E7%AE%A1%E7%90%86"><span class="toc-number">3.2.0.3.</span> <span class="toc-text">演练场景管理</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%BA%E6%99%AF%E5%89%8D%E9%85%8D%E7%BD%AE"><span class="toc-number">3.2.0.3.1.</span> <span class="toc-text">场景前配置</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%BC%94%E7%BB%83%E4%B8%AD%E7%AE%A1%E7%90%86"><span class="toc-number">3.2.0.3.2.</span> <span class="toc-text">演练中管理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%BC%94%E7%BB%83%E5%90%8E%E5%BD%92%E6%A1%A3"><span class="toc-number">3.2.0.3.3.</span> <span class="toc-text">演练后归档</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B1%BD%E8%BD%A6%E5%AE%89%E5%85%A8%E4%BC%97%E6%B5%8B%E6%A8%A1%E5%9D%97"><span class="toc-number">3.3.</span> <span class="toc-text">汽车安全众测模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BC%8F%E6%B4%9E%E8%AF%84%E4%BC%B0"><span class="toc-number">3.3.0.1.</span> <span class="toc-text">漏洞评估</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BC%97%E6%B5%8B"><span class="toc-number">3.3.0.1.1.</span> <span class="toc-text">众测</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B0%E6%B5%8B"><span class="toc-number">3.3.0.1.2.</span> <span class="toc-text">新测</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%93%E6%B5%8B"><span class="toc-number">3.3.0.1.3.</span> <span class="toc-text">专测</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B8%B8%E6%B5%8B"><span class="toc-number">3.3.0.1.4.</span> <span class="toc-text">常测</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%95%E9%AA%8C%E5%9C%BA%E6%99%AF%E8%AE%BE%E7%BD%AE%E6%A8%A1%E5%9D%97"><span class="toc-number">3.4.</span> <span class="toc-text">试验场景设置模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E8%AE%BE%E8%AE%A1-1"><span class="toc-number">3.4.0.1.</span> <span class="toc-text">方案设计</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%95%E9%AA%8C%E6%AD%A5%E9%AA%A4%E9%85%8D%E7%BD%AE"><span class="toc-number">3.4.0.2.</span> <span class="toc-text">试验步骤配置</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%86%99%E5%85%A5%E4%BB%BB%E5%8A%A1"><span class="toc-number">3.4.0.2.1.</span> <span class="toc-text">文件写入任务</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96%E4%BB%BB%E5%8A%A1"><span class="toc-number">3.4.0.2.2.</span> <span class="toc-text">文件读取任务</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8B%93%E6%89%91%E7%BB%98%E5%88%B6"><span class="toc-number">3.4.0.2.3.</span> <span class="toc-text">拓扑绘制</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%AF%E8%A7%86%E5%8C%96%E7%BC%96%E8%BE%91%E6%A8%A1%E5%9D%97"><span class="toc-number">3.4.0.2.4.</span> <span class="toc-text">可视化编辑模块</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%95%E9%AA%8C%E5%AF%BC%E8%B0%83%E6%A8%A1%E5%9D%97"><span class="toc-number">3.5.</span> <span class="toc-text">试验导调模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E8%AE%BE%E8%AE%A1-2"><span class="toc-number">3.5.0.1.</span> <span class="toc-text">方案设计</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E7%AE%80%E4%BB%8B"><span class="toc-number">3.5.0.2.</span> <span class="toc-text">方案简介</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%94%BB%E9%98%B2%E4%B8%8E%E6%B1%BD%E8%BD%A6%E6%B5%8B%E8%AF%84%E6%95%99%E5%AD%A6%E5%9F%B9%E8%AE%AD%E6%A8%A1%E5%9D%97"><span class="toc-number">3.6.</span> <span class="toc-text">网络安全攻防与汽车测评教学培训模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E8%AE%BE%E8%AE%A1-3"><span class="toc-number">3.6.0.1.</span> <span class="toc-text">方案设计</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E7%AE%80%E4%BB%8B-1"><span class="toc-number">3.6.0.2.</span> <span class="toc-text">方案简介</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AD%A6%E6%A8%A1%E5%9D%97"><span class="toc-number">3.6.0.3.</span> <span class="toc-text">自学模块</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%87%AA%E5%AD%A6%E7%BB%83%E4%B9%A0%E6%B5%81%E7%A8%8B"><span class="toc-number">3.6.0.3.1.</span> <span class="toc-text">自学练习流程</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E6%A3%80%E7%B4%A2%E5%B1%95%E7%A4%BA"><span class="toc-number">3.6.0.3.2.</span> <span class="toc-text">实验检索展示</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E6%93%8D%E4%BD%9C%E8%BF%9B%E8%A1%8C"><span class="toc-number">3.6.0.3.3.</span> <span class="toc-text">实验操作进行</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E8%AE%B0%E5%BD%95%E5%88%86%E6%9E%90"><span class="toc-number">3.6.0.3.4.</span> <span class="toc-text">实验记录分析</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%99%E5%AD%A6%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.6.0.4.</span> <span class="toc-text">教学模式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8E%92%E8%AF%BE%E6%8E%88%E8%AF%BE%E6%B5%81%E7%A8%8B"><span class="toc-number">3.6.0.4.1.</span> <span class="toc-text">排课授课流程</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1"><span class="toc-number">3.6.0.4.2.</span> <span class="toc-text">课程设计</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8E%92%E8%AF%BE%E6%8E%88%E8%AF%BE"><span class="toc-number">3.6.0.4.3.</span> <span class="toc-text">排课授课</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%88%87%E6%8D%A2"><span class="toc-number">3.6.0.4.4.</span> <span class="toc-text">模式切换</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%80%E8%83%BD%E8%80%83%E8%AF%95"><span class="toc-number">3.6.0.5.</span> <span class="toc-text">技能考试</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%80%83%E8%AF%95%E6%B5%81%E7%A8%8B"><span class="toc-number">3.6.0.5.1.</span> <span class="toc-text">考试流程</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AF%95%E5%8D%B7%E5%88%B6%E5%AE%9A"><span class="toc-number">3.6.0.5.2.</span> <span class="toc-text">试卷制定</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%80%83%E8%AF%95%E8%AE%A1%E5%88%92"><span class="toc-number">3.6.0.5.3.</span> <span class="toc-text">考试计划</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%86%E6%95%B0%E7%BB%9F%E8%AE%A1"><span class="toc-number">3.6.0.5.4.</span> <span class="toc-text">分数统计</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%80%83%E8%AF%95%E6%8A%A5%E5%91%8A"><span class="toc-number">3.6.0.5.5.</span> <span class="toc-text">考试报告</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%94%BB%E9%98%B2%E4%B8%8E%E6%B1%BD%E8%BD%A6%E6%B5%8B%E8%AF%84%E7%AB%9E%E8%B5%9B%E6%A8%A1%E5%9D%97"><span class="toc-number">3.7.</span> <span class="toc-text">网络安全攻防与汽车测评竞赛模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E8%AE%BE%E8%AE%A1-4"><span class="toc-number">3.7.0.1.</span> <span class="toc-text">方案设计</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E7%AE%80%E4%BB%8B-2"><span class="toc-number">3.7.0.2.</span> <span class="toc-text">方案简介</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%99%BA%E8%83%BD%E6%B1%BD%E8%BD%A6%E7%BD%91%E7%BB%9C%E9%9D%B6%E5%9C%BA%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%E5%88%86%E7%B3%BB%E7%BB%9F"><span class="toc-number">4.</span> <span class="toc-text">智能汽车网络靶场数据采集分系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8A%82%E7%82%B9%E7%8A%B6%E6%80%81%E9%87%87%E9%9B%86%E6%A8%A1%E5%9D%97"><span class="toc-number">4.1.</span> <span class="toc-text">节点状态采集模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E8%AE%BE%E8%AE%A1-5"><span class="toc-number">4.1.0.1.</span> <span class="toc-text">方案设计</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0"><span class="toc-number">4.1.0.1.1.</span> <span class="toc-text">系统概述</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%B5%9B%E4%BA%8B%E6%B4%BB%E5%8A%A8%E7%BB%84%E7%BB%87%E4%B8%8E%E7%AE%A1%E7%90%86"><span class="toc-number">4.1.0.1.2.</span> <span class="toc-text">赛事活动组织与管理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%B5%9B%E9%A2%98%E7%8E%AF%E5%A2%83%E4%B8%8E%E8%B5%9B%E4%BA%8B%E7%AE%A1%E7%90%86"><span class="toc-number">4.1.0.1.3.</span> <span class="toc-text">赛题环境与赛事管理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%A7%AF%E5%88%86%E4%B8%8E%E6%BF%80%E5%8A%B1%E6%9C%BA%E5%88%B6"><span class="toc-number">4.1.0.1.4.</span> <span class="toc-text">积分与激励机制</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%9B%B2%E6%89%93%E4%B8%8E%E5%85%AC%E5%91%8A%E7%AE%A1%E7%90%86"><span class="toc-number">4.1.0.1.5.</span> <span class="toc-text">盲打与公告管理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%94%BB%E9%98%B2%E8%B5%9B%E7%8E%AF%E5%A2%83%E4%B8%8E%E9%98%9F%E4%BC%8D%E7%AE%A1%E7%90%86"><span class="toc-number">4.1.0.1.6.</span> <span class="toc-text">攻防赛环境与队伍管理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8E%A5%E5%85%A5%E4%B8%8E%E6%8A%A5%E5%91%8A"><span class="toc-number">4.1.0.1.7.</span> <span class="toc-text">接入与报告</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%98%B2%E5%BE%A1%E4%B8%8E%E6%94%BB%E5%87%BB%E5%BE%97%E5%88%86"><span class="toc-number">4.1.0.1.8.</span> <span class="toc-text">防御与攻击得分</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E4%B8%8E%E7%9B%91%E6%8E%A7%E7%AE%A1%E7%90%86"><span class="toc-number">4.1.0.1.9.</span> <span class="toc-text">环境与监控管理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%B5%9B%E5%90%8E%E7%AE%A1%E7%90%86"><span class="toc-number">4.1.0.1.10.</span> <span class="toc-text">赛后管理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E8%AE%BE%E8%AE%A1"><span class="toc-number">4.1.0.1.11.</span> <span class="toc-text">性能设计</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E7%AE%80%E4%BB%8B-3"><span class="toc-number">4.1.0.2.</span> <span class="toc-text">方案简介</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E9%93%BE%E8%B7%AF%E9%87%87%E9%9B%86%E6%A8%A1%E5%9D%97"><span class="toc-number">4.2.</span> <span class="toc-text">网络链路采集模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E8%AE%BE%E8%AE%A1-6"><span class="toc-number">4.2.0.1.</span> <span class="toc-text">方案设计</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%A6%81"><span class="toc-number">4.2.0.1.1.</span> <span class="toc-text">系统概要</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%81%E9%87%8F%E9%87%87%E9%9B%86%E4%B8%8E%E4%BC%A0%E8%BE%93"><span class="toc-number">4.2.0.1.2.</span> <span class="toc-text">流量采集与传输</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%81%E9%87%8F%E5%AD%98%E5%82%A8%E4%B8%8E%E5%88%86%E6%9E%90"><span class="toc-number">4.2.0.1.3.</span> <span class="toc-text">流量存储与分析</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E8%AE%BE%E8%AE%A1-1"><span class="toc-number">4.2.0.1.4.</span> <span class="toc-text">性能设计</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E7%BB%86%E8%8A%82"><span class="toc-number">4.2.0.1.5.</span> <span class="toc-text">系统设计细节</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E7%AE%80%E4%BB%8B-4"><span class="toc-number">4.2.0.2.</span> <span class="toc-text">方案简介</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E5%85%83%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E7%9F%A5%E8%AF%86%E5%BA%93%E6%A8%A1%E5%9D%97"><span class="toc-number">4.3.</span> <span class="toc-text">多元网络安全知识库模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E8%AE%BE%E8%AE%A1-7"><span class="toc-number">4.3.0.1.</span> <span class="toc-text">方案设计</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%A7%88"><span class="toc-number">4.3.0.1.1.</span> <span class="toc-text">系统概览</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD%E7%BB%86%E5%8C%96"><span class="toc-number">4.3.0.1.2.</span> <span class="toc-text">功能细化</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E8%AE%BE%E8%AE%A1-2"><span class="toc-number">4.3.0.1.3.</span> <span class="toc-text">性能设计</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8A%80%E6%9C%AF%E5%AE%9E%E7%8E%B0"><span class="toc-number">4.3.0.1.4.</span> <span class="toc-text">技术实现</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84"><span class="toc-number">4.3.0.1.5.</span> <span class="toc-text">系统架构</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E7%AE%80%E4%BB%8B-5"><span class="toc-number">4.3.0.2.</span> <span class="toc-text">方案简介</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E6%94%BB%E5%87%BB%E7%9F%A5%E8%AF%86%E5%8C%B9%E9%85%8D%E6%B5%81%E8%AE%A1%E7%AE%97%E6%A8%A1%E5%9D%97"><span class="toc-number">4.4.</span> <span class="toc-text">复杂攻击知识匹配流计算模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E8%AE%BE%E8%AE%A1-8"><span class="toc-number">4.4.0.1.</span> <span class="toc-text">方案设计</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BC%95%E8%A8%80"><span class="toc-number">4.4.0.1.1.</span> <span class="toc-text">引言</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E8%A6%81%E6%B1%82%E6%A6%82%E8%BF%B0"><span class="toc-number">4.4.0.1.2.</span> <span class="toc-text">系统设计要求概述</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%A7%E8%83%BD"><span class="toc-number">4.4.0.1.3.</span> <span class="toc-text">性能</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E8%AF%A6%E8%BF%B0"><span class="toc-number">4.4.0.1.4.</span> <span class="toc-text">系统设计详述</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8A%80%E6%9C%AF%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%A1%88"><span class="toc-number">4.4.0.1.5.</span> <span class="toc-text">技术实现方案</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E7%AE%80%E4%BB%8B-6"><span class="toc-number">4.4.0.2.</span> <span class="toc-text">方案简介</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E6%A8%A1%E6%80%81%E7%BD%91%E7%BB%9C%E4%BB%BF%E7%9C%9F%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A8%A1%E5%9D%97"><span class="toc-number">4.5.</span> <span class="toc-text">多模态网络仿真数据库模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E8%AE%BE%E8%AE%A1-9"><span class="toc-number">4.5.0.1.</span> <span class="toc-text">方案设计</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BC%95%E8%A8%80-1"><span class="toc-number">4.5.0.1.1.</span> <span class="toc-text">引言</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E8%A6%81%E6%B1%82%E6%A6%82%E8%BF%B0-1"><span class="toc-number">4.5.0.1.2.</span> <span class="toc-text">系统设计要求概述</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8A%80%E6%9C%AF%E5%AE%9E%E6%96%BD%E6%96%B9%E6%A1%88"><span class="toc-number">4.5.0.1.3.</span> <span class="toc-text">技术实施方案</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E7%AE%80%E4%BB%8B-7"><span class="toc-number">4.5.0.2.</span> <span class="toc-text">方案简介</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%B6%E5%9C%BA%E4%BF%A1%E6%81%AF%E5%BA%93%E6%A8%A1%E5%9D%97"><span class="toc-number">4.6.</span> <span class="toc-text">靶场信息库模块</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BC%95%E8%A8%80-2"><span class="toc-number">4.6.0.0.1.</span> <span class="toc-text">引言</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E8%A6%81%E6%B1%82%E6%A6%82%E8%BF%B0-2"><span class="toc-number">4.6.0.0.2.</span> <span class="toc-text">系统设计要求概述</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E8%AF%A6%E8%BF%B0-1"><span class="toc-number">4.6.0.0.3.</span> <span class="toc-text">系统设计详述</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8A%80%E6%9C%AF%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%A1%88-1"><span class="toc-number">4.6.0.0.4.</span> <span class="toc-text">技术实现方案</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%95%E9%AA%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A8%A1%E5%9D%97"><span class="toc-number">4.7.</span> <span class="toc-text">试验数据库模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E8%AE%BE%E8%AE%A1-10"><span class="toc-number">4.7.0.1.</span> <span class="toc-text">方案设计</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BC%95%E8%A8%80-3"><span class="toc-number">4.7.0.1.1.</span> <span class="toc-text">引言</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E8%A6%81%E6%B1%82%E6%A6%82%E8%BF%B0-3"><span class="toc-number">4.7.0.1.2.</span> <span class="toc-text">系统设计要求概述</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%A7%E8%83%BD-1"><span class="toc-number">4.7.0.1.3.</span> <span class="toc-text">性能</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E8%AF%A6%E8%BF%B0-2"><span class="toc-number">4.7.0.1.4.</span> <span class="toc-text">系统设计详述</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8A%80%E6%9C%AF%E5%AE%9E%E6%96%BD%E6%96%B9%E6%A1%88-1"><span class="toc-number">4.7.0.1.5.</span> <span class="toc-text">技术实施方案</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E7%AE%80%E4%BB%8B-8"><span class="toc-number">4.7.0.2.</span> <span class="toc-text">方案简介</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%A7%E5%93%81%E5%8A%9F%E8%83%BD%E5%8F%8A%E6%80%A7%E8%83%BD"><span class="toc-number">4.7.0.2.1.</span> <span class="toc-text">产品功能及性能</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BA%A7%E5%93%81%E5%8A%9F%E8%83%BD"><span class="toc-number">4.7.0.2.1.1.</span> <span class="toc-text">产品功能</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BA%A7%E5%93%81%E6%80%A7%E8%83%BD"><span class="toc-number">4.7.0.2.1.2.</span> <span class="toc-text">产品性能</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%A7%E5%93%81%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88"><span class="toc-number">4.7.0.2.2.</span> <span class="toc-text">产品技术方案</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%9B%B6%E5%B1%82%E8%AE%BE%E8%AE%A1"><span class="toc-number">4.7.0.2.2.1.</span> <span class="toc-text">零层设计</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%80%E5%B1%82%E8%AE%BE%E8%AE%A1"><span class="toc-number">4.7.0.2.2.2.</span> <span class="toc-text">一层设计</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%AF%A6%E7%BB%86%E8%AE%BE%E8%AE%A1"><span class="toc-number">4.7.0.2.2.3.</span> <span class="toc-text">详细设计</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%99%BA%E8%83%BD%E6%B1%BD%E8%BD%A6%E7%BD%91%E7%BB%9C%E9%9D%B6%E5%9C%BA%E6%80%81%E5%8A%BF%E5%88%86%E6%9E%90%E5%88%86%E7%B3%BB%E7%BB%9F"><span class="toc-number">5.</span> <span class="toc-text">智能汽车网络靶场态势分析分系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E4%BD%93%E6%A6%82%E8%BF%B0"><span class="toc-number">5.1.</span> <span class="toc-text">总体概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84-1"><span class="toc-number">5.2.</span> <span class="toc-text">系统架构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%81%E5%8A%BF%E5%88%86%E6%9E%90%E6%8E%A7%E5%88%B6%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97"><span class="toc-number">5.3.</span> <span class="toc-text">态势分析控制管理模块</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">5.3.0.0.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD"><span class="toc-number">5.3.0.0.2.</span> <span class="toc-text">功能</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%A7%E8%83%BD-2"><span class="toc-number">5.3.0.0.3.</span> <span class="toc-text">性能</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E7%AE%80%E4%BB%8B-9"><span class="toc-number">5.3.0.1.</span> <span class="toc-text">方案简介</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E5%9C%BA%E6%99%AF%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E6%A8%A1%E5%9D%97"><span class="toc-number">5.4.</span> <span class="toc-text">网络安全场景知识图谱模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E8%AE%BE%E8%AE%A1-11"><span class="toc-number">5.4.0.1.</span> <span class="toc-text">方案设计</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E7%AE%80%E4%BB%8B-10"><span class="toc-number">5.4.1.</span> <span class="toc-text">方案简介</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%94%BB%E5%87%BB%E6%A3%80%E6%B5%8B%E7%A0%94%E5%88%A4%E6%A8%A1%E5%9D%97"><span class="toc-number">5.5.</span> <span class="toc-text">攻击检测研判模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E8%AE%BE%E8%AE%A1-12"><span class="toc-number">5.5.1.</span> <span class="toc-text">方案设计</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-1"><span class="toc-number">5.5.1.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD%E5%93%8D%E5%BA%94"><span class="toc-number">5.5.1.2.</span> <span class="toc-text">功能响应</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E5%93%8D%E5%BA%94"><span class="toc-number">5.5.1.3.</span> <span class="toc-text">性能响应</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E7%AE%80%E4%BB%8B-11"><span class="toc-number">5.5.2.</span> <span class="toc-text">方案简介</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%81%E5%8A%BF%E5%8F%AF%E8%A7%86%E5%8C%96%E5%B1%95%E7%A4%BA%E6%A8%A1%E5%9D%97"><span class="toc-number">5.6.</span> <span class="toc-text">态势可视化展示模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E8%AE%BE%E8%AE%A1-13"><span class="toc-number">5.6.0.1.</span> <span class="toc-text">方案设计</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E6%A6%82%E8%BF%B0"><span class="toc-number">5.6.0.1.1.</span> <span class="toc-text">项目概述</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD-1"><span class="toc-number">5.6.0.1.2.</span> <span class="toc-text">功能</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%A7%E8%83%BD-3"><span class="toc-number">5.6.0.1.3.</span> <span class="toc-text">性能</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E7%AE%80%E4%BB%8B-12"><span class="toc-number">5.6.0.2.</span> <span class="toc-text">方案简介</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E5%88%86%E6%9E%90%E8%AF%84%E4%BC%B0%E6%A8%A1%E5%9D%97"><span class="toc-number">5.7.</span> <span class="toc-text">安全分析评估模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E8%83%8C%E6%99%AF"><span class="toc-number">5.7.0.1.</span> <span class="toc-text">项目背景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD-2"><span class="toc-number">5.7.0.2.</span> <span class="toc-text">功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%A7%E8%83%BD-4"><span class="toc-number">5.7.0.3.</span> <span class="toc-text">性能</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E7%AE%80%E4%BB%8B-13"><span class="toc-number">5.7.1.</span> <span class="toc-text">方案简介</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B5%84%E4%BA%A7%E6%BC%8F%E6%B4%9E%E6%8E%A2%E6%B5%8B%E6%A8%A1%E5%9D%97"><span class="toc-number">5.8.</span> <span class="toc-text">资产漏洞探测模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E6%A6%82%E8%BF%B0-1"><span class="toc-number">5.8.0.1.</span> <span class="toc-text">项目概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD-3"><span class="toc-number">5.8.0.2.</span> <span class="toc-text">功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%A7%E8%83%BD-5"><span class="toc-number">5.8.0.3.</span> <span class="toc-text">性能</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E7%AE%80%E4%BB%8B-14"><span class="toc-number">5.8.1.</span> <span class="toc-text">方案简介</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E4%BA%8B%E4%BB%B6%E6%A3%80%E6%B5%8B%E6%A8%A1%E5%9D%97"><span class="toc-number">5.9.</span> <span class="toc-text">安全事件检测模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E7%AE%80%E4%BB%8B-15"><span class="toc-number">5.9.1.</span> <span class="toc-text">方案简介</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E6%95%B0%E6%8D%AE%E8%9E%8D%E5%90%88"><span class="toc-number">5.10.</span> <span class="toc-text">安全数据融合</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E8%83%8C%E6%99%AF-1"><span class="toc-number">5.10.0.1.</span> <span class="toc-text">项目背景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD-4"><span class="toc-number">5.10.0.2.</span> <span class="toc-text">功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%A7%E8%83%BD-6"><span class="toc-number">5.10.0.3.</span> <span class="toc-text">性能</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E7%AE%80%E4%BB%8B-16"><span class="toc-number">5.10.1.</span> <span class="toc-text">方案简介</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%8A%9F%E8%83%BD%E6%88%AA%E5%9B%BE"><span class="toc-number">5.11.</span> <span class="toc-text">关键功能截图</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%99%BA%E8%83%BD%E6%B1%BD%E8%BD%A6%E7%BD%91%E7%BB%9C%E9%9D%B6%E5%9C%BA%E5%88%86%E5%B8%83%E5%BC%8F%E9%80%82%E9%85%8D%E5%88%86%E7%B3%BB%E7%BB%9F"><span class="toc-number">6.</span> <span class="toc-text">智能汽车网络靶场分布式适配分系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F%E8%AF%95%E9%AA%8C%E7%AE%A1%E6%8E%A7%E6%A8%A1%E5%9D%97"><span class="toc-number">6.1.</span> <span class="toc-text">分布式试验管控模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E8%83%8C%E6%99%AF-2"><span class="toc-number">6.1.0.1.</span> <span class="toc-text">项目背景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD-5"><span class="toc-number">6.1.0.2.</span> <span class="toc-text">功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84-2"><span class="toc-number">6.1.0.3.</span> <span class="toc-text">系统架构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%80%E6%9C%AF%E5%AE%9E%E6%96%BD"><span class="toc-number">6.1.0.4.</span> <span class="toc-text">技术实施</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E7%AE%80%E4%BB%8B-17"><span class="toc-number">6.1.1.</span> <span class="toc-text">方案简介</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F%E7%9B%AE%E6%A0%87%E7%BD%91%E7%BB%9C%E4%BA%92%E8%81%94%E6%A8%A1%E5%9D%97"><span class="toc-number">6.2.</span> <span class="toc-text">分布式目标网络互联模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E8%83%8C%E6%99%AF-3"><span class="toc-number">6.2.0.1.</span> <span class="toc-text">项目背景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD-6"><span class="toc-number">6.2.0.2.</span> <span class="toc-text">功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84-3"><span class="toc-number">6.2.0.3.</span> <span class="toc-text">系统架构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%80%E6%9C%AF%E5%AE%9E%E6%96%BD-1"><span class="toc-number">6.2.0.4.</span> <span class="toc-text">技术实施</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E7%AE%80%E4%BB%8B-18"><span class="toc-number">6.2.1.</span> <span class="toc-text">方案简介</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F%E6%80%81%E5%8A%BF%E5%88%86%E6%9E%90%E4%BA%92%E8%81%94%E6%A8%A1%E5%9D%97"><span class="toc-number">6.3.</span> <span class="toc-text">分布式态势分析互联模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E8%AE%BE%E8%AE%A1-14"><span class="toc-number">6.3.1.</span> <span class="toc-text">方案设计</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E8%83%8C%E6%99%AF-4"><span class="toc-number">6.3.1.1.</span> <span class="toc-text">项目背景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD-7"><span class="toc-number">6.3.1.2.</span> <span class="toc-text">功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84-4"><span class="toc-number">6.3.1.3.</span> <span class="toc-text">系统架构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%80%E6%9C%AF%E5%AE%9E%E6%96%BD-2"><span class="toc-number">6.3.1.4.</span> <span class="toc-text">技术实施</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E7%AE%80%E4%BB%8B-19"><span class="toc-number">6.3.2.</span> <span class="toc-text">方案简介</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%81%94%E9%82%A6%E4%BA%92%E8%81%94%E6%A8%A1%E5%9D%97"><span class="toc-number">6.4.</span> <span class="toc-text">联邦互联模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E8%AE%BE%E8%AE%A1-15"><span class="toc-number">6.4.1.</span> <span class="toc-text">方案设计</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E8%83%8C%E6%99%AF-5"><span class="toc-number">6.4.1.1.</span> <span class="toc-text">项目背景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD-8"><span class="toc-number">6.4.1.2.</span> <span class="toc-text">功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%A7%E8%83%BD-7"><span class="toc-number">6.4.1.3.</span> <span class="toc-text">性能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%80%E6%9C%AF%E5%AE%9E%E6%96%BD-3"><span class="toc-number">6.4.1.4.</span> <span class="toc-text">技术实施</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E7%AE%80%E4%BB%8B-20"><span class="toc-number">6.4.2.</span> <span class="toc-text">方案简介</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%99%BA%E8%83%BD%E6%B1%BD%E8%BD%A6%E7%BD%91%E7%BB%9C%E9%9D%B6%E5%9C%BA%E5%AE%89%E5%85%A8%E7%89%B9%E5%BE%81%E9%87%87%E9%9B%86%E8%AE%BE%E5%A4%87"><span class="toc-number">7.</span> <span class="toc-text">智能汽车网络靶场安全特征采集设备</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E4%BD%93%E6%A6%82%E8%BF%B0-1"><span class="toc-number">7.1.</span> <span class="toc-text">总体概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%B6%E5%9C%BA%E5%AE%89%E5%85%A8%E7%89%B9%E5%BE%81%E9%87%87%E9%9B%86%E8%AE%BE%E5%A4%87"><span class="toc-number">7.2.</span> <span class="toc-text">靶场安全特征采集设备</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%87%E9%9B%86%E6%95%B0%E6%8D%AE%E6%B5%81%E6%99%BA%E8%83%BD%E5%88%86%E5%8F%91%E8%AE%BE%E5%A4%87"><span class="toc-number">7.2.1.</span> <span class="toc-text">采集数据流智能分发设备</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88"><span class="toc-number">7.2.1.1.</span> <span class="toc-text">方案</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%B6%E5%9C%BA%E5%AE%9A%E5%88%B6%E5%85%A8%E6%B5%81%E9%87%8F%E5%A8%81%E8%83%81%E6%A3%80%E6%B5%8B"><span class="toc-number">7.2.2.</span> <span class="toc-text">靶场定制全流量威胁检测</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E8%AE%BE%E8%AE%A1-16"><span class="toc-number">7.2.2.1.</span> <span class="toc-text">方案设计</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E8%83%8C%E6%99%AF-6"><span class="toc-number">7.2.2.1.1.</span> <span class="toc-text">项目背景</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD-9"><span class="toc-number">7.2.2.1.2.</span> <span class="toc-text">功能</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84-5"><span class="toc-number">7.2.2.1.3.</span> <span class="toc-text">系统架构</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8A%80%E6%9C%AF%E5%AE%9E%E6%96%BD-4"><span class="toc-number">7.2.2.1.4.</span> <span class="toc-text">技术实施</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E7%AE%80%E4%BB%8B-21"><span class="toc-number">7.2.2.2.</span> <span class="toc-text">方案简介</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%B6%E5%9C%BA%E5%AE%9A%E5%88%B6%E5%BA%94%E7%94%A8%E5%8D%8F%E8%AE%AE%E5%A8%81%E8%83%81%E7%89%B9%E5%BE%81%E6%A3%80%E6%B5%8B"><span class="toc-number">7.2.3.</span> <span class="toc-text">靶场定制应用协议威胁特征检测</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88-1"><span class="toc-number">7.2.3.1.</span> <span class="toc-text">方案</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%B6%E5%9C%BA%E5%AE%9A%E5%88%B6%E5%A4%9A%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%BC%82%E5%B8%B8%E7%89%B9%E5%BE%81%E6%A3%80%E6%B5%8B"><span class="toc-number">7.2.4.</span> <span class="toc-text">靶场定制多层协议异常特征检测</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88-2"><span class="toc-number">7.2.4.1.</span> <span class="toc-text">方案</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%B6%E5%9C%BA%E5%AE%9A%E5%88%B6%E6%BC%8F%E6%B4%9E%E7%89%B9%E5%BE%81%E9%87%87%E9%9B%86"><span class="toc-number">7.2.5.</span> <span class="toc-text">靶场定制漏洞特征采集</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%A1%88-3"><span class="toc-number">7.2.5.1.</span> <span class="toc-text">方案</span></a></li></ol></li></ol></li></ol></li></ol></div></div></div><header class="post-bg" id="page-header" style="background-image: url(https://focu5.oss-accelerate.aliyuncs.com/blog/20200927102719.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Focu$ on yourself.</a></span><span id="menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tages</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">国利网安靶场基础平台技术白皮书</div></div><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-05-09T16:00:00.000Z" title="发表于 2022-05-10 00:00:00">2022-05-10</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-05-09T16:00:00.000Z" title="更新于 2022-05-10 00:00:00">2022-05-10</time></span></div><div class="meta-secondline"> </div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><p><strong>国利网安靶场基础平台技术白皮书</strong></p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-accelerate.aliyuncs.com/blog/20231227023740.png"></p>
<p>浙江国利网安科技有限公司</p>
<p>目 录</p>
<p>1 智能汽车网络靶场目标网络管理分系统 1</p>
<p>1.1 虚拟节点生成模块 1</p>
<p>1.2 目标网络调度模块 17</p>
<p>1.3 目标网络管理模块 21</p>
<p>1.4 虚实互联管理模块 25</p>
<p>1.5 虚拟网络支撑模块 30</p>
<p>1.6 流量仿真模块 41</p>
<p>2 智能汽车网络靶场试验支撑分系统 51</p>
<p>2.1 资源管理模块 54</p>
<p>2.2 运维管理模块 74</p>
<p>3 智能汽车网络靶场试验配置管理分系统 76</p>
<p>3.1 汽车安全测试模块 76</p>
<p>3.2 汽车安全演练模块 107</p>
<p>3.3 汽车安全众测模块 115</p>
<p>3.4 试验场景设置模块 117</p>
<p>3.5 试验导调模块 129</p>
<p>3.6 网络安全攻防与汽车测评教学培训模块 135</p>
<p>3.7 网络安全攻防与汽车测评竞赛模块 145</p>
<p>4 智能汽车网络靶场数据采集分系统 150</p>
<p>4.1 节点状态采集模块 150</p>
<p>4.2 网络链路采集模块 156</p>
<p>4.3 多元网络安全知识库模块 162</p>
<p>4.4 复杂攻击知识匹配流计算模块 167</p>
<p>4.5 多模态网络仿真数据库模块 170</p>
<p>4.6 靶场信息库模块 173</p>
<p>4.7 试验数据库模块 177</p>
<p>5 智能汽车网络靶场态势分析分系统 195</p>
<p>5.1 总体概述 195</p>
<p>5.2 系统架构 196</p>
<p>5.3 态势分析控制管理模块 197</p>
<p>5.4 网络安全场景知识图谱模块 200</p>
<p>5.4.2 方案简介 203</p>
<p>5.5 攻击检测研判模块 208</p>
<p>5.5.1 方案设计 210</p>
<p>5.5.2 方案简介 212</p>
<p>5.6 态势可视化展示模块 213</p>
<p>5.7 安全分析评估模块 219</p>
<p>5.7.2 方案简介 221</p>
<p>5.8 资产漏洞探测模块 223</p>
<p>5.8.2 方案简介 225</p>
<p>5.9 安全事件检测模块 227</p>
<p>5.9.1 方案简介 228</p>
<p>5.10 安全数据融合 230</p>
<p>5.10.2 方案简介 231</p>
<p>5.11 关键功能截图 234</p>
<p>6 智能汽车网络靶场分布式适配分系统 238</p>
<p>6.1 分布式试验管控模块 238</p>
<p>6.1.2 方案简介 240</p>
<p>6.2 分布式目标网络互联模块 241</p>
<p>6.2.2 方案简介 243</p>
<p>6.3 分布式态势分析互联模块 243</p>
<p>6.3.1 方案设计 244</p>
<p>6.3.2 方案简介 245</p>
<p>6.4 联邦互联模块 250</p>
<p>6.4.1 方案设计 250</p>
<p>6.4.2 方案简介 252</p>
<p>7 智能汽车网络靶场安全特征采集设备 254</p>
<p>7.1 总体概述 254</p>
<p>7.2 靶场安全特征采集设备 254</p>
<p>7.2.1 采集数据流智能分发设备 255</p>
<p>7.2.2 靶场定制全流量威胁检测 256</p>
<p>7.2.3 靶场定制应用协议威胁特征检测 268</p>
<p>7.2.4 靶场定制多层协议异常特征检测 270</p>
<p>7.2.5 靶场定制漏洞特征采集 271</p>
<h1 id="智能汽车网络靶场目标网络管理分系统"><a href="#智能汽车网络靶场目标网络管理分系统" class="headerlink" title="智能汽车网络靶场目标网络管理分系统"></a>智能汽车网络靶场目标网络管理分系统</h1><h2 id="虚拟节点生成模块"><a href="#虚拟节点生成模块" class="headerlink" title="虚拟节点生成模块"></a>虚拟节点生成模块</h2><ul>
<li>提供仿真环境中常规IT设备的虚拟化，包括服务器节点、客户端节点、二层交换、三层交换、动态路由、虚拟安全设备节点等不同功能类型节点的生成，支持常见网络和安全设备，包括路由器、防火墙、IDS、WAF等，提供产品功能截图证明；</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-accelerate.aliyuncs.com/blog/20231227023752.png" alt="1703330319004"></p>
<p>本系统为用户提供了一个仿真环境，用于生成和管理包括服务器节点、客户端节点、二层交换节点、三层交换节点、动态路由节点及各类虚拟安全设备节点在内的常规IT设备虚拟化服务。该仿真环境可以模拟多种不同功能类型的节点，从而满足用户对于复杂网络构建和安全测试的需求。</p>
<p>此仿真环境支持包括路由器、防火墙、入侵检测系统（IDS）、Web应用防火墙（WAF）在内的常见网络和安全设备的虚拟化和配置。仿真环境内的这些虚拟化设备旨在提供与实体设备相似的网络安全功能和网络管理功能，用户通过仿真操作可以在无需实物设备的情况下测试网络设计方案和安全防护策略。</p>
<ul>
<li>支持汽车信息安全室内测试场景的虚拟节点生成，同时支持不少于10个车型、100个智能网联零部件的虚拟化生成，至少满足3种虚拟节点的混合生成包含X86架构虚拟节点、ARM架构（不限于ARM32、ARM64）虚拟节点、容器节点，支持在同一二层网络中支持三种虚拟化节点共存。提供的车联网控制器虚拟节点类型应包含Linux控制器、Android控制器，提供的车联网业务平台至应包含汽车智能网联业务管理平台、内容分发服务平台。</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-accelerate.aliyuncs.com/blog/20231227024857.png"></p>
<p>虚拟节点生成</p>
<p>本系统支持创建用于汽车信息安全室内测试的虚拟节点，能够模拟多达10种车型与100种智能网联部件的虚拟化环境。为满足混合环境的测试需求，系统设计包括至少三种类型的虚拟节点：遵循x86架构的虚拟节点、支持多种标准包括ARM32与ARM64的ARM架构虚拟节点以及基于容器技术的节点。三种虚拟化节点能在统一的二层网络架构中协同工作，此成果得益于精细的网络设计与配置策略。系统提供的车联网控制器虚拟节点类型，包括模拟Linux操作系统控制器与Android操作系统控制器。系统所提供的车联网业务平台覆盖面广，包含汽车智能网联业务管理平台与内容分发服务平台等，各平台均设有符合操作逻辑的功能界面，以便技术人员进行有效管理。</p>
<ul>
<li>支持仿真的节点类型不少于10种，至少包含车机、TBOX、网关、服务器、客户端、二层交换机、三层交换机、动态路由、公网路由、防火墙。提供产品功能截图证明，截图中需包含以上节点类型并清晰识别。</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-accelerate.aliyuncs.com/blog/20231227024911.png" alt="1703330571401"></p>
<p>功能参数设计方面，系统提供广泛的虚拟化能力，能够生成多种类型的虚拟节点，包括服务器节点、客户端节点、二层交换、三层交换、动态路由以及虚拟安全设备节点。此外，系统还支持多种网络和安全设备的模拟，如路由器、防火墙、IDS、WAF等，为用户提供了全面的仿真环境。</p>
<p>针对汽车信息安全领域，系统的虚拟节点生成功能非常强大。它可以同时生成不同车型和智能网联零部件的虚拟节点，包括X86架构虚拟节点、ARM架构虚拟节点（ARM32和ARM64）以及容器节点。这些节点能够在同一二层网络中协同运行，提供了更真实和复杂的测试场景。系统还支持多种车联网控制器虚拟节点类型，如Linux控制器和Android控制器，以及车联网业务平台，如汽车智能网联业务管理平台和内容分发服务平台，满足不同用例的需求。</p>
<p>性能参数设计方面，系统具备高度扩展性。它能够支持最多400个虚拟节点的生成，确保用户在仿真测试中拥有足够的资源。虚拟节点的最小创建时间不超过10分钟，保证了测试过程的高效性。此外，系统支持通过模板生成新的网络拓扑，生成时间迅速，不超过2秒，提升了用户的操作效率。系统还提供了多达10种不同类型的仿真节点，涵盖了车机、TBOX、网关、服务器、客户端、二层交换机、三层交换机、动态路由、公网路由和防火墙，满足了各种复杂测试场景的要求。这些性能参数的设计确保了系统能够高效地应对大规模仿真和测试的挑战。</p>
<p>虚拟节点生成模块会根据测试配置管理的资源需求,向基础设施申请所需的虚拟计算资源,然后使用这些资源生成各类虚拟节点,如虚拟机、容器、网络设备等。</p>
<p>它可以生成虚拟机节点、轻量级容器节点、虚拟网络设备和虚拟安全设备等多类型虚拟节点。这为构建联邦的虚拟靶场提供了关键的虚拟化支持。</p>
<p>测试人员可以通过测试配置管理向其提出资源需求,它会自动化生成对应类型和规格的虚拟节点。大大简化了虚拟环境的部署配置,使用户可以专注于测试业务本身。</p>
<p>这样通过虚拟技术模拟各类网络功能与设备,在保障测试需求的同时,也提高了资源利用效率,降低了靶场建设成本。</p>
<p>虚拟化软件支持现有市场上主要国内外操作系统，包括Windows、CentOS、Fedora、RedHat、SUSE、Ubuntu。基于KVM开发，虚拟化软件兼容OpenStack Pike等主流版本。虚拟设备基于KVM开发，虚拟化软件兼容OpenStack Pike等主流版本。</p>
<p>虚拟节点支持ARM架构虚拟机、X86架构虚拟机、容器的混合生成，并且在同一二层网络中支持三种虚拟化节点的共存是通过合理的网络设计和配置来实现的。</p>
<p>系统支持提供VPC网络、经典网络、弹性IP、负载均衡、防火墙、安全组、云解析DNS、NAT网关、QoS等网络服务；可查看VPC网络的ID/名称、状态、IPv4 CIDR、IPv6 CIDR、私有网络、防火墙、外部网关、私网域名、组织等信息。</p>
<p>支持CPU隔离技术，将指定的CPU从主机的多核平衡调度策略中移除；CPU被隔离后，系统不会自动把任务放到隔离的CPU上运行，隔离的CPU专用于虚拟机CPU绑定的物理CPU、DPDK绑定的物理CPU，以避免出现主机CPU一直处于忙碌状态，而一些重要业务的虚拟机或者主机启用DPDK功能时获取主机CPU资源过慢的情况，影响业务的处理速度。</p>
<p>结合云管理平台和服务器虚拟化平台，可实现层次化端口绑定功能，可有效突破4K可用VLAN的限制。</p>
<p>虚拟化主机空载时的CPU利用率小于5%；虚拟化主机空载时的内存利用率&lt;5%。</p>
<h4 id="虚拟交换机"><a href="#虚拟交换机" class="headerlink" title="虚拟交换机"></a>虚拟交换机</h4><p>在信息化技术不断发展的状况下，虚拟化网络逐渐呈现出巨大的发展潜力。相较于传统的交换机，虚拟交换机在许多方面存在优势，因此，在未来通信行业中虚拟交换机技术的应用势在必行。</p>
<p>虚拟交换机原理：根据拓扑结构可知，虚拟交换机技术的原理相对简单，就本质而言，该项技术就是在逻辑上集成多台物理连接的交换机。该项技术的特点在于通信的可靠性更强，工作效率也得到了提升，系统的带宽容量也得以增加。与传统交换机相比，虚拟交换机不仅可以使STP、VRRP协议运行要求的负载均衡与冗余得以实现。</p>
<p>在物理环境之中，主机是通过pSwitch连接到网络当中。而在虚拟化环境中，则使用 vswitch。虚拟机通过vSwitch来连接网络，vSwitch是通过主机上的物理网卡作为上行链路与外界网络进行连接。</p>
<p>跟普通服务器设备一样，每个虚拟机有着自己的虚拟网卡(virtual NIC)，每个 virtual NIC有着自己的MAC地址和IP地址。 Virtual Switch(vSwitch)相当于一个虚拟的二层交换机，该交换机连接虚拟网卡和物理网卡，将虚拟机上的数据报文从物理网口转发出去。与物理交换机一样，vSwitch的作用就是用来转发数据。</p>
<p>虚拟节点支持ARM架构虚拟机、X86架构虚拟机、容器的混合生成，并且在同一二层网络中支持三种虚拟化节点的共存是通过合理的网络设计和配置来实现的，如下所示。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-accelerate.aliyuncs.com/blog/20231227024942.jpeg" alt="D:\\1.CyberSecurity\\文档修改\\六所靶场\\工业互联网安全开发测试基础共性服务平台项目场景导调与模拟仿真系统\\431521-20171224101134818-1527791519.jpg"></p>
<p>虚拟交换机原理</p>
<p>每个vSwitch都有两种接口，上联口和下联口。上联口用来连接物理网卡，每个上联口绑定一个物理网卡。一个vSwitch至少要有一个上联口，多个上联口可以进行捆绑。上联口可以配置IP地址，方便进行管理操作。下联口用于连接虚拟机，每个下联口连接一台虚拟机。与物理交换机不同的是，vSwitch下联口不会自动学习MAC地址，都是静态绑定的。上联口的IP和虚拟机的IP没有必然的关系，可以配置为不同的网段。</p>
<p>虚拟交换机支持二层交换机和三层交换机镜像。模拟仿真系统支持VLAN、VXLAN两种组网模式，支持租户之间地址重叠。</p>
<p>支持绘制仿真二层交换机，配置的参数包括交换机基础信息，名称、图标类型（系统默认、自定义）、所属势力方、自定义描述内容、自定义属性；网络信息，名称、所属网络、所属设备、传递设备、子网个数、状态（是否允许设备间传递）等信息；子网信息，子网名称、所属网络、所属Vlan、所属设备以及子网基本信息CIDR、网关、DNS等信息。</p>
<p>支持绘制仿真三层交换机，配置的参数包括交换机基础信息，名称、图标类型（系统默认、自定义）、所属势力方、自定义描述内容、自定义属性；网络信息，名称、所属网络、所属设备、传递设备、子网个数、状态（是否允许设备间传递）等信息；子网信息，子网名称、所属网络、所属Vlan、所属设备以及子网基本信息CIDR、网关、DNS等信息；可设置虚拟网络访问外部网络并支持指定IP。</p>
<p>网络策略模板：是对下联口和虚拟机的一些操作，可以对下联口进行出入方向的流量进行限制，规划下联口所属VLAN，设置VSI和应用ACL策略。缺省情况下，没有对下联口进行流控，端口所属VLAN为0（即数据包不带VLAN Tag）。</p>
<p>虚拟交换机内置DHCP服务器，支持为连接到该虚拟交换机的虚拟机分配IP地址、子网掩码、默认网关、DNS地址等网络参数，支持以图形化的方式展示DHCP地址池的IP地址分配情况。</p>
<p>网络拓扑构建功能可实现层次化端口绑定功能，可有效突破4K可用VLAN的限制。</p>
<h5 id="使用vswitch构建虚拟网络"><a href="#使用vswitch构建虚拟网络" class="headerlink" title="使用vswitch构建虚拟网络"></a>使用vswitch构建虚拟网络</h5><p>构建物理机和物理机相互连接的网络：在安装vswitch的主机上有两块网卡，分别为eth0、eth1，把这两块网卡挂接到vswitch的网桥上，然后有两台物理机host1、host2分别连接到eth0和eth1上，实现这两台物理机的通信，构建结果如所示：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-accelerate.aliyuncs.com/blog/20231227024953.jpeg" alt="https://img1.sdnlab.com/wp-content/uploads/2015/12/OVS%E5%88%9D%E7%BA%A7%E6%95%99%E7%A8%8B%EF%BC%9A%E4%BD%BF%E7%94%A8open%20vswitch%E6%9E%84%E5%BB%BA%E8%99%9A%E6%8B%9F%E7%BD%91%E7%BB%9C%20%E5%9B%BE2.jpeg"></p>
<p>物理机和物理机相互连接</p>
<h5 id="构建虚拟机与虚拟机相连的网络"><a href="#构建虚拟机与虚拟机相连的网络" class="headerlink" title="构建虚拟机与虚拟机相连的网络"></a>构建虚拟机与虚拟机相连的网络</h5><p>在安装vswitch的主机上安装两个虚拟机，把两个虚拟机的网卡都挂接在vswitch的网桥上，实现两台虚拟机的通信，构建结果所示：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-accelerate.aliyuncs.com/blog/20231227025000.jpeg" alt="https://img1.sdnlab.com/wp-content/uploads/2015/12/OVS%E5%88%9D%E7%BA%A7%E6%95%99%E7%A8%8B%EF%BC%9A%E4%BD%BF%E7%94%A8open%20vswitch%E6%9E%84%E5%BB%BA%E8%99%9A%E6%8B%9F%E7%BD%91%E7%BB%9C%20%E5%9B%BE3.jpeg"></p>
<p>虚拟机相连</p>
<h5 id="构建虚拟机与物理机相连的网络"><a href="#构建虚拟机与物理机相连的网络" class="headerlink" title="构建虚拟机与物理机相连的网络"></a>构建虚拟机与物理机相连的网络</h5><p>在装有vswitch的主机上有一个物理网卡eth0，一台主机通过网线和eth0相连，在open vswitch的主机上还装有一台虚拟机，把此虚拟机和连接到eth0的主机挂接到同一个网桥上，实现两者之间的通信，构建结果如所示：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-accelerate.aliyuncs.com/blog/20231227025006.jpeg" alt="https://img1.sdnlab.com/wp-content/uploads/2015/12/OVS%E5%88%9D%E7%BA%A7%E6%95%99%E7%A8%8B%EF%BC%9A%E4%BD%BF%E7%94%A8open%20vswitch%E6%9E%84%E5%BB%BA%E8%99%9A%E6%8B%9F%E7%BD%91%E7%BB%9C%20%E5%9B%BE4.jpeg"></p>
<p>虚拟机物理机相连</p>
<p>构建网桥和网桥相连的网络：以上操作都是将多个主机（物理机或虚拟机）连接到同一个网桥上，实现它们之间的通信，但是要构建复杂的网络，就需要多个网桥，在装有vswitch的主机上建立两个网桥，实现它们之间的连接，构建结果如所示：<br> <img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-accelerate.aliyuncs.com/blog/20231227025018.jpeg" alt="https://img1.sdnlab.com/wp-content/uploads/2015/12/OVS%E5%88%9D%E7%BA%A7%E6%95%99%E7%A8%8B%EF%BC%9A%E4%BD%BF%E7%94%A8open%20vswitch%E6%9E%84%E5%BB%BA%E8%99%9A%E6%8B%9F%E7%BD%91%E7%BB%9C%20%E5%9B%BE5.jpeg"></p>
<p>网桥相连</p>
<h5 id="在不同的主机之间构建网桥之间的连接"><a href="#在不同的主机之间构建网桥之间的连接" class="headerlink" title="在不同的主机之间构建网桥之间的连接"></a>在不同的主机之间构建网桥之间的连接</h5><p>在两台机器上分别安装上vswitch并创建网桥，分别为两个网桥添加物理网卡，然后通过网线连接两个网桥，实现两个网桥之间的互通。构建结果如所示：<br> <img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-accelerate.aliyuncs.com/blog/20231227025056.jpeg" alt="https://img1.sdnlab.com/wp-content/uploads/2015/12/OVS%E5%88%9D%E7%BA%A7%E6%95%99%E7%A8%8B%EF%BC%9A%E4%BD%BF%E7%94%A8open%20vswitch%E6%9E%84%E5%BB%BA%E8%99%9A%E6%8B%9F%E7%BD%91%E7%BB%9C%20%E5%9B%BE6.jpeg"></p>
<p>两台机器网桥创建</p>
<p>使用上边五种方法的组合就可以构建出各种复杂的网络，为各种实验提供网络的支持。</p>
<p>ACL策略：与物理交换机的有些不同，在功能上有一定的限制。ACL策略能对流量进行基于目的IP的包过滤，因为下联口只有一台虚拟机，所以根本不需要基于源IP的规则。ACL支持基于ICMP、TCP和UDP协议进行操作。ACL策略应用于下联口的入方向。</p>
<p>网络策略模板：是对下联口和虚拟机的一些操作，可以对下联口进行出入方向的流量进行限制，规划下联口所属VLAN，设置VSI和应用ACL策略。缺省情况下，没有对下联口进行流控，端口所属VLAN为0（即数据包不带VLAN Tag）。</p>
<p>虚拟交换机内置DHCP服务器，支持为连接到该虚拟交换机的虚拟机分配IP地址、子网掩码、默认网关、DNS地址等网络参数，支持以图形化的方式展示DHCP地址池的IP地址分配情况。</p>
<h4 id="虚拟路由器"><a href="#虚拟路由器" class="headerlink" title="虚拟路由器"></a>虚拟路由器</h4><p>虚拟路由器即Virtual Router，是指在软、硬件层实现物理路由器的功能仿真，属于一种逻辑设备。它在软件中复制基于硬件的第3层Internet协议（IP）路由的功能。虚拟路由是网络功能虚拟化(NFV)的一种形式，它将传统的基于硬件的网络设备的功能转换为软件，而不是在标准的商用现货(COTS)硬件上运行。这样能够降低硬件成本，并且有助于实现硬件互操作性，且无需专用硬件平台。</p>
<h5 id="虚拟路由器特性"><a href="#虚拟路由器特性" class="headerlink" title="虚拟路由器特性"></a>虚拟路由器特性</h5><p>由于虚拟路由将IP路由功能从特定的硬件中释放出来，这意味着路由功能可以更自由地在网络或数据中心周围移动。在基本的软件路由功能中，路由软件被添加到商品服务器中，使该硬件成为路由器。在更复杂的分布式路由环境中，路由软件的各个部分可以在整个网络中移动，同时使用集中控制平面进行管理。</p>
<p>我们可以提供一个自动化的路由器配置接口，以实现对路由器的动态配置和管理。通过此接口，用户可以进行静态路由配置，包括目的网络、下一跳信息和出接口等。还可以配置各种动态路由协议，如RIP、OSPF、BGP、IS-IS、IGRP等，通过设置相关参数来实现动态路由功能。另外，用户可以设置优先级，以确定路由选择的顺序和权重，确保网络流量的优化。同时，接口还支持包过滤设置，允许或阻止特定类型的数据包通过路由器，实现对流量的精细控制。最后，拥塞控制功能也可以通过接口进行配置，以确保在高负载情况下路由器能够进行流量管理和调控。通过提供这样的自动化配置接口，路由器的管理和调整变得更加方便和灵活，满足不同网络环境和需求的路由器配置要求。也可支持DNS、NAT网关、QoS等网络服务。可查看VPC网络的ID/名称、状态、IPv4 CIDR、IPv6 CIDR、私有网络、防火墙、外部网关、私网域名、组织等信息。</p>
<p>每个虚拟路由器应该具有逻辑独立的路由表和转发表，这样就使不同VPN间的地址空间可以重用，并保证了VPN内部路由和转发的隔离性。虚拟路由器具备以下特征：</p>
<p>高度仿真：进入系统后，应当具备与真实路由器相同的外观，相同的命令录入界面和相同的输出提示等，使学生通过练习熟悉后，将来即使第一次接触真实路由器也能够正确配置与使用。</p>
<p>满足实验室的特征：该系统应当具备练习模块和考试模块，学生通过自己的学号和密码登陆后，进入练习模块做实验，界面有实验目的、实验要求、练习中有操作提示等，完成后记录；进入考试模块，根据要求完成实验考试，完成后记录成绩；教师有专用管理模块，可以查看学生的练习和考试情况。</p>
<p>具备分布特征：该系统可使学生在规定的时间内在不同的地点完成自己应当做的练习和考试，由于采用D E 0 模式，学生用户和教师用户都不需要维护该系统，只要保证网络畅通即可。</p>
<p>虚拟路由器关键性能：支持对租户虚拟路由器进行管理，包括接口/子网、外部网络、路由信息、BGP对等体等进行管理。</p>
<h5 id="虚拟路由器安装"><a href="#虚拟路由器安装" class="headerlink" title="虚拟路由器安装"></a>虚拟路由器安装</h5><p>全虚拟化路由器:全虚拟化路由器基于KVM虚拟机为原型，通过搭载quagga实现路由功能，并重新打包成虚拟路由器镜像。基于该虚拟路由器镜像，用户可以登录到路由器系统，通过查看配置手册，根据当前网络场景手动配置动态路由协议实现云计算中逼真的三层网络拓扑。同时，通过python设计了基于OSPF协议的可自动部署程序，能够使得该虚拟路由器镜像启动后可自行探测接口信息，并调用配置接口完成路由协议的自动部署。经过典型网络场景测试，该路由器能够在IPv4协议下完成多路由器节点间的动态、静态路由支持。</p>
<p>1.在搭建成功的openstack平台中，启动一台虚拟机，配置floating ip，使其能够上网，然后安装quagga软件。</p>
<p>安装过程和简单使用： <img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-accelerate.aliyuncs.com/blog/20231227025106.png"></p>
<p>安装流程1</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/19c5185f935f9984f775a378294e27de.png"></p>
<p>安装流程2</p>
<p>完成以上步骤可以手动配置协议。</p>
<p>2.编写自动配置代码：</p>
<p>代码结构如下：实现了基于OSPF协议的自动部署虚拟路由器。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-accelerate.aliyuncs.com/blog/20231227025122.png"></p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/53398176f00ce80c551ab5413908ca55.png"></p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/c57a6852e089cf5038941276f0e77c0a.png"></p>
<p>编写自动配置代码</p>
<p>3.编写Web服务，提供远程查询路由表服务：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/60775a8c7b0910b873cf0a9eb3d80c0b.png"></p>
<p>编写Web服务</p>
<p>该服务可远程查询路由器路由表，接口网络命名空间使用<a target="_blank" rel="noopener" href="http://ip:4501/route">http://ip:4501/route</a></p>
<p>4.设置部署代码开机自动执行</p>
<p>配置/etc/rc.local文件</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/4c5f6b8cd6b04f850776059762fd6f08.png"></p>
<p>local文件</p>
<p>该文件所做工作为：开机启动时启动zebra,ospf服务，并执行配置程序，最后启动一个web服务，用于远程查询该路由器的路由表。</p>
<p>5.至此，虚拟路由器开发完成，需要将该实例打包成新的路由器镜像。打包镜像的文档在附件里。打包后镜像，可上传到任一openstack使用。</p>
<p>轻量级虚拟化路由器：基于Docker原生操作系统级镜像，借助OSPF协议与BGP协议的路由原则，利用路由软件技术，设计开发实现轻量级虚拟化路由器软件，并利用Dockerfile将该软件制作为轻量级虚拟化路由器软件镜像。其可实现OSPF协议、BGP协议的动态路由协议仿真，配置命令与真实路由器相似。</p>
<h5 id="虚拟路由器拥塞控制、优先级设置"><a href="#虚拟路由器拥塞控制、优先级设置" class="headerlink" title="虚拟路由器拥塞控制、优先级设置"></a>虚拟路由器拥塞控制、优先级设置</h5><p>全虚拟化技术在操作系统和底层硬件之间使用一个软件中间层来管理底层硬件资源，当客户操作系统执行某项指令时，软件中间层将接管该段代码，并执行对应的操作，这就使得操作系统可以拥有独立的内核，在逼真性上相较于其他虚拟化技术有巨大优势。全虚拟化技术的代表有VMware和KVM，由于OpenStack对KVM技术具有良好的亲和性，并且其能够仿真出逼真度极高的虚拟节点，所以我们采用KVM技术来实现路由仿真的虚拟化平面。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/bcc3b7d256b0fae331af8261231bab84.png"></p>
<p>软件中间层管理底层硬件资源</p>
<p>全虚拟化技术在操作系统和底层硬件之间使用一个软件中间层来管理底层硬件资源，当客户操作系统执行某项指令时，软件中间层将接管该段代码，并执行对应的操作，这就使得操作系统可以拥有独立的内核，在逼真性上相较于其他虚拟化技术有巨大优势。全虚拟化技术的代表有VMware和KVM，由于OpenStack对KVM技术具有良好的亲和性，并且其能够仿真出逼真度极高的虚拟节点，所以我们采用KVM技术来实现路由仿真的虚拟化平面。</p>
<p>在路由仿真的控制平面上我们采用可扩展的模块化软件路由器来实现路由仿真中对多种路由协议的支持。软件路由器分为三个部分，分别为路由表、路由表控制器和路由协议模块。路由表为操作系统内核中的routing table，所有报文依据路由表中的路由条目进行转发，是路由器的实现基础。路由表控制器将路由协议模块计算出的路由表项写入内核路由表中，是连接路由表和路由协议模块的纽带。路由协议模块实现对具体路由协议的支持，如RIP、OSPF、BGP等，并负责路由发现、路由计算等功能，是实现路由控制的关键。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/21748e0bb578b4552b63662522d27fde.png"></p>
<p>拥塞控制模块</p>
<p>拥塞控制模块包括队列管理模块、缓冲队列模块和延迟模块。队列管理模块负责处理数据链路层交付下来的报文，决定报文是进入缓冲队列模块还是被丢弃，为了保证虚拟路由器在拥塞控制上的逼真性，我们采用实物路由器中常见的弃尾（Droptail）算法作为报文队列管理算法。缓冲队列模块实现了一个FIFO报文队列，队列长度可自由定义，待出队的报文在其中进行出队前的排队操作。延迟模块负责对出队列的报文进行延迟操作，仿真出报文在队列中的排队延迟。</p>
<p>延迟模块设计如下:</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/80e3048e8cab0e64176e0b02b3d894c2.png"></p>
<p>延时模块</p>
<p>报文从缓冲队列模块到达延迟模块中的报文暂存模块后，延迟模块的计时器从控制器中获取延迟时间。延迟模块中的计时器进入计时状态，根据延迟时间开始计时。当时间达到设定的延迟时间后，报文从延迟模块中离开交付为物理层。</p>
<h4 id="虚拟防火墙"><a href="#虚拟防火墙" class="headerlink" title="虚拟防火墙"></a>虚拟防火墙</h4><p>虚拟防火墙在虚拟化环境中承担着与实物防火墙类似的功能，并提供了基本的配置选项来定义防火墙的规则策略。配置防火墙规则时，可以包括目的地址IP、源IP、目的端口、源端口、协议类型以及动作（拒绝/允许）等参数。通过这些参数的配置，可以对进出虚拟防火墙的流量进行精细控制和过滤，确保网络安全的同时实现流量的合法传输。1、配置不同vsys中的相关安全策略，安全策略各自独立，互不影响。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/4fb86ba4690e9cb9c11242b6ac09d3db.jpeg" alt="安全策略各自独立"></p>
<p>安全策略各自独立</p>
<p>2、配置不同vsys的管理员账户，管理员登陆后可单独管理私有的防火墙配置。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/a72beced69cee4bef4754de15b66be4e.jpeg" alt="防火墙配置"></p>
<p>防火墙配置</p>
<p>3、 应用配置生效</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/f200892e100db80482710705702a00f1.jpeg" alt="应用配置生效"></p>
<p>应用配置生效</p>
<h4 id="虚拟服务器-客户端-车载零部件"><a href="#虚拟服务器-客户端-车载零部件" class="headerlink" title="虚拟服务器/客户端/车载零部件"></a>虚拟服务器/客户端/车载零部件</h4><p>在虚拟化环境中，可以进行虚拟服务器、客户端主机和车载零部件的仿真配置，其中包括KVM虚拟机、基于容器的Docker主机及车机、tbox、网关。支持目前主流的window操作系统和linux操作系统。客户可通过web界面登录。每个虚拟防火墙系统都可以被看成是一台完全独立的防火墙设备，可拥有独立的系统资源、管理员、安全策略、用户认证数据库等。</p>
<p>支持绘制仿真虚拟主机，配置的参数包括虚拟主机的基础信息，名称、图标类型（系统默认、自定义）、所属势力方、自定义描述内容、自定义属性；配置属性，包括镜像、配额、可用域等信息。</p>
<p>系统提供了根据镜像名称、操作系统类型（Linux、Windows、Macos、Unix）、镜像权限(私有、共享、公共)、虚拟化类型（KVM、Docker、WMware）、设备类型等多种条件进行过滤。并根据选择的镜像的磁盘配额信息自动过滤出符合要求的配额模板列表。支持根据所选镜像自动过滤出符合要求的可用域。如docker部署在docker域。配置端口信息系统提供了自动生成（自动避免IP冲突）和手动配置两种方式。</p>
<p>虚拟系统的特点：</p>
<p>每个虚拟系统由独立的管理员进行管理，使得多个虚拟系统的管理更加清晰简单，所以非常适合大规模的组网环境。</p>
<p>每个虚拟系统拥有独立的配置及路由表项，这使得虚拟系统下的局域网即使使用了相同的地址范围，仍然可以正常进行通信。</p>
<p>可以为每个虚拟系统分配固定的系统资源，保证不会因为一个虚拟系统的业务繁忙而影响其他虚拟系统。</p>
<p>虚拟系统之间的流量相互隔离，更加安全。在需要的时候，虚拟系统之间也可以进行安全互访。</p>
<p>虚拟系统实现了硬件资源的有效利用，节约了空间、能耗以及管理成本。</p>
<p>具体配置如下：</p>
<p>1、 创建vsys、vrouter并做两者之间的关联</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/6d69c35dbd5f2d1361225441e109fef3.jpeg" alt="vrouter"></p>
<p>vrouter</p>
<p>2、 配置三层接口，路属于不同的vsys并绑定在vrouter上</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/c49e4bdfb5d1ed48c8b79dd1056767c0.jpeg" alt="三层接口"></p>
<p>三层接口</p>
<p>Vrouter和接口都属于虚拟系统的资源，可被分配到不同虚拟系统上，vrouter可以被多个虚拟系统共享也可单独占有，接口只能被唯一一个虚拟系统占有。<br> Vrouter和vswitch不单单属于虚拟系统的资源和被占用，它们也是网络的一种部署，代表了虚拟系统中的二层或三层的网络转发。</p>
<p>3、 配置不同vsys上外网的路由条目</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/0aa2758491496e0003405097c23eb89d.jpeg" alt="vsys"></p>
<p>vsys</p>
<p>4、 配置不同vsys中的SNAT的策略，策略独立</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/7418bcea77a058ca28720763a3d685d1.jpeg" alt="SNAT"></p>
<p>SNAT</p>
<h2 id="目标网络调度模块"><a href="#目标网络调度模块" class="headerlink" title="目标网络调度模块"></a>目标网络调度模块</h2><p>需具备根据配置的目标网络信息进行部署功能，支持对X86架构虚拟机、ARM架构虚拟机、容器、实物设备进行统一的部署，构建虚实结合的目标网络，支持设置链路带宽、延迟和丢包率等详细链路特性，用于模拟不同链路质量的汽车通信链路情况包括车云通信、V2X、车载以太网等；支持在部署好的目标网络环境进行增量部署，增量部署支持对设备进行删除、更新和增加操作，并且增量部署不影响其他节点；支持对部署过程进行监控和展示，包括部署的各类节点总数、各类节点进度、部署错误的类型进行展示，显示进行中、等待中、失败和成功的具体节点和数量，对于部署失败的节点，系统给出失败原因。</p>
<p>针对以上描述的功能需求，可以采用以下视图方式来展开详细描述：</p>
<p>目标网络部署功能是一个非常强大且灵活的平台，它可以根据用户配置的目标网络信息进行部署，支持对各种虚拟机、容器和实物设备进行统一的部署。无论是基于X86架构还是ARM架构的虚拟机，或者是容器化的应用程序，甚至是实际的物理设备，都可以通过该平台进行部署和管理。</p>
<p>该功能的主要特点之一是能够构建虚实结合的目标网络。在实际的汽车通信环境中，不同的链路质量对通信性能有着重要影响。因此，目标网络部署功能支持设置链路带宽、延迟和丢包率等详细链路特性，以模拟不同链路质量的汽车通信链路情况。这包括了车与云端的通信、车辆之间的V2X通信以及车载以太网等多种场景，用户可以根据实际需求进行配置和模拟，以便更好地评估和测试系统的性能和稳定性。</p>
<p>除了能够进行整体的目标网络部署外，该平台还支持增量部署。增量部署意味着用户可以对已经部署好的目标网络环境进行删除、更新和增加操作，而不会影响到其他节点的正常运行。这为用户提供了更大的灵活性，可以根据实际需求对目标网络进行动态调整和优化，而无需重新部署整个网络。</p>
<p>在部署过程中，该功能还提供了监控和展示的功能。用户可以实时监控部署的进度和状态，包括各类节点的总数、进度以及可能出现的错误类型。通过直观的界面展示，用户可以清晰地了解部署的情况，同时也能够快速定位和解决可能出现的问题。具体的展示内容包括进行中、等待中、失败和成功的具体节点和数量等信息，对于部署失败的节点，系统会给出相应的失败原因，帮助用户快速排查和修复。</p>
<p>总之，目标网络部署功能是一个强大而灵活的平台，它可以根据用户的需要进行各种设备的统一部署，并支持链路特性的配置和模拟。通过增量部署和监控展示的功能，用户能够更好地管理和优化目标网络，提高系统的性能和稳定性。该功能的应用范围广泛，不仅适用于汽车通信领域，也可应用于其他需要对目标网络进行部署和管理的领域。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/daa1cf5b6085d83581a28c0fbec32dae.png"></p>
<p>功能参数设计为具备全面的资源调度能力。这包括对虚拟节点计算资源和存储资源的有效调度，以及虚拟网络资源（如IP地址、端口、链路）的灵活配置。此外，系统还具备对实物设备资源（包括实物网络设备、安全设备和计算设备）的调度功能，确保资源得到最优化利用。同时，系统提供了针对试验场景所需各类资源的计算调度功能，能够自动检测底层资源的充足程度，并对不满足的资源进行提示。此外，系统还具备根据配置的目标网络信息进行部署的能力，支持对X86架构虚拟机、ARM架构虚拟机、容器以及实物设备的统一部署。它能够构建虚实结合的目标网络，并支持设置详细的链路特性，如链路带宽、延迟和丢包率，用于模拟不同的汽车通信链路情况。系统还支持在已部署的网络环境中进行增量部署，包括设备的删除、更新和增加操作，同时确保这些操作不会影响其他节点。系统还提供了对部署过程的监控和展示功能，能够展示各类节点的总数、进度、以及部署错误的类型，并对部署失败的节点给出具体的失败原因。</p>
<p>性能参数设计为支持高效的节点部署和调度。系统能够支持最多2000个节点的同时部署调度，确保在大规模的测试环境中保持高效运行。此外，系统还支持单一拓扑的增量部署次数达到20次，能够记录每次部署的详细信息，包括各次部署的配置、变更和结果，从而为用户提供丰富的操作记录和数据分析基础。</p>
<p>1. 部署配置视图：</p>
<p>功能参数如下：提供一个配置界面，允许用户根据目标网络信息进行配置。用户可以指定目标网络的拓扑结构、节点类型和数量等信息。</p>
<p>功能参数如下：支持选择不同架构的虚拟机（X86架构和ARM架构）、容器和实物设备进行部署。用户可以根据实际需求选择适合的部署方式。</p>
<p>功能参数如下：具备设置链路带宽、延迟和丢包率等详细链路特性的功能。用户可以根据需要模拟不同链路质量的汽车通信链路情况，如车云通信、V2X和车载以太网等。</p>
<p>2. 增量部署视图：</p>
<p>功能参数如下：提供增量部署功能，允许用户对已部署的目标网络环境进行删除、更新和增加操作，而不影响其他节点的正常运行。</p>
<p>功能参数如下：支持对设备进行删除、更新和增加操作的界面，用户可以选择要操作的设备，并执行相应的操作。系统会自动处理设备之间的依赖关系。</p>
<p>3. 部署监控和展示视图：</p>
<p>功能参数如下：提供一个监控和展示界面，用于实时监控部署过程和展示相关信息。</p>
<p>功能参数如下：显示部署的各类节点总数和进度，用户可以清晰地了解整个部署过程的进展情况。</p>
<p>功能参数如下：展示部署错误的类型和失败节点的详细信息，系统会给出失败原因和相应的错误提示，便于用户进行故障排查和修复。</p>
<p>通过以上视图方式，用户可以方便地配置目标网络信息、进行增量部署操作，并实时监控和展示部署过程的状态和结果。这样的系统设计可以提高部署的灵活性和效率，同时减少对其他节点的影响，从而更好地满足XXXX的需求。</p>
<p>设计和实现一个资源调度和部署系统，用于管理和分配虚拟节点资源、虚拟网络资源、实物设备资源，并能够在试验场景中进行有效的资源计算调度，同时支持目标网络的部署和增量更新。</p>
<p>方案概述</p>
<ol>
<li>资源调度系统设计</li>
</ol>
<p>虚拟资源调度：实现一个虚拟资源管理器，负责虚拟节点的计算资源和存储资源的调度。</p>
<p>虚拟网络资源调度：设计虚拟网络资源管理器，负责IP地址管理、端口分配和虚拟链路的建立与维护。</p>
<p>实物资源调度：构建实物资源管理器，用于管理实体网络设备、安全设备和计算设备的资源分配。</p>
<ol>
<li>资源充足性计算</li>
</ol>
<p>资源需求计算：开发资源需求评估模块，用以评估试验场景所需资源，并计算底层资源充足性。</p>
<p>资源不足提示：当资源不满足要求时，系统应提供明确的提示信息。</p>
<ol>
<li>目标网络部署</li>
</ol>
<p>部署引擎设计：开发一个部署引擎，支持根据配置目标网络信息进行虚拟机、容器和实物设备的统一部署。</p>
<p>链路特性设置：在部署模块中，允许用户设置链路带宽、延迟、丢包率等，以模拟不同的通信链路质量。</p>
<p>增量部署与更新：实现增量部署功能，支持设备的删除、更新和增加操作，且不影响其他节点的运行。</p>
<p>部署监控与展示：设立一个监控中心，用于实时监控部署过程，并展示部署进度和状态。</p>
<ol>
<li>性能参数满足</li>
</ol>
<p>大规模部署能力：确保系统支持不低于2000个节点的同时部署调度。</p>
<p>增量部署记录：系统应能够记录单一拓扑的增量部署次数（不低于20次）和详细的部署记录。</p>
<ol>
<li>需求分析与规划</li>
</ol>
<p>分析试验场景的资源需求。</p>
<p>规划资源管理架构。</p>
<p>系统开发：</p>
<p>开发虚拟资源管理器、虚拟网络资源管理器和实物资源管理器。</p>
<p>实现资源充足性计算模块。</p>
<p>编写部署引擎和增量更新逻辑。</p>
<p>设计部署监控界面。</p>
<ol>
<li>测试与优化</li>
</ol>
<p>进行单元测试、集成测试和性能测试。</p>
<p>根据测试结果优化系统性能。</p>
<ol>
<li>部署与监控</li>
</ol>
<p>在实际环境中部署系统。</p>
<p>监控系统运行情况，确保性能参数满足要求。</p>
<p>编程语言：使用高性能的编程语言如Go或Rust，提高并发处理能力。</p>
<p>数据库：采用高可用性和可扩展性的数据库系统，如PostgreSQL或MongoDB。</p>
<p>虚拟化技术：使用KVM、Docker等成熟的虚拟化技术。</p>
<p>网络虚拟化：使用Open vSwitch等工具进行网络资源的虚拟化和调度。</p>
<p>监控工具：集成Prometheus、Grafana等监控工具进行系统监控。</p>
<p>自动化部署：使用Ansible、Terraform等自动化部署工具。</p>
<ol>
<li>预期结果</li>
</ol>
<p>成功实现一个高效、可靠的资源调度和部署系统。</p>
<p>满足高并发部署的性能要求，确保系统稳定运行。</p>
<p>实现对复杂网络环境的快速部署和灵活调整。</p>
<h2 id="目标网络管理模块"><a href="#目标网络管理模块" class="headerlink" title="目标网络管理模块"></a>目标网络管理模块</h2><ul>
<li>提供部署完成的目标网络进行管理控制功能，包括虚拟节点的启动、停止、重启、设置密码、重建、端口转发等功能，提供产品功能截图证明。</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/f3aa487b32db48d293bbc86979deba96.png" alt="WPS图片(11)"></p>
<ul>
<li>提供虚拟化节点、容器节点和实物节点的无差异Web接入操作，为目标网络设计和试验提供操作入口，接入的方式能够支持SSH、RDP和VNC等远程协议类型不少于3种，支持文件上传和下载操作，支持对操作的过程进行录屏，提供产品功能截图证明。</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/43778405f5b5207f58ae1c19f956d513.png" alt="WPS图片(3)"></p>
<ul>
<li>支持同时不低于200人接入操作，并且支持扩展实现更多人的接入扩展需求，提供产品功能截图证明，截图中需包含明确的接入数量并清晰识别。</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/80d01887e46e42241d514649e62f72af.png" alt="1703491695987"></p>
<p>200人的http接入日志</p>
<p>目标网络管理模块的业务处理流程如下：用户通过Web登录系统，根据需要选取PC、交换机和路由器等网络设备，搭建并设计网络拓扑图；把网络图提交到Web服务器，Web服务器接收到用户的请求之后，分析网络拓扑图，定制用户所需要的网络实验环境(包括虚拟PC、虚拟交换机和虚拟路由器的建立、网络参数的配置、网卡的配置等)，执行接口适配模块提供的指令发送到宿主机；宿主机接收到命令后执行命令，建立用户所需的网络实验环境，并返回虚拟机的IP地址和端口等参数，用户通过Web的方式登录这些虚拟机，进行真实的网络实验。</p>
<p>网络拓扑设计控制流程</p>
<p>在用户通过Web界面设计好网络拓扑图之后，服务器会生成对应的虚拟机资源。Web服务器除了提供Web服务功能外，远程桌面、资源管理器和性能监控都运行在Web服务器上，资源管理器和性能监控通过Web Service和虚拟机管理程序建立连接并发送指令对虚拟机进行管理和监控。虚拟机管理程序可以是vCenter Server、Xen Server、KVM等。虚拟机管理程序是Hypervisor，它是集成在基础资源云平台中的，可以直接对硬件进行调度管理。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/31df8d107ee8210b98bebd3f0dd98ac7.png"></p>
<p>虚拟网络仿真构建子系统架构</p>
<p>我们为部署的目标网络提供了全面的管理和控制功能,包括虚拟节点的启动、停止、重启、密码设置、重建和端口转发等。同时支持节点迁移和运行状态监控,如节点启停状态和资源利用情况。目标网络具有场景锁定功能,可在试验开始后防止拓扑结构和参数被修改,并支持自动锁定。我们还提供了网络拓扑的动态校验功能,可根据场景需要自动或手动校验IP、端口的联通性。虚拟化节点、容器节点和物理节点可通过无差异的Web页面操作接入,支持SSH、RDP 和VNC等多种协议,并可上传下载文件,操作支持录屏。</p>
<p>功能参数设计方面，系统提供了全面的管理和控制功能，以确保目标网络的有效运营。具体功能包括虚拟节点的启动、停止、重启、设置密码、重建、端口转发等管理操作，用户可以根据需要对虚拟节点进行灵活的管理和配置。此外，系统还支持虚拟节点的迁移功能，并监控虚拟节点的运行状态，包括节点的启停状态和资源利用情况，这有助于用户根据实际需求进行虚拟节点的迁移操作，以确保系统的平稳运行。为了保障目标网络场景的稳定性，系统提供场景锁定功能，防止在试验开始后对场景内的拓扑结构和参数进行修改。同时，竞赛和演练开始后，系统还支持自动锁定场景，以确保操作的稳定性和一致性。系统还具备对部署后的网络拓扑进行动态校验的功能，包括校验IP和端口的联通性。用户可以选择自动检验或进行人工配置校验，以确保网络的正常运行。为了方便用户操作目标网络，系统提供了虚拟化节点、容器节点和实物节点的无差异Web接入操作。用户可以选择SSH、RDP和VNC等远程协议类型的接入方式，同时支持文件上传和下载操作，并记录操作过程以供回顾。</p>
<p>性能参数设计方面，系统支持管理和控制最多1400个节点，以满足大规模网络管理的需求。具备100虚拟节点的批量管理能力，包括批量启动、关机、重启、修改密码和销毁等操作。用户可以选择随机或指定模式进行批量修改密码，从而提高了管理的效率。系统能够同时支持200人的接入操作，并具备扩展性，以满足更多用户接入的需求。这确保了多用户同时管理和操作目标网络的顺畅性。这些性能参数的设计充分考虑了系统在大规模网络管理和操作中的高效性和可扩展性，以满足复杂网络环境下的需求。</p>
<p>设计一个全面的目标网络管理和控制系统，用于监控、管理和维护虚拟化节点、容器节点和实物节点。系统应提供节点迁移、网络场景锁定、动态校验等功能，并支持不同远程协议的Web接入操作。</p>
<ol>
<li>网络管理控制系统设计：</li>
</ol>
<p>节点管理功能：实现节点管理模块，提供启动、停止、重启、设置密码、重建、端口转发等功能。</p>
<p>状态监控与迁移：设计节点监控模块，实时监控节点运行状态和资源利用情况，并提供迁移功能。</p>
<p>场景锁定机制：开发场景锁定功能，确保试验或演练开始后场景不被修改。</p>
<p>拓扑动态校验：实现拓扑校验工具，支持IP和端口连通性的自动和手动校验。</p>
<ol>
<li>Web接入操作</li>
</ol>
<p>无差异接入：提供统一的Web接入平台，支持SSH、RDP、VNC等远程协议。</p>
<p>文件管理：允许用户通过Web接入平台上传和下载文件。</p>
<p>操作录屏：集成录屏功能，记录操作过程。</p>
<ol>
<li>性能参数满足</li>
</ol>
<p>节点管理能力：确保系统支持不低于1400个节点的管理。</p>
<p>批量管理功能：支持不低于100个虚拟节点的批量管理，包括启动、关机、重启、修改密码和销毁操作。</p>
<p>多用户接入能力：保证系统支持同时不低于200人接入操作，并支持扩展。</p>
<ol>
<li>需求分析与规划</li>
</ol>
<p>分析网络管理和控制的需求。</p>
<p>规划系统架构和功能模块。</p>
<ol>
<li>系统开发</li>
</ol>
<p>开发网络管理控制模块，实现节点的基本操作功能。</p>
<p>实现节点状态监控与迁移功能。</p>
<p>设计并实现场景锁定机制。</p>
<p>开发拓扑动态校验工具。</p>
<ol>
<li>Web接入平台</li>
</ol>
<p>设计并实现无差异Web接入操作平台。</p>
<p>集成文件管理和操作录屏功能。</p>
<ol>
<li>测试与优化</li>
</ol>
<p>进行单元测试、集成测试和性能测试。</p>
<p>根据测试结果优化系统性能。</p>
<ol>
<li>部署与监控</li>
</ol>
<p>在实际环境中部署系统。</p>
<p>监控系统运行情况，确保性能参数满足要求。</p>
<ol>
<li>技术选型</li>
</ol>
<p>前端框架：使用如React或Vue.js等现代前端框架。</p>
<p>后端框架：使用如Spring Boot或Django等高效的后端框架。</p>
<p>虚拟化技术：使用KVM、Docker等成熟的虚拟化技术。</p>
<p>网络管理：使用OpenStack、Kubernetes等云管理平台。</p>
<p>远程协议支持：集成Guacamole或其他远程桌面网关解决方案。</p>
<ol>
<li>预期结果</li>
</ol>
<p>成功实现一个能够高效管理超过1400个节点的网络管理和控制系统。</p>
<p>实现对网络场景的稳定锁定和动态校验，确保试验和演练的准确性。</p>
<p>提供无差异的Web接入操作，满足多协议支持和多用户接入的需求。</p>
<h2 id="虚实互联管理模块"><a href="#虚实互联管理模块" class="headerlink" title="虚实互联管理模块"></a>虚实互联管理模块</h2><ul>
<li>支持为目标网络配置公网IP,或者将目标网络的指定IP、端口映射到公网IP的端口，让指定网络能直接访问目标网络，提供产品功能截图证明；</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/aca65bfd8b801defa386f81462d89ee6.png"></p>
<p>IP配置</p>
<p>功能参数设计方面，系统具备广泛的物理网络接入能力，能够支持实车、车载零部件、测试工具、物理主机、安全设备、网络设备、车载以太网、CAN、LIN等各种物理网络接入方式，并将其连接到由网络靶场平台生成的虚拟网络中，形成虚实结合的目标网络。此外，系统还支持有线透明设备（如IPS等）的透明接入到虚拟网络，可以透明地串联实物设备和虚拟设备之间，同时不改变透明设备的属性。系统还能够支持异地设备的接入，使其与虚拟网络中的虚拟机和容器在同一编址空间内运行，无论是本地接入设备还是异地接入设备，都能够享受相同的管理和接入特性。此外，系统支持异域网络通过路由器或防火墙作为接入点接入到虚拟网络中，并能够配置专用虚拟设备接入到平台配置的公共网络，支持公共网络的配置和管理，包括路由、VPN、防火墙等功能，单个虚拟设备支持最多20个VPN链路。系统还支持为目标网络配置不同的场景，如车云通信、车内以太网等，并指定子网访问公共网络资源，同时还支持配置虚拟VPN，允许公共网络用户通过VPN连接方式接入目标网络，并管理公网IP地址池，可为不同试验环境配置不同的公网IP地址池，支持公网IP地址池的管理。</p>
<p>性能参数设计方面，系统能够支持100个实物设备同时接入，并可以根据实际情况通过扩展虚拟互联交换机的方式进行扩展，以适应大规模网络接入需求。虚实互联交换机支持通用三层交换机，如华为、华三等，无需特殊功能，使系统更加灵活和可扩展。此外，系统能够管理120个公网IP地址，确保公网资源的充分利用和管理。这些性能参数的设计旨在满足复杂网络环境下的高效运行和可扩展性需求。</p>
<p>虚实互联管理模块将实物设备（零部件、测试工具、实车、物理主机、网络设备、安全设备等）或物理网络与靶场基础平台生成的虚拟网络互联，组成统一的汽车目标网络。实物设备通过虚拟互联交换机与靶场基础平台相连。</p>
<p>功能包含但不限于设备部署、设备管理、列表展示、设备增删改查；对部署成功的设备将展示在列表中，设备管理中对部署好的拓扑中的虚拟设备、实物设备和路由设备进行管理。如为已经部署的虚拟机安装软件或者上传文件，查看实物设备的名称、IP信息，为路由设备进行路由器设置，下发路由配置等操作。</p>
<p>虚实互联管理模块的功能主要是将虚拟网络环境中无法通过虚拟网络设备提供的服务，通过接入物理设备来实现与虚拟网络的统一融合，以利用物理设备提供的服务并实现服务的可扩展接入。虚实结合的功能模块主要实现两个方面的功能。</p>
<p>首先，该模块需要定制能够接入的物理设备的类型。物理设备包括防火墙、交换机、路由器、服务器等各种类型，每种设备都有不同的接入方式。因此，该模块需要兼容各种设备的统一接入，以确保与各种物理设备的无缝连接。</p>
<p>其次，该模块支持物理设备的可视化配置。不同类型的物理设备具有不同的配置内容和配置方式，无法实现配置项的自动化。因此，该系统提供统一的配置界面，以便用户能够方便地对实体网络设备进行配置。通过可视化配置界面，用户可以进行设备的参数设置、网络拓扑配置等操作，从而实现对物理设备的灵活配置和管理。</p>
<p>总结而言，虚实互联管理模块的功能是将虚拟网络与物理设备进行统一融合，通过采用虚实互通接口及时钟同步技术，虚拟节点与实体节点能够实现互联。这样可以将虚拟网络与物理网络融为一体，形成既具备统一拓扑架构又维持一致逻辑视图的综合网络环境。</p>
<p>将虚拟网络与现实的物理网络相连是一项技术手段，它允许虚拟机与实体网络设备之间建立连接和交流。利用这种技术，可以实现虚拟和物理网络的无缝对接，构建出一个既有统一的网络布局也有整齐的逻辑视图的网络系统。系统兼容多样的真实物理网络设备，包括计算机、路由器、交换机、服务器以及各类安全防护装置，满足不同网络组件接入的需求。这种接入支持能让用户将实际的硬件资源集成到网络环境中，以进行全面的测试和模拟。支持实物设备透明接入。支持系统管理员将实物设备注册到场景导调系统，并支持分配给设计人员使用，实物设备互联接入虚拟网络支持与现有SDN控制器对接实现。支持将透明设备接入到目标SDN网络中，并且不能改变设备的透明属性。</p>
<p>半实物仿真系统由虚实网络配置解析、虚拟节点实物节点互联模块组成：</p>
<p>1. 虚实网络配置解析：通过提取虚拟节点与实体设备的连接关系、配置信息关系等信息得出完整的网络拓扑。</p>
<p>2. 虚拟节点和实物节点互联：通过网络虚拟化技术提供虚拟节点的仿真实现，运用虚实转化接口和时钟同步机制可以使虚实节点互联互通。系统能够把虚拟网络和实体网络设备无缝集成，创建出一个统一的网络拓扑结构，同时提供一个整合的逻辑视图，形成一个完整的目标网络环境。这样的设计使得网络规划和管理变得更为直观，有助于用户理解和监控整个网络架构的运行状态。</p>
<p>半物理仿真系统能够处理来自虚拟节点的部署数据和虚拟与现实联动信息，通过其网络配置分析模块来解读这些配置，并利用虚拟与实体联接模块创建虚拟与实体设备之间的网络连接。</p>
<p>虚实互联模块封装了BGP协议相关的接口，它通过和虚实网络构建子系统中的SDN控制器的控制模块进行通讯，实物接入子系统使用BGP协议和边界路由器交换路由，并使用netconf协议给边界路由器发送配置状态。</p>
<p>NETCONF基于XML的网络配置协议，NETCONF协议采用了分层结构，每个层分别对协议的某一个方面进行包装，并向上层提供相关的服务。分层结构能让每个层只关注协议的一个方面，实现起来更加简单，同时合理的解耦各个层之间的依赖，可以将各层内部实现机制的变更对其它层的影响降低到最低。</p>
<p>边界路由器采用VXLAN封装技术，它能够桥接基于软件的网络覆盖层和底层物理基础设施之间的网络服务。VXLAN是最简单的桥接传统网络到虚拟化的部署方式，使传统网络完全过渡到完全虚拟化的网络。物理硬件中部署的 VXLAN将“优化和控制”网络虚拟化，最终将虚拟网络和物理网络融合在一起，正如OpenFlow和传统2、3层网络一样。VXLAN能使工作负载从一个路由网络移动到另一个，或者从一个子网转移到另一个，同时保留IP地址。并且，它允许网络进行扩展。因此，外界设备计入到虚拟网络中，只需要配置物理设备的IP到具体网络间的映射，并将规则配置懂啊边界路由器内，由边界路由器维护配置的转发规则，就可以连通虚拟网络和物理网络或者某个设备。</p>
<p>我们的系统具备各项功能，能够轻松将IPS等有线透明设备无缝集成进虚拟网络中。透过串联实物设备，实现虚拟与实体设备的互联，且不会影响透明设备的特性，保持其不可见性。实物设备可与虚拟机和容器在同一网络地址空间中运行，共享IP地址范围，确保无缝通讯。系统还支持远程设备接入，可经由路由器或防火墙加入虚拟网络，享受与本地设备同等的管理与接入。系统提供了配置访问公网资源的选项，包括指定的子网、公网IP池和端口映射功能，增强了网络管理的灵活性和跨网络操作的能力。</p>
<p>支持通过在拓扑中配置专用设备接入到平台配置的公共网络的功能。这些专用设备可以通过用户指定的网络或互联网进行接入，并直接在设备上配置公网IP。我们的系统也允许在专用设备上进行路由、VPN和防火墙等功能的配置，以增强网络安全性和扩展连接能力。同时，我们支持配置虚拟VPN，让公共网络用户通过连接虚拟VPN的方式安全地接入到目标网络中。我们的系统可以提供一个图形化界面，以方便用户在拓扑中配置专用设备接入到公共网络，并支持必要的网络功能配置。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/f68b44aa45dded98315899a0c2fa39d8.png"></p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/4a67304a1a9b92144ddcc5b64caf150b.png"></p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/ff3580ec83eb74e4f7f84b33cabd7d94.png"></p>
<p>实物网络虚拟节点映射</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/22fa38cee4de44657edfa2feda88497d.png"></p>
<p>VPN接入</p>
<ol>
<li>虚实网络接入架构：</li>
</ol>
<p>虚实互联：实现虚实资源互联的接入架构，保证实物设备和虚拟网络的无缝融合。</p>
<p>透明设备接入：设计透明接入模块，使IPS等有线透明设备能够无缝接入虚拟网络。</p>
<p>同一编址空间：确保实物设备与虚拟网络中的虚拟机和容器处于同一编址空间。</p>
<ol>
<li>异地设备接入</li>
</ol>
<p>异地接入无差别：提供异地设备接入解决方案，确保异地接入设备与本地设备管理和操作上无差别。</p>
<p>异域网络接入：支持异域网络通过路由器或防火墙接入到虚拟网络中。</p>
<ol>
<li>网络功能配置：</li>
</ol>
<p>公共网络接入：允许虚拟设备接入到指定的公共网络或互联网，并配置网络功能。</p>
<p>场景化网络配置：支持配置特定场景的目标网络，如车云通信、车内以太网等。</p>
<p>公网IP管理：实现公网IP配置和管理模块，支持公网IP地址池的管理。</p>
<ol>
<li>性能数满足：</li>
</ol>
<p>实物设备接入能力：确保系统支持不少于100个实物设备的接入。</p>
<p>公网IP管理能力：确保系统能够管理不少于120个公网IP。</p>
<p>实施步骤</p>
<ol>
<li>需求分析与规划：</li>
</ol>
<p>分析虚实结合网络接入和管理的需求。</p>
<p>规划系统架构和功能模块。</p>
<ol>
<li>系统开发：</li>
</ol>
<p>开发虚实网络接入模块。</p>
<p>实现透明设备接入功能。</p>
<p>设计异地设备接入方案。</p>
<p>开发网络功能配置模块。</p>
<ol>
<li>测试与优化：</li>
</ol>
<p>进行单元测试、集成测试和性能测试。</p>
<p>根据测试结果优化系统性能。</p>
<ol>
<li>部署与监控：</li>
</ol>
<p>在实际环境中部署系统。</p>
<p>监控系统运行情况，确保性能参数满足要求。</p>
<ol>
<li>技术选型</li>
</ol>
<p>网络虚拟化：使用Open vSwitch、VMware NSX等网络虚拟化技术。</p>
<p>远程接入：采用VPN、SD-WAN等技术实现异地设备的安全接入。</p>
<p>IP地址管理：使用IPAM解决方案进行公网IP地址池的管理。</p>
<p>网络设备支持：确保系统兼容通用三层交换机如华为、华三等品牌。</p>
<ol>
<li>预期结果</li>
</ol>
<p>成功实现一个高效、可靠的虚实结合网络接入和管理系统。</p>
<p>满足包括异地设备在内的实物设备与虚拟网络的无缝接入和管理。</p>
<p>提供灵活的网络功能配置，支持场景化网络和公网IP的管理。</p>
<h2 id="虚拟网络支撑模块"><a href="#虚拟网络支撑模块" class="headerlink" title="虚拟网络支撑模块"></a>虚拟网络支撑模块</h2><ul>
<li>支持通过配套的windows App或者安卓App录制网络的上下行带宽、延迟、丢包率变化过程，生成txt回放文件。每条虚拟链路都支持导入txt回放文件进行上下行带宽、延迟、丢包率变化过程的回放，回放进度可通过进度条调节，回放过程可通过曲线图观察，提供产品功能截图证明。</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/7e9176f802c83bd77d4ae51fa16f3b75.png"></p>
<p>流量回放控制</p>
<p>虚拟网络支撑模块可以建立起虚拟节点之间的通信链路,从而实现整个虚拟网络拓扑的自动化配置和快速重构。通过仿真网络中的带宽、延迟等参数,可以定制出特定的网络环境。这为测试人员提供了高度灵活性,使其能够根据测试需求快速搭建不同的虚拟网络拓扑结构和参数,大大提升测试效率。</p>
<p>功能参数设计方面，平台具备丰富的网络仿真功能。它采用2U标准网络机箱，拥有1个10/100/1000Base-T管理网口以及6个万兆SFP＋业务网口，这些网口组成了三组万兆物理仿真引擎。平台提供了Web图形化控制界面，用户可以通过该界面进行各种网络仿真设置和控制。</p>
<p>每个仿真引擎可以创建15条独立的双向虚拟链路，整机三个引擎一共可以创建45条虚拟链路，每条虚拟链路的损伤参数可以独立配置。此外，每个网口支持45个报文过滤规则，单个仿真引擎每个方向的报文处理性能为1500000pps。平台还支持带宽抖动控制、队列深度功能以及MTU功能，可以实现流量整形和各种网络仿真需求。它还支持各种报文损伤模式，包括时延抖动、随机丢包、周期性丢包、报文乱序、重复报文、报文任意字段篡改等。平台内置网络损伤抓包分析功能，支持对指定的物理链路或虚拟链路进行抓包分析，以便日后的故障排查和分析。</p>
<p>性能参数设计方面，平台支持多项控制和配置，包括带宽控制、报文乱序控制、重复报文控制、丢包范围控制、构造时延范围控制、隔离网络的构建以及虚拟端口的构建。它具备出色的带宽控制范围，支持从0到10000Mbps的控制，最小控制颗粒度为1bps。此外，它还支持对乱序、重复报文和丢包的高精度控制，以及时延范围的设置。平台可以构建1000个隔离网络和5000个虚拟端口，满足不同仿真场景的需求。这些性能参数确保了平台在网络仿真和测试方面的高度可配置性和精确度。</p>
<p>1. 系统概述</p>
<p>本方案旨在设计一款车载网络仿真与管理系统，该系统将使用2U标准网络机箱，集成高性能的网络仿真引擎，提供丰富的网络损伤模拟、分析和管理功能。系统的设计满足车载网络环境的测试、评估及研发需求。系统将内置天津、北京、上海、重庆、成都、杭州、南京、福州、济南、广州、合肥、沈阳、西安等中国主要城市之间的网络环境配置模板。这些模板将模拟包括2G、3G、4G、WiFi在内的各种网络环境，以及这些城市与中国其它32地（包括23个省、5个自治区、4个直辖市）客户端之间的网络通信特性。</p>
<p>2. 硬件配置</p>
<p>机箱规格：2U标准网络机箱，适合各种机架安装环境。</p>
<p>管理网口：1个10/100/1000Base-T网口，用于系统管理和控制。</p>
<p>业务网口：6个万兆SFP+端口，分为三组，每组提供两个端口，组成物理仿真引擎。</p>
<p>3. 仿真引擎</p>
<p>虚拟链路：每个仿真引擎可创建至少15条双向虚拟链路，合计至少45条。</p>
<p>报文处理性能：每个仿真引擎每个方向的报文处理能力为1500000pps。</p>
<p>报文过滤规则：每个网口支持至少45个报文过滤规则。</p>
<p>4. 软件功能</p>
<p>控制界面：Web图形化界面，用于控制和监控系统状态。</p>
<p>网络损伤模拟：支持带宽抖动、队列深度调节、MTU设置、时延构造等多种仿真。</p>
<p>损伤抓包分析：内置分析工具，可对物理及虚拟链路进行抓包分析，记录延迟、丢包、误码等数据。</p>
<p>报文分类处理：支持基于IPv4/IPv6地址、MAC地址、VLAN、MPLS标签、TCP/UDP端口等的报文分类处理。</p>
<p>持久性与可视化：配置信息可存储于设备内部，断电后可恢复；提供实时数据统计和曲线图。</p>
<p>5. 网络环境模板</p>
<p>预设模板：内置主要城市之间的2G、3G、4G、Wifi网络环境配置模板。</p>
<p>6. 回放功能</p>
<p>网络状态回放：支持通过Windows或Android App录制网络状态，并生成txt回放文件。</p>
<p>7. API支持</p>
<p>API接口：提供restfulAPI 和Python API，支持高频率的参数调整。</p>
<p>8. 路由器仿真</p>
<p>仿真协议：支持RIP、OSPF、BGP、MPLS等协议，以及IPsec、OpenVPN、VXLAN等技术。</p>
<p>9. 数据交换与网络隔离</p>
<p>网络构建：模块提供数据交换和网络隔离功能，支持DHCP服务和手动指定MAC/IP。</p>
<p>10. 产品信息</p>
<p>品牌型号：提供产品品牌、型号、数量及详细的性能参数信息。</p>
<p>11. 性能参数</p>
<p>带宽控制：范围0到10000Mbps，颗粒度1bps。</p>
<p>报文乱序：控制颗粒度0.001％。</p>
<p>重复报文：控制颗粒度0.001％。</p>
<p>丢包控制：范围0%到100%，颗粒度0.0001％。</p>
<p>时延构造：范围0到10秒，颗粒度0.1ms。</p>
<p>网络隔离：支持构建不低于1000个隔离网络。</p>
<p>虚拟端口：支持构建不低于5000个虚拟端口。</p>
<p>12. 实施步骤</p>
<p>硬件采购与组装：</p>
<p>精选符合性能需求的硬件组件。</p>
<p>完成网络机箱的组装和配置。</p>
<p>软件开发与集成：</p>
<p>开发Web控制界面和后端仿真逻辑。</p>
<p>集成所有软件功能，确保系统稳定运行。</p>
<p>系统测试：</p>
<p>对每项功能进行严格测试，确保性能符合要求。</p>
<p>对系统进行压力测试，验证稳定性和可靠性。</p>
<p>部署与培训：</p>
<p>在实际环境中部署系统。</p>
<p>对用户进行详细的操作培训。</p>
<p>维护与升级：</p>
<p>提供持续的技术支持和定期的系统升级。</p>
<p>13. 技术选型</p>
<p>仿真技术：采用先进的网络仿真技术模拟真实网络环境。</p>
<p>前端技术：使用现代Web技术栈，如React或Vue.js，构建用户界面。</p>
<p>后端技术：利用高性能的后端框架，如Node.js或Python Flask，提供稳定的API服务。</p>
<p>14. 预期结果</p>
<p>实现一款功能全面、性能优越的车载网络仿真与管理系统。</p>
<p>提供真实、准确的网络环境仿真，适用于广泛的测试和评估场景。</p>
<p>系统操作简便，支持多种网络环境的快速配置和管理。</p>
<h4 id="带宽控制"><a href="#带宽控制" class="headerlink" title="带宽控制"></a>带宽控制</h4><ol>
<li>带宽控制原理</li>
</ol>
<p>1. 基于流的带宽控制</p>
<p>基于流的带宽控制是根据流的标识符来控制流量的传输速率。流的标识符可以是源地址、目的地址、端口号、协议类型等。基于流的带宽控制可以实现细粒度的带宽控制，可以根据不同的流类型或不同的应用程序来分配不同的带宽。</p>
<p>基于流的带宽控制算法可以分为以下几种类型：</p>
<ul>
<li>令牌桶算法：令牌桶算法是基于令牌桶的简单但有效的带宽控制算法。令牌桶算法会定期向桶中放入令牌，流量只能在令牌桶中还有令牌时才能发送。</li>
<li>窗口算法：窗口算法是基于窗口的带宽控制算法。窗口算法会维护一个窗口，窗口大小代表了当前可用的带宽。流量只能在窗口中还有空间时才能发送。</li>
<li>拥塞控制算法：拥塞控制算法是用于控制网络拥塞的带宽控制算法。拥塞控制算法会根据网络的拥塞情况来调整流量的传输速率。</li>
</ul>
<p>2. 基于端口的带宽控制</p>
<p>基于端口的带宽控制是根据端口号来控制流量的传输速率。端口号是应用程序使用的标识符，不同的应用程序通常使用不同的端口号。基于端口的带宽控制可以实现简单的带宽控制，可以根据不同的应用程序来分配不同的带宽。</p>
<p>基于端口的带宽控制算法可以分为以下几种类型：</p>
<ul>
<li>固定带宽控制：固定带宽控制是将每个端口的带宽固定为一个值。</li>
<li>动态带宽控制：动态带宽控制会根据网络的负载情况来调整每个端口的带宽。</li>
</ul>
<p>3. 基于路由的带宽控制</p>
<p>基于路由的带宽控制是根据路由表来控制流量的传输速率。路由表中记录了网络中的路由信息，包括路由的源地址、目的地址、下一跳地址和带宽。基于路由的带宽控制可以实现灵活的带宽控制，可以根据不同的路由来分配不同的带宽。</p>
<p>基于路由的带宽控制算法可以分为以下几种类型：</p>
<ul>
<li>基于路由表的带宽控制：基于路由表的带宽控制是直接使用路由表中的带宽信息来控制流量的传输速率。</li>
<li>基于路径的带宽控制：基于路径的带宽控制会根据流量的路径来计算流量的传输速率。</li>
</ul>
<p>通过精确控制带宽，网络专业人员可以更好地评估应用程序、设备或系统在不同网络环境下的性能表现，并进行有效的性能优化、安全测试和攻防演练。这些方法和工具可以在网络靶场中组合使用，以便根据需要模拟各种网络条件。</p>
<p>以下是网络靶场内基于虚拟网络NFV的带宽控制算法：</p>
<p>令牌桶算法：令牌桶算法是一种常见的带宽控制方法，它基于令牌桶的概念来限制数据包的传输速率。虚拟网络中可以配置令牌桶算法，以确保网络流量不超出所分配的带宽。</p>
<p>Leaky Bucket（漏桶）算法：漏桶算法是另一种流量调整工具，它模拟了一个有限容量的桶，数据包以固定速率从桶中流出。当桶满了，多余的数据包将被丢弃。</p>
<p>流量整形（Traffic Shaping）：流量整形是一种广泛使用的带宽控制方法，它通过调整传输速率、缓冲区大小和延迟等参数，来限制数据流的速率。用于模拟不同的带宽条件。</p>
<p>Quality of Service（QoS）：QoS 是一种网络管理技术，用于为不同类型的流量分配不同的优先级和带宽。在虚拟网络中，QoS 可以用于确保关键应用程序的带宽需求得到满足。</p>
<p>网络虚拟化技术：通过使用网络虚拟化技术，可以为不同的虚拟网络划分独立的带宽资源。这允许在同一物理网络上运行多个虚拟网络，并为它们分配不同的带宽。</p>
<p>流量限制策略：通过配置流量限制策略，可以为特定的虚拟机、子网或应用程序限制带宽使用。这对于控制网络资源的分配非常有用。</p>
<p>负载均衡：负载均衡技术可以帮助分散网络流量，从而避免某些节点或链路过载。通过动态调整流量分布，可以有效地管理带宽利用率。</p>
<p>流量监控和分析：网络靶场通常还会使用流量监控和分析工具来实时监测网络流量，以便及时识别和解决带宽问题。</p>
<ol>
<li>常见带宽控制工具</li>
</ol>
<p>网络靶场内，基于linux的底层操作系统模拟带宽控制使用以下三种开源的命令工具，网络靶场内内嵌带宽控制脚本，在需要调用的虚拟机镜像设置。tc（Traffic Control）：tc 是 Linux 操作系统中的一个命令行工具，用于配置和管理网络带宽、延迟、丢包等参数。它支持各种队列管理算法，如 Token Bucket、HFSC（Hierarchical Fair Service Curve）等，可用于模拟各种网络条件。NetEm：NetEm 是 Linux 内核中的一个模块，用于模拟网络延迟和丢包。它允许用户指定特定接口的延迟、带宽和丢包率等参数，从而模拟不同的网络情况。Wondershaper：Wondershaper 是一个用于 Linux 操作系统的简单的带宽控制脚本，它可以轻松地限制特定接口的带宽使用。</p>
<p>在网络靶场内带宽控制的应用场景</p>
<p>网络攻击可能会导致网络拥塞或资源耗尽，从而影响网络的性能和可用性。在网络靶场内，可以使用带宽控制来研究网络攻击的影响。可以使用基于流的带宽控制来模拟网络攻击对关键业务流量的影响。这样，可以让网络安全人员了解网络攻击对网络性能和可用性的影响，从而制定有效的防御措施。</p>
<p>以下是一些具体应用场景：</p>
<ul>
<li>模拟网络拥塞<ul>
<li>在网络靶场内，可以使用基于流的带宽控制来限制某些流类型或应用程序的带宽，从而模拟网络拥塞。例如，可以限制视频流的带宽，从而模拟视频会议时网络拥塞的情况。</li>
<li>在网络靶场内，可以使用基于路由的带宽控制来模拟网络拥塞。例如，可以增加网络路径的延迟，从而模拟网络拥塞的情况。</li>
</ul>
</li>
<li>研究网络攻击的影响<ul>
<li>在网络靶场内，可以使用基于流的带宽控制来模拟网络攻击对关键业务流量的影响。例如，可以限制数据库连接的带宽，从而模拟数据库攻击对网络性能的影响。</li>
<li>在网络靶场内，可以使用基于路由的带宽控制来模拟网络攻击对网络路径的影响。例如，可以增加网络路径的丢包率，从而模拟网络攻击对网络可用性的影响。</li>
</ul>
</li>
<li>进行网络安全培训<ul>
<li>在网络安全培训中，可以使用基于流的带宽控制来模拟网络攻击对网络安全的影响。例如，可以限制防火墙的带宽，从而模拟网络攻击对防火墙的绕过。</li>
<li>在网络安全培训中，可以使用基于路由的带宽控制来模拟网络攻击对网络安全的影响。例如，可以增加网络路径的延迟，从而模拟网络攻击对网络安全的影响。</li>
</ul>
</li>
</ul>
<p><strong>路由协议仿真</strong></p>
<p>路由协议的概念</p>
<p>路由协议是用于计算网络中路由器之间的路由表的协议。路由表中记录了网络中的路由信息，包括路由的源地址、目的地址、下一跳地址和带宽。</p>
<p>路由协议可以分为两类：</p>
<ul>
<li><p>距离向量协议：距离向量协议是基于距离向量的路由协议。距离向量协议中的路由表项包含了到目的地址的距离和下一跳地址。距离向量协议中的路由器会定期向相邻路由器发送路由更新信息。</p>
</li>
<li><p>链路状态协议：链路状态协议是基于链路状态的路由协议。链路状态协议中的路由表项包含了到目的地址的距离、下一跳地址和链路状态。链路状态协议中的路由器会周期性地发送链路状态信息。</p>
<p>虚拟网络支撑模块主要包括两部分，网络协议构建器和网络协议分析器。功能主要包括过滤规则设置，报文捕获，报文分析与统计，协议参数输入与报文构造，报文发送和协议配合工作过程分析等。支持多种网络协议服务模拟。</p>
<p>支持虚拟机和容器多网卡的仿真，支持对指定虚拟链路的详细特性进行配置，包括链路带宽、延迟和丢包率等，用于模拟相关区域的网络实际情况；支持路由器的仿真功能，路由器仿真具备真实路由系统，支持RIP、OSPF、BGP和MPLS，可支持配置多种VPN协议，如IPsec和OpenVPN。还支持VXLAN协议，并与实物路由器实现互联互通。除此之外，它还提供数据交换和网络隔离功能，可为构建的虚拟网络自动构建DHCP服务，为虚拟节点分配IP，并支持指定虚拟节点的MAC和IP。</p>
<p>协议报文参数编辑：协议报文参数编辑模块针对每一个协议提供参数的配置，用户可以按协议的格式和字节顺序来编辑输入协议的参数，后台逻辑完成数据格式和字节顺序的转换工作。</p>
<p>报文构造与发送：报文构造与发送模块根据用户输入编辑输入的协议参数，自动构造相应的协议报文，并将构造好的报文通过网络发送出去。系统支持的协议报文包括有：数据链路层的以太网帧和PPPOE帧；网络层的IP、ARP/PARP、ICMP等协议，传输层的TCP和UDP；以及常用的路由协议报文（RIP、OSPF、BGP等）。还可以处理IP和TCP等协议报文中的选项。</p>
</li>
</ul>
<p>VyOS 的路由协议支持</p>
<p>VyOS是一个基于Debian Linux的开源路由器和防火墙操作系统。它具有强大的网络功能，包括路由、VPN、防火墙、QoS等。VyOS支持多种路由协议，如BGP、OSPF、RIP等，这使得它成为模拟网络协议的理想选择。</p>
<p>以下是一个使用 VyOS 来模拟 RIP 协议的示例：</p>
<ol>
<li>在网络靶场中部署两个 VyOS 路由器，分别命名为 R1 和 R2。</li>
<li>在 R1 上配置 RIP 协议：</li>
</ol>
<p>router rip</p>
<p>network 192.168.1.0</p>
<p>network 192.168.2.0</p>
<ol>
<li>在 R2 上配置 RIP 协议：</li>
</ol>
<p>router rip</p>
<p>network 192.168.2.0</p>
<p>network 192.168.3.0</p>
<ol>
<li>使用 ping 命令来测试 R1 和 R2 之间的路由：</li>
</ol>
<p>ping 192.168.2.2</p>
<p>通过对 VyOS 路由协议的支持，网络靶场可以更加逼真地模拟真实的网络环境，从而帮助网络安全人员进行网络安全培训和攻防演练。</p>
<p>以下是一些需要注意的问题：</p>
<ul>
<li>在网络靶场内部署 VyOS 路由器时，需要考虑路由器的性能和可用性。</li>
<li>在配置 VyOS 路由协议时，需要注意路由协议的参数设置。</li>
<li>在进行路由表交换时，需要考虑网络拓扑和链路状态。</li>
</ul>
<h4 id="报文分类"><a href="#报文分类" class="headerlink" title="报文分类"></a>报文分类</h4><h5 id="基于特征的报文分类"><a href="#基于特征的报文分类" class="headerlink" title="基于特征的报文分类"></a>基于特征的报文分类</h5><p>报文的特定特征可以包括：</p>
<ul>
<li>报文的源地址和目的地址</li>
<li>报文的端口号</li>
<li>报文的协议类型</li>
<li>报文的流量特征（例如，流量大小、流量速率）</li>
</ul>
<h5 id="基于机器学习的报文分类"><a href="#基于机器学习的报文分类" class="headerlink" title="基于机器学习的报文分类"></a>基于机器学习的报文分类</h5><p>这种方案是使用机器学习算法来进行报文分类。机器学习算法可以根据大量的训练数据来学习报文的分类规律。</p>
<h5 id="基于混合方式的报文分类"><a href="#基于混合方式的报文分类" class="headerlink" title="基于混合方式的报文分类"></a>基于混合方式的报文分类</h5><p>这种方案是将上述两种方案结合起来使用。例如，可以使用基于特征的报文分类来进行初步分类，然后使用基于机器学习的报文分类来进行细粒度的分类。</p>
<h5 id="具体实施方案"><a href="#具体实施方案" class="headerlink" title="具体实施方案"></a>具体实施方案</h5><p>根据网络靶场的具体需求，可以选择合适的技术方案。例如，如果需要对报文进行细粒度的分类，可以选择基于机器学习的报文分类方案。如果需要实时处理大量流量，可以选择基于特征的报文分类方案。</p>
<p>报文分类是网络靶场的重要功能，可以帮助网络安全人员进行网络安全培训和攻防演练。在选择报文分类技术方案时，需要综合考虑网络靶场的具体需求、准确性要求和性能要求。</p>
<p>以下是一些常用的报文分类技术方案的具体介绍：</p>
<ul>
<li>基于特征的报文分类</li>
<li>基于协议的报文分类：根据报文的协议类型来进行分类。例如，可以将所有 HTTP 报文分为一类，将所有 TCP 报文分为一类。</li>
<li>基于流量的报文分类：根据报文的流量特征来进行分类。例如，可以将流量大小超过一定阈值的报文分为一类，将流量速率超过一定阈值的报文分为一类。</li>
<li>基于应用的报文分类：根据报文的应用类型来进行分类。例如，可以将所有 Web 应用的报文分为一类，将所有游戏应用的报文分为一类。</li>
<li>基于机器学习的报文分类</li>
<li>支持向量机：支持向量机是一种常用的机器学习算法，可以用于分类和回归问题。</li>
<li>决策树：决策树是一种简单易用的机器学习算法，可以用于分类和回归问题。</li>
<li>神经网络：神经网络是一种强大的机器学习算法，可以用于分类和回归问题。</li>
</ul>
<p>报文捕获根据指定的过滤规则，实时的捕获满足条件的网络报文，用户可配置报文的过滤规则，设定捕获特定类型的数据包，包过滤操作在系统内核空间进行，极大地提高了捕获的效率。</p>
<p>性能参数如下：</p>
<ul>
<li>支持带宽控制范围0到10000Mbps，最小控制颗粒度1bps；</li>
<li>支持报文乱序控制颗粒度为0.001％；</li>
<li>支持重复报文控制颗粒度为0.001％；</li>
<li>支丢包范围0%到100%，控制颗粒度为0.0001％；</li>
<li>支持构造时延范围0到10秒，控制颗粒度为0.1ms；</li>
<li>支持不低于1000个隔离网络的构建；</li>
<li>支持不低于5000个虚拟端口构建。</li>
</ul>
<p>端口和协议识别：</p>
<p>这是一种基本的报文分类方法，它通过检查报文中的目标端口和传输协议来确定流量类型。例如，TCP端口80通常用于HTTP流量，端口443用于HTTPS。这种方法适用于识别一些常见的应用和服务，但无法处理加密流量或自定义端口。</p>
<p>深度报文检测（DPI）：</p>
<p>DPI是一种高级的报文分类技术，它通过深入分析报文内容来确定流量类型。识别加密流量，因为它不仅仅依赖于端口信息。DPI使用特征匹配、正则表达式等技术来识别应用层协议和应用程序。这是一种强大的方法，可以对广泛的流量进行分类，但也需要更多的计算资源。</p>
<p>基于流的分类：</p>
<p>基于流的分类方法将一组相关报文组合在一起，然后根据流的行为进行分类。这种方法可以捕获与特定应用程序或连接相关的所有报文，并进行更准确的分类。例如，可以将所有与Skype通话相关的报文组合在一起，并将其识别为Skype流量。</p>
<p>机器学习和AI：</p>
<p>机器学习和人工智能（AI）在报文分类方面表现出色。这些技术可以分析大量的历史流量数据，并学习识别不同应用程序和流量类型的模式。一旦训练完成，它们可以自动分类新流量。这使得它们能够适应新兴应用和变化的网络环境。</p>
<p>网络流分析工具：</p>
<p>有一些专门的网络流分析工具，如Wireshark、tcpdump和Bro（现在称为Zeek），它们可以用于报文分类。这些工具提供了详细的流量分析功能，可以帮助网络管理员深入了解网络中的流量模式和特征。</p>
<p>签名和规则引擎：</p>
<p>这种方法使用已知的应用程序或威胁的特征签名或规则来识别流量。例如，入侵检测系统（IDS）使用这种方法来检测已知的攻击模式。这对于特定应用程序和威胁的分类非常有效，但无法处理未知的流量。</p>
<h4 id="带宽、延迟、丢包仿真"><a href="#带宽、延迟、丢包仿真" class="headerlink" title="带宽、延迟、丢包仿真"></a>带宽、延迟、丢包仿真</h4><h5 id="带宽仿真技术方案"><a href="#带宽仿真技术方案" class="headerlink" title="带宽仿真技术方案"></a>带宽仿真技术方案</h5><p>基于流量的带宽仿真：根据报文的流量特征来进行带宽限制。例如，可以将流量大小超过一定阈值的报文限制为特定的带宽。</p>
<p>基于路由的带宽仿真：根据路由表来进行带宽限制。例如，可以将某些路径的带宽限制为特定的值。</p>
<p>基于硬件设备的带宽仿真：使用硬件设备来实现带宽限制。例如，可以使用防火墙或交换机来限制带宽。</p>
<h5 id="延迟仿真技术方案"><a href="#延迟仿真技术方案" class="headerlink" title="延迟仿真技术方案"></a>延迟仿真技术方案</h5><p>基于路由的延迟仿真：根据路由表来进行延迟增加。例如，可以将某些路径的延迟增加为特定的值。</p>
<p>基于硬件设备的延迟仿真：使用硬件设备来实现延迟增加。例如，可以使用防火墙或交换机来增加延迟。</p>
<p>基于软件的延迟仿真：使用软件来实现延迟增加。例如，可以使用网络模拟器来增加延迟。</p>
<h5 id="丢包仿真技术方案"><a href="#丢包仿真技术方案" class="headerlink" title="丢包仿真技术方案"></a>丢包仿真技术方案</h5><p>基于流量的丢包仿真：根据报文的流量特征来进行丢包。例如，可以将流量大小超过一定阈值的报文丢弃。</p>
<p>基于路由的丢包仿真：根据路由表来进行丢包。例如，可以将某些路径的丢包率设置为特定的值。</p>
<p>基于硬件设备的丢包仿真：使用硬件设备来实现丢包。例如，可以使用防火墙或交换机来丢弃报文。</p>
<h2 id="流量仿真模块"><a href="#流量仿真模块" class="headerlink" title="流量仿真模块"></a>流量仿真模块</h2><ul>
<li>DDoS攻击类型不少于80种 ，DDoS攻击报文长度可设置，提供产品功能截图证明，截图中需有具体的攻击类型数量并能清晰识别。</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/8bfbeaf495fd5c22fcc66c714a81e6f5.png" alt="1703509084560"></p>
<p>报文设置</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/14b02b06b958674c9a0dc1a733fb7e08.jpeg" alt="2030ab1c7d70f0069f6e82be695e831b"></p>
<p>ddos工具攻击图</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/c24b7e60b8952259732baa8a3357e024.png" alt="1703537589164"></p>
<p>工具数量90种</p>
<h4 id="流量产生架构"><a href="#流量产生架构" class="headerlink" title="流量产生架构"></a>流量产生架构</h4><p>功能参数设计方面，系统具备强大的测试和模拟能力，支持多种网络设备和协议的仿真。系统提供6个测试端口，包括4个10GE SFP+接口兼容1/10G速率模式，2个QSFP28接口兼容1/10/25G速率模式，以及2个10/100/1000M自适应网口用于管理。系统采用机架式结构形式，并通过交流电压供电，工作温度范围在0~35℃之间。系统基于B/S架构的管理方式，支持多用户同时连接。系统还支持RFC 2544吞吐测试、丢包率测试、时延测试以及背靠背测试，以满足各种网络性能测试需求。此外，系统还支持RFC 2889地址缓存容量测试和地址学习速率测试，RFC 3511 HTTP/TCP并发、新建、吞吐测试，以及RFC 4445 RTSP/RTP/RTCP播放质量测试、播放并发测试、播放吞吐测试。系统还支持模拟多种常见互联网协议和工业互联网协议，包括ARP、TCP、UDP、HTTP、HTTPS、LDAP、IPoE、DHCP、DNS、PostgreSQL、SMTP等。此外，系统支持视频协议模拟，如RTSP/RTCP/RTP和H.264，以及组播协议模拟，如含IGMP和MLD。系统还能够模拟动态路由协议，如RIPv1/v2和OSPFv2，以及工业互联网协议，包括BACnet、Omron、OPC_UA、Profinret、Siemens S7等20种工业互联网协议。此外，系统还支持车载以太网协议模拟，如DOIP和SOMEIP，并能够对上述类别协议数据包进行构建、捕获和解析，覆盖层次从L2到L7。系统同时支持IPv4和IPv6网络，并能够测试各种被测设备类型，包括路由器、交换机、防火墙、负载均衡、日志审计、服务器等。此外，系统还支持国密算法HTTPS性能测试和国密算法VPN测试，包括ECC-SM4-SM3加密套件，同时支持RSA和国密算法的SSL协议。系统还支持IPSec VPN国密新建、并发、吞吐性能测试，以及SSL VPN国密并发测试。此外，系统还支持DDoS攻击探测和模糊测试、安全检测评估、漏洞扫描以及攻击报文重放，包括不少于80种DDoS攻击类型和11万个漏洞数据利用库漏洞。系统能够实现攻击计数器功能，统计攻击率、攻击吞吐量等参数，并支持上传自定义攻击流量。系统还可以混合攻击流量和正常流量，以测试受测设备的攻击探测能力，并监控被测设备的攻击结果判断。最后，系统能够模拟百万级用户同时进行业务操作，并对每个用户的操作进行统计和报告，以满足各种测试需求。</p>
<p>性能参数要求方面，HTTP每秒新建会话达到260万，最大并发会话达到6400万，最大吞吐速率达到120G。HTTPS每秒新建会话为5.6万（国密套件为3万），最大并发会话为224万（国密套件为224万），最大吞吐速率为80G（国密套件为7.7G）。RFC UDP吞吐率（双向64字节）为195G，TCP每秒新建连接为410万，最大并发连接为6400万，TCP最大吞吐速率（双向）为140G。这些性能参数的设计确保了系统在高负载和复杂网络环境下的出色性能表现，满足了广泛的测试需求。</p>
<p>下图为网络靶场的体系结构图。该靶场上部署了流量产生器，提供模拟整个网络活动的能力，产生代表性的网络流量。同时，该靶场还能够模拟各种人员角色（系统用户、管理员、对手和中立人员等），提供靶场各节点上人类行为的模拟能力，可产生人类之间真实的系列事件，靶场中的角色可以驱动和运行桌面环境中的各种应用程序，可与验证系统进行交互，如身份认证系统等。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/7b3eed7c286251fe1fd9a757758b2fdc.png"></p>
<p>流量产生器在网络靶场位置</p>
<p>通过使用系统管理员模拟训练系统来模拟目标环境。靶场内含一个网络流量合成套件，其中的多用户流量工具插件部署在网络流量合成套件之上以描述用户，并产生行为仿真。MUTT合成了电子邮件客户、网页客户和SSH客户等的行为流量。该能力非常适合于测试安全装备和训练边界防护技术人员。</p>
<p>网络流量特征分析建模及流量生成和高逼真多样化用户行为模拟。其中流量的生成是构建高逼真网络靶场的基础。由于真实网络环境中，异常流量的存在不容忽视。所以在网络靶场流量生成中，异常流量也必须考虑。</p>
<h4 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h4><p>提供2至7层流量生成和分析能力，与强大的网络仿真和应用流量，提供功能、性能、网络安全和基准测试，适用于汽车虚拟网络管理系统的流量仿真。针对网络靶场的功能特点，实验环境以及系统设计需要满足如下要求：</p>
<p>（1）生成异常流量种类的多样性</p>
<p>真实网络环境中存在的异常流量种类繁多，因而在建立高逼真网络靶场时，需要尽可能产生更多类型的异常流量，以添加到网络靶场之中，提高网络靶场的逼真程度。</p>
<p>（2）网络异常流量产生机制的可扩展性</p>
<p>随着信息技术的发展，所发现的各种系统漏洞和软件漏洞越来越多，由此引发的网络攻击也日新月异，每一种新的攻击将可能产生新的网络异常流量。为了使网络靶场中</p>
<p>的异常流量能够与现实网络异常流量保持同步，在设计网络异常流量产生机制时，需要保证其可扩展性，以适应新的网络异常流量的生成需求。</p>
<p>（3）异常网络流量产生的便利性</p>
<p>针对网络异常流量生成的目标，需要能够及时产生一系列满足特定攻击强度和攻击特征的流量。网络异常流量生成的便利性对于构建一个动态变化的网络靶场环境具有十分重要的意义。</p>
<p>（4）系统需要具备分布式架构环境</p>
<p>在实际网络环境中，网络异常流量的产生既有可能是由某个单个主机引起（如攻击者通过木马、后门控制受害者主机），也有可能是由多个主机产生（如控制僵尸主机发动DDoS攻击）。在设计网络异常流量生成系统时，如果流量发送端仅使用一台主机，很难生成高性能的网络异常流量。因此，网络异常流量生成系统需要设计成分布式架构。 综上所述，网络异常流量生成系统应该使用分布式架构部署，需要能够很方便地产生尽可能全面的网络异常流量，同时还需要具备一定的扩展性，以应新异常流量的生成需求。</p>
<h4 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h4><p>针对研究目标，文章从异常流量时空特征出发，借助Snort规则库，建立其解析机制以构造数据报文，刻画异常流量空间特征；同时使用不同的时间分布模型计算数据包</p>
<p>发送时间间隔，刻画异常流量时间特性。通过此时间间隔控制数据包发送过程，产生符合时空特性的网络异常流量。最后设计并开发网络异常流量生成演示系统并验证实验生成流量的有效性。具体研究内容如：</p>
<p>（1）网络异常流量生成框架设计。网络流量生成框架设计是本论文研究的基础。本文通过对网络异常流量进行分析，从空间和时间角度提取出网络协议头、数据包负载和数据包发送时间间隔三个特征，设计了基于时空模型的网络异常流量生成框架，并对框架中的特征翻译模块、数据包构造模块和流量生成模块及每个模块的组成单元进行具体描述。</p>
<p>（2）基于时空模型的网络异常流量生成机制实现。该机制中，特征翻译模块和数据包构造模块构成空间模型部分。Snort规则库给出了网络异常流量的空间特征，省去了人工提取特征的过程。但是Snort规则库是一般以文本形式给出，文本内容是均以Snort文法规则描述。特征翻译模块设计了一种基于文法识别工具ANTLR 的Snort规则解析机制，识别其各个特征字段及取值，存储至规则结构体。数据包构造模块读取该结构体，获得特征字段取值，构造异常流量数据包。流量生成模块根据不同网络异常流量的特性，使用不同的时间分布模型计算数据包发送间隔，并控制数据包的发送过程，最终形成网络异常流量。</p>
<p>（3）异常网络流量生成演示系统开发与流量验证。根据Snort规则翻译机制以及数据包时间特征，设计开发异常网络流量生成演示系统。同时对生成的流量进行时空特性的检验，验证流量的有效性。</p>
<h4 id="流量特性"><a href="#流量特性" class="headerlink" title="流量特性"></a>流量特性</h4><p>流量特征在网络异常流量检测中具有重要作用。可以通过检测IP报头，提取其中的源IP地址，轻易识别来自非法IP的连接请求。通过提取TCP报文头部中的各标志位，对比合法标志位集合，判断某数据包TCP标志位组合的合法与否。通过搜索特征字符附近内容来识别含有特殊病毒信息的Email。通过统计分析某个命令在特定时间段内发生的次数，对比预设阈值，判断是否发生DoS攻击。下表列出了对常见攻击流量进行检测时使用的特征项。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/d7ab2102996ca60ff26542d01999f1fd.png"></p>
<p>攻击类型</p>
<p>从上表列出的常见的24种攻击可以看出，网络异常流量特征的范围覆盖很广，有简单的协议头部字段识别和载荷识别，也有复杂的数据包时间间隔判断和多协议多特征综合判断。概括起来可以从空间和时间角度，使用网络协议头、负载信息和数据包发送时间间隔三个特征对网络异常流量进行描述。</p>
<p>（1）网络协议头 TCP/IP协议族是Internet的基础，它为网络设备提供连接的同时，也为网络攻击的实施提供了平台。由于在设计TCP/IP协议族协议时考虑不够周全，给了网络攻击以可趁之机。对这些协议的漏洞利用而产生的流量一般可以通过数据包头部的各项字段显示出来。因此可以通过对IP、TCP、UDP和ICMP这四种常见协议头部各字段进行分析，提取能够表征某种攻击特征的字段，描述该种网络攻击流量特征。以IP数据包为例，一般检测器源宿IP地址，协议类型以及分片标志位等字段。</p>
<p>（2）负载信息 有些攻击是基于内容的，这类攻击产生的流量特征一般不会体现在网络协议头部字段。描述这类攻击产生的流量特征一般从其网络数据包负载入手，分析提取负载信息的关键信息。针对某种特定攻击，其负载信息一般会存在符合某种规律的特殊字符串，可以利用这个特殊字符串来描述该种攻击流量特征。如缓冲区溢出在实现时依赖特殊的填充数据、shellcode字段以及返回地址等，这些特殊构造的数据都会以数据包负载的形式体现。</p>
<p>（3）数据包发送时间间隔</p>
<p>很多攻击流量特征并不是从一两个数据包上体现出来的，而是通过一段时间内该种数据包的统计特征来体现，这种统计特征表现在数据包发送速率上。如拒绝服务攻击需要持续不断地发送数据包，达到拒绝服务的目的，因而其发送频率非常快，统计特征一般会远远超过设定阈值；扫描攻击为了躲避检测，会降低扫描速率，但从一个较长的时间尺度来看，其时间也会体现出某种特征，最为常见的就是周期性特征。采用Snort规则库作为异常流量特征库，具体原因如下：</p>
<p>（1）丰富性。Snort规则库在入侵检测中扮演着重要角色，其基本原理是根据入侵描述信息对捕获的网络数据包进行搜索和匹配，检测网络攻击。Snort规则库目前能够识别包括拒绝服务攻击，扫描攻击，Web攻击，缓冲区溢出攻击等在内的多种形式的攻击，满足对生成异常流量种类丰富性的需求。同时Snort规则库一直由官方开发团队和社区维护更新，不断地丰富着网络攻击特征库。</p>
<p>（2）开源性，可扩展性。Snort规则的开源特性使得其获取途径十分方便。Snort规则语法简单，根据其语法规则能够很容易写出新的攻击描述语言来表征某种新的网络攻击。根据新编写的Snort规则，结合本文设计框架，即可生成新的异常流量，满足需求中的可扩展性要求。</p>
<h4 id="系统设计"><a href="#系统设计" class="headerlink" title="系统设计"></a>系统设计</h4><h5 id="流量生成原理"><a href="#流量生成原理" class="headerlink" title="流量生成原理"></a>流量生成原理</h5><p>本文异常流量生成系统的基本思想是通过网络协议头特征和负载信息构造异常流量数据包，通过数据包发送时间间隔控制数据包发送过程，最终得到网络异常流量。其基本原理如下图所示。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/d3c2871145b7d41cdacbfe0e94f3b659.png"></p>
<p>网络常流量生成系统设计原理</p>
<p>结合异常流量生成需求和系统设计原理，我们提出了一种基于时空模型的网络异常流量生成机制框架，如下图3-2所示。框架由特征翻译模块、数据包构造模块和流量生成模块构成。其中，特征翻译模块用与解析异常流量特征库，获取网络协议头和数据包负载特征字段，交由数据包构造模块构造异常流量数据包。流量生成模块接收流量时间参数，控制数据包发送过程，产生网络异常流量。框架中各个功能模块独立具有如下优点：①解耦合的功能模块便于系统的开发实现；②各独立模块在维护上十分容易。</p>
<h5 id="流量生成框架"><a href="#流量生成框架" class="headerlink" title="流量生成框架"></a>流量生成框架</h5><p>下图为流量生成框架。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/057d034c32953d539ff0741460e0639d.png"></p>
<p>基于时空模型的网络流量生成机制框架</p>
<p>框架中输入为网络异常流量特征库和流量时间参数，输出即为所需的网络异常流量。</p>
<p>框架中各部分功能详细描述如下：</p>
<p>（1）异常流量特征库：该特征库是对一系列异常流量特征进行描述的信息库。可以是一个数据库表也可以是一个描述性文件，具体取决于实现的便利性。流量库可以持续更新，保证系统生成流量的丰富性。</p>
<p>（2）特征解析引擎：该引擎主要功能是完成对异常流量特征的解析工作。如果异常流量特征库是一个数据库表，则该引擎需要识别每个字段并取出该字段的值，用于构造数据报文；如果异常流量特征库是一个描述性文件，那么该引擎还需要具备语言解析功能，即完成异常流量特征描述语言向机器能够识别语言的转换。此部分为系统架构的核心模块之一。</p>
<p>（3）特征描述文法：特征描述文法即异常流量特征的规范化描述文法，如BNF或是EBNF的范式描述，它是异常流量特征库解析的依据。</p>
<p>（4）数据包构造引擎：该引擎是完成数据包构造的关键部件。它接收来自流量特征解析引擎获取到的特征字段，获取特征字段取值，调用数据包构造函数完成不同类型数据包的构造。</p>
<p>（5）数据包构造函数库：数据包构造函数库通过统一接口，为数据包构造引擎提供所需的函数。目前可供网络开发者使用的开发包非常多，所以该部分可以采用第三方开发包。</p>
<p>（6）流量时间参数：该时间参数用于控制构造好的数据包以何种时间模型发送以及流量持续时长。</p>
<p>（7）流量发生器：流量发生器来自数据包构造引擎编译之后产生的可执行文件，该可执行文件包含了数据报文的各种空间特征，同时接受用户输入的时间特征参数，根据这些参数发送数据包产生异常流量。</p>
<p>（8）异常流量：实验输出结果，以pcap格式存储，可以通过tcpreplay[50]等攻击进行重放，添加至网络靶场中。</p>
<h5 id="方案配置"><a href="#方案配置" class="headerlink" title="方案配置"></a>方案配置</h5><ol>
<li>硬件配置</li>
</ol>
<p>6个测试端口。</p>
<p>4个10GESFP+接口，兼容1/10G速率模式。</p>
<p>2个QSFP28接口，兼容1/10/25G速率模式。</p>
<p>2个10/100/1000M自适应网口用于管理。</p>
<p>机架式设计，适应标准机架安装。</p>
<p>交流电压：220（1±10%）V，频率50（1±5%）Hz。</p>
<p>环境适应性：工作温度范围0~35℃。</p>
<ol>
<li>软件功能</li>
</ol>
<p>管理方式：基于B/S架构，支持多用户同时在线管理。</p>
<p>标准测试支持：支持RFC 2544、RFC 2889、RFC 3511、RFC 4445等多项标准测试。</p>
<p>协议模拟：包含常见互联网协议、视频协议、组播协议、动态路由协议、工业互联网协议及车载以太网协议等。</p>
<p>仿真覆盖层次：L2-L7层协议仿真。</p>
<p>网络支持：兼容IPv4和IPv6网络。</p>
<p>被测设备类型：支持路由器、交换机、防火墙等多种设备的测试。</p>
<p>国密算法测试：支持国密算法HTTPS和VPN性能测试。</p>
<p>DDoS攻击与安全测试：支持DDoS攻击模拟、漏洞扫描、安全检测评估等。</p>
<p>用户模拟：能够模拟百万级用户同时进行业务操作。</p>
<ol>
<li>性能参数</li>
</ol>
<p>HTTP性能：</p>
<p>每秒新建会话：260万。</p>
<p>最大并发会话：6400万。</p>
<p>最大吞吐速率：120G。</p>
<p>HTTPS性能：</p>
<p>每秒新建会话：5.6万。</p>
<p>每秒新建会话（国密套件）：3万。</p>
<p>最大并发会话：224万。</p>
<p>最大并发会话（国密套件）：224万。</p>
<p>最大吞吐速率：80G。</p>
<p>最大吞吐速率（国密套件）：7.7G。</p>
<p>其他性能：</p>
<p>RFC UDP吞吐率(双向64字节)：195G。</p>
<p>TCP每秒新建连接：410万。</p>
<p>TCP最大并发连接：6400万。</p>
<p>TCP最大吞吐速率(双向)：140G。</p>
<ol>
<li>实施步骤</li>
</ol>
<p>硬件采购与组装：根据性能需求采购相应硬件并组装。</p>
<p>软件开发与集成：</p>
<p>开发仿真引擎和管理界面。</p>
<p>集成网络安全与基准测试功能。</p>
<p>系统测试：对系统的每项功能进行测试，确保性能符合要求。</p>
<p>部署与培训：</p>
<p>在实际环境中部署系统。</p>
<p>对用户进行操作培训。</p>
<ol>
<li>技术选型</li>
</ol>
<p>仿真技术：采用先进的流量生成和分析技术，模拟真实网络环境。</p>
<p>前端技术：使用现代Web技术栈，如React或Vue.js，构建用户界面。</p>
<p>后端技术：利用高性能的后端框架，如Node.js或Python Flask，提供稳定的API服务。</p>
<h5 id="Snort规则解析流程"><a href="#Snort规则解析流程" class="headerlink" title="Snort规则解析流程"></a>Snort规则解析流程</h5><p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/010043c8db910a0122cabfb448e04e1f.png"></p>
<p>Snort规则解析流程</p>
<p>特征翻译模块首先对Snort规则文件进行预处理，将Snort规则库存储为以sid命名的Snort规则文件。选取规则文件，通过基于ANTLR词法分析器识别各规则选项的token值，并将其值域存入规则结构体。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/a727e69e50cbfa3c502592241a8b7fed.png"></p>
<p>流量生成详细构造</p>
<p>整个系统分为三个模块：特征翻译模块、数据包构造模块和流量生成模块。</p>
<p>特征翻译模块首先对Snort规则文件进行预处理，将Snort规则库存储为以sid命名的Snort规则文件。选取规则文件，通过基于ANTLR词法分析器识别各规则选项的token值，并将其值域存入规则结构体。</p>
<p>数据包构造模块读取规则结构体，获取报文各字段取值，使用Libnet构造数据包，编译生成流量发生器（可执行文件），交给流量生成模块。</p>
<p>流量生成模块根据输入的攻击强度和攻击持续时间，选择不同的流量模型，计算数据包发送时间间隔，在时间到达时，执行流量发生器，将构造的数据报文从网络链路层直接发送到网络上去，形成网络流量。</p>
<h4 id="系统截图"><a href="#系统截图" class="headerlink" title="系统截图"></a>系统截图</h4><p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/ad4ed4604ea4438b06cb65beb7b09625.png"></p>
<p>网络异常流量生成演示系统指引界面</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/6642ab9090aba4ff9e6501ade3f89ac3.png"></p>
<p>流量生成页面</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/9918f9bcd39ec626e01e3c71d9f34e8c.png"></p>
<p>数据报文构造页面</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/60c47447ebdfa28e6691d8f5546d5541.png"></p>
<p>流量生成截取结果</p>
<h1 id="智能汽车网络靶场试验支撑分系统"><a href="#智能汽车网络靶场试验支撑分系统" class="headerlink" title="智能汽车网络靶场试验支撑分系统"></a>智能汽车网络靶场试验支撑分系统</h1><ul>
<li>平台采用统一的权限管理体系，由管理员统一管理。支持配置各个人员的单位属性。平台管理员可以根据单位划分可使用的平台资源数量（包括但不限于虚拟CPU、内存、磁盘大小、虚拟机数量等），提供产品功能截图证明；</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/a54c675fac8ede9c1bb8afd65a7c12e2.png" alt="WPS图片(4)"></p>
<ul>
<li>支持对系统用户的账号、单位、角色进行管理，能够自定义系统中角色的名称及访问的权限，产品功能截图如下：</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/4549799985d59c9fb0039b642e2c2984.png" alt="WPS图片(5)"></p>
<p>功能参数设计方面，平台实现了统一的权限管理体系，由管理员负责统一管理。管理员可以配置每个人员的单位属性，并根据单位进行资源的划分，包括虚拟CPU、内存、磁盘大小、虚拟机数量等。此外，系统支持对系统用户的账号、单位、角色进行管理，管理员可以自定义系统中角色的名称及其访问权限。还支持用户所在单位的管理，包括修改用户所在单位和配置单位可使用的资源总量。系统还具备查看用户在线状态、密码重置以及批量启用和禁用用户的功能。这些功能确保了平台的安全性和管理的灵活性。</p>
<p>性能参数设计方面，平台能够支持管理数量达到500人。这意味着平台可以满足较大规模的人员管理需求，保证了管理效率和用户体验。</p>
<p>用户管理负责提供整个系统的用户、用户角色、单位、权限分配和用户日志的管理。主要包括管理人员、设计人员和试验人员三类角色对系统接口、菜单和资源权限的配置管理。</p>
<p>在试验配置管理中共有三类用户，第一类是管理员，第二类是工程负责人，第三类是普通试验人员。因此管理人员一般为工程负责人角色。管理员作为超级管理员对所有用户进行统一管理。在普通实验人员中又分为了设计人员和具体试验操作人员。设计人员可以进行试验场景设计，而试验操作人员则只能按照试验要求进行具体的试验操作。</p>
<p>每种角色对应有其权限，每个用户可以赋予为某种角色，该用户就具备该角色可执行的权限。系统管理员支持对角色权限的配置功能。</p>
<p>对于试验角色权限，通过系统定制化角色权限，用户只具有某种角色的使用权限。</p>
<p>系统支持多单位、多角色的人员管理，支持对单位、角色、人员的权限进行管理。支持人员接入配置。提供两种视图进行接入配置，一种是以人员为基础，进行设备分配，另一种是以设备为基础进行人员分配。两种方式均支持在分配的时候选择是否进行录屏操作、默认是否可以接入等配置。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/23aeca0f0428c00e83ee210413fc7574.png"></p>
<p>人员接入配置</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/c1b4dfd38c0fa78c433f181e705da8d0.png"></p>
<p>设备服务配置</p>
<p>支持人员接入任务配置。配置参数包括操作（接入、断开）、人员设备数据以及描述等字段。支持通过子系统管理平台Web页面对租户虚拟链路层网络进行管理，包括未知单播报文抑制、未知组播报文抑制、虚拟交换机泛洪学习、MAC地址信息通告、ARP处理模式等进行配置。子系统支持对租户虚拟端口、端口组、安全策略、应用集群虚IP、泛红域等进行管理。</p>
<p>采用了统一的权限管理体系平台，由管理员统一进行管理。管理员可以配置每个人员的单位属性，并根据单位划分可使用的平台资源数量。这些资源包括虚拟CPU数量、内存大小、磁盘容量以及虚拟机数量等。</p>
<p>如下图所示。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/7aedb9abc6c31b256cacce56dbe12484.jpeg" alt="WPS图片(18)"></p>
<p>权限管理</p>
<h2 id="资源管理模块"><a href="#资源管理模块" class="headerlink" title="资源管理模块"></a>资源管理模块</h2><ul>
<li>支持对汽车全生命周期的安全资产管理，至少包含以下14种安全资产的管理：靶场测试零部件的硬件平台、操作系统内核版本信息、固件版本、中间件版本、应用程序版本，被测整车的品牌、车型、车辆、车型项目（年款）、包含的零部件的硬件平台、操作系统内核版本信息、固件版本、中间件版本、应用程序版本。还应包含基础平台系统中的至少4种虚拟资源管理，包括镜像、靶标、攻防工具、场景模板等；</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/fc3d9cd3e3d6bfe0b31cfb461a2f5393.png"></p>
<p>实物节点拓扑编辑</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/a0641b1f5d32395201a5d3f5c23f7439.jpeg" alt="WPS图片21"></p>
<p>资源管理</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/dd2f438c89f580d9657c374e000cc52a.png"></p>
<p>工具管理</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/4491ed6a6fae87ce68038e604d44f4cc.png"></p>
<p>工具管理</p>
<p>在现代汽车制造业中，随着智能化技术的持续进步，汽车安全成为了一个多层面的领域，在产品生命周期的各个阶段均需考虑。以确保从设计、制造、使用到维修等全周期内的信息安全和物理安全得到保障。在这样的背景下，对汽车全生命周期的安全资产管理变得尤为重要。安全资产管理平台的建立至少需要包含以下14种安全资产的管理：</p>
<p>首先，靶场测试零部件的硬件平台管理涉及到测试环境中使用的所有硬件资源。包括但不限于传感器、控制器、通信模块等。对这些硬件平台进行详尽的登记、监控和更新，是确保测试结果有效性的基础。</p>
<p>操作系统内核版本信息的管理对于确保系统安全至关重要。操作系统是车载信息系统的中枢，是支持所有应用运行的基础。内核版本的更新和漏洞修补是防御外部攻击的第一道防线。</p>
<p>固件版本管理涉及到每个零部件的软件层面。汽车中的每个电子设备都有自己的固件来控制其运行，固件的漏洞可能导致安全隐患，因此及时更新固件至关重要。</p>
<p>中间件版本管理是安全资产管理的另一关键部分，因为中间件为不同的软件提供了一种沟通机制。若中间件存在缺陷，则可能影响到车载系统的整体安全性。</p>
<p>应用程序版本管理同样重要，因为用户交互最多的就是应用程序。确保应用程序的稳定性和安全性，能够预防潜在的攻击和故障。</p>
<p>在被测整车层面，品牌管理是保护品牌声誉和避免伪造的重要手段。车型、车辆以及车型项目（年款）的管理，则是为了详细记录每一款车的安全特性，确保它们各自满足特定的安全标准。</p>
<p>在整车的安全资产管理中还包含车辆内部零部件的硬件平台、操作系统内核版本信息、固件版本、中间件版本、应用程序版本等，这与靶场测试零部件的管理相似，但应用范围扩展到了整个车辆。</p>
<p>基础平台系统中的虚拟资源管理同样不可忽视。至少应包含以下4种：</p>
<p>镜像管理，它能够使测试环境快速部署和还原，提高测试效率，同时也是版本控制的一个重要方面。</p>
<p>靶标管理，这是攻防模拟中不可缺少的一部分。通过虚拟化技术创建的测试目标（靶标），可供安全测试使用，以检验系统漏洞和防御能力。</p>
<p>攻防工具的管理是为了控制这些工具的合规使用并确保它们的更新与效力，以适应不断演变的网络威胁。</p>
<p>场景模板管理，确保安全测试人员可以模拟各种实际交通和网络场景，对车辆的反应和处理能力进行全面检测。</p>
<p>除了上述所述的安全资产管理内容，还需要考虑到安全策略、法规遵从、持续监控、风险评估与应急响应等方面。在整个安全资产的生命周期内，从识别、分类、维护到处置各个环节都应该基于结构化和标准化的流程，以保证信息的整合性和可操作性。</p>
<p>实施有效的安全资产管理，除了需要有针对性的技术解决方案，还需依赖于人员的培训和意识提升。安全相关的人员应具备系统的知识结构，从硬件到软件，从测试环境到真实世界的应用场景，都要能够掌握相关安全资产的管理与操作。</p>
<p>安全资产管理平台不仅是一个技术工具，它还需要与企业的业务流程、政策和文化融合，从而构建起一个全面、综合性的汽车安全资产管理体系。这样的体系能够确保在汽车全生命周期中的每一个环节，都能对抗潜在的安全威胁，减轻安全事故带来的风险，最终保障消费者和公众的利益。</p>
<ul>
<li>支持靶场工程的管理，能够查看工程占用资源的数量，能够删除、清空工程，提供产品功能截图证明；</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/c5aed52b9302ad5d1e54b3e1f7be24b2.png" alt="WPS图片(121)"></p>
<p>功能参数设计方面，平台提供了全面的汽车安全资产管理功能，包括14种不同类型的安全资产管理，涵盖了靶场测试零部件的硬件平台、操作系统内核版本信息、固件版本、中间件版本、应用程序版本等信息。此外，还包括基础平台系统中的4种虚拟资源管理，如镜像、靶标、攻防工具和场景模板等。用户可以对这些安全资产进行添加、删除、导入等操作，确保安全资产的完整管理。</p>
<p>在镜像资源管理方面，平台支持镜像的添加、删除和导入，用户可以管理镜像的相关信息，包括镜像名称、大小、虚拟化类型、接入用户密码信息以及驱动类型等。</p>
<p>此外，平台还提供了物理设备管理功能，支持虚实互连交换机端口上连接的实物设备的注册。它还能够管理靶场工程，包括查看工程占用资源的数量，删除和清空工程等操作。学习资源的管理也得到了支持，包括课程、实验、视频、客观题、主观题、试卷和指导书等，用户可以查看状态、修改权限和删除资源。</p>
<p>虚拟化设备的配额管理是平台的一项重要功能，用户可以管理虚拟CPU、磁盘总量、内存总量等配额参数，以便对资源进行有效分配。此外，平台还支持流量资源的管理，允许用户上传流量包数据，用于回放等用途。</p>
<p>性能参数设计方面，平台支持管理镜像数量高达1000个，其中包括50个系统基础镜像和100个常用应用镜像，还配置了300个漏洞镜像，确保了资源管理的充分性和多样性。</p>
<p>试验管理支撑仿真网络环境运行的物理设备，包括支撑虚拟化的物理主机和交换机，以及以实物的方式接入到仿真网络环境中去的设备，并管理支撑虚拟化的物理主机的计算资源和网络资源，虚拟试验用的仿真网络环境，配置所管理的实物设备，构建高逼真度的仿真网络环境。虚拟资源管理提供对仿真虚拟节点的支撑能力，并支持虚拟节点之间的网络连接以及虚拟节点与实物节点之间的网络连接，支撑用户对虚拟机节点的访问。</p>
<p>试验资源管理包括虚拟节点和服务管理、虚拟网络支撑扩展、虚拟机访问、和实物靶标管理四个部分。主要功能描述如下：</p>
<p>（1）具备虚拟网络配置管理能力。支持对网络拓扑结构的通用描述，包括子网、子网间的访问规则、网络节点、网络节点的连接规则、网络节点的外网访问规则等；支持通过网络拓扑结构的通用描述生成仿真网络环境，包括子网、网络节点及其的访问控制规则；</p>
<p>（2）具备虚拟镜像的管理能力。提供对虚拟镜像的集中存储管理，提供虚拟镜像的上载、下载功能，提供虚拟镜像的编辑工具；提供构建虚拟网络所必需的各类主流操作系统基础镜像，包括典型的Windows系列、Linux系列；提供按虚拟机实例创建虚拟镜像的功能，以扩展虚拟机镜像库；</p>
<p>（3）具备虚拟节点的加载、运行与调度管理等支持能力。支持KVM等主流的虚拟化技术，以开源软件为主进行硬件设备虚拟化，便于功能扩展，支持虚拟网络节点的动态启动、暂停/恢复、重启等；支持设置虚拟机的登录口令的注入，支持虚拟机运行状态的监控，能从崩溃中自动恢复到初始状态；</p>
<p>（4）具有轻量级的网络节点仿真能力。支持HTTP、UDP、TCP、ICMP、SSH、TELNET等基础协议仿真，能够与真实软件通信；支持交换机、路由器仿真，支持静态路由配置；</p>
<p>（6）提供对虚拟网络节点访问的支持能力。提供对虚拟机节点的远程桌面支持能力；提供对虚拟机节点访问的可配置的录屏/回放功能；</p>
<p>（7）提供将实物设备接入虚拟网络并实现透明连接，通常需要使用特定的网络虚拟化技术和设备，比如以下方法：</p>
<p>网络虚拟化平台：使用如V Open vSwitch等网络虚拟化平台可以将物理设备与虚拟网络相连。这些技术通常支持创建虚拟交换机、路由器等，允许物理设备透明地成为虚拟化环境的一部分。</p>
<p>（8）具备系统资源与试验资源的存储管理能力，可进行系统资源的注册、查询修改，支持按类型、名称、来源等条件检索各种资源；可进行试验数据、态势要素的存储、检索、查询等，能够兼容、导入不同格式的试验数据，并可根据数据类型将其以多种格式导出（dmp/sdf/txt/xml等）；综合使用关系型数据库和NoSQL类数据库，对于采集数据采用NoSQL类数据库进行存储；数据库支持PB级别的海量存储，具备可扩展性，能够进行纵向和横向的扩展，具备备份恢复机制。</p>
<h4 id="虚拟机管理"><a href="#虚拟机管理" class="headerlink" title="虚拟机管理"></a>虚拟机管理</h4><p>系统可实现对虚拟机的所有生命周期管理相关操作（创建、启动、暂停、恢复、休眠、重启、安全关闭、强制关闭、删除、克隆、迁移、备份、快照、克隆为模板等常用生命周期管理操作），虚拟机迁移路径等进行日志监控收集，方便事后审计追踪。</p>
<p>支持批量修改虚拟机的配置参数，包括：I/O优先级、启动优先级、是否自动迁移、CPU调度优先级、CPU个数、内存大小、自动启动、启用VNC代理、tools自动升级等。</p>
<p>支持对系统中虚拟资源、物理资源的管理，虚拟资源包括攻防工具、场景模板、镜像、靶标等；可以方便地进行镜像的删除和导入、添加操作。在镜像资源的管理过程中，用户可以获取详细的镜像信息，包括镜像虚拟化类型、名称、大小、接入用户密码信息和驱动类型等关键属性。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/a0641b1f5d32395201a5d3f5c23f7439.jpeg" alt="WPS图片21"></p>
<p>：资源管理</p>
<p>系统持管理大量的镜像资源，包括不少于1000个镜像的管理和配置。其中系统基础镜像的数量不少于50个，常用应用镜像的数量不少于100个，漏洞镜像的数量也不少于300个。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/b38399a2626d85877fcaba0cfb589997.jpeg" alt="WPS图片(22"></p>
<p>虚拟机管理</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/e3cac3b876f877f1024bdcb2a5c80e71.png"></p>
<p>批量修改界面</p>
<p>VNC代理功能功能在配置linux功能时开启。</p>
<p>支持将虚拟机在线克隆为模板，模板制作过程中对业务运行无影响，同时虚拟机模板支持完整性验证与来源追溯，避免虚拟机模板文件被篡改的可能性，并追踪虚拟机模板的来源以及虚拟机模板部署的记录。</p>
<p>在单台物理机上运行100个虚拟机情况下，能够支持100个虚拟机进程调度最大延迟平均时间10us;（提供利用perf -sched命令测试的虚拟机进程调度延迟截图，100个虚拟机进程的调度最大延迟(Maximum delay ms)时间的平均值不超过0.01ms）。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/c9cd8ae880552d619228b4b0007d6d34.jpeg" alt="D:\\1.CyberSecurity\\文档修改\\六所靶场\\六所2021.3.29\\延迟xiugai.jpg"></p>
<p>部署延迟</p>
<h4 id="虚拟机ACL配置"><a href="#虚拟机ACL配置" class="headerlink" title="虚拟机ACL配置"></a>虚拟机ACL配置</h4><p>系统支持虚拟机的入方向、出方向、出入方向安全访问控制功能，可基于IP、MAC、端口号、时间段等设置访问规则。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/1b70f57dfe2eb1a88602a46ebf0213d2.png"></p>
<p>基于时间段ACL</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/0c37d7d0874f2900d2e6979c967326c2.png"></p>
<p>基于MAC ACL</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/1a8b8785924ccfa47afb839289f2a3ba.png"></p>
<p>基于IP ACL</p>
<h4 id="虚拟机部署"><a href="#虚拟机部署" class="headerlink" title="虚拟机部署"></a>虚拟机部署</h4><p>系统在部署虚拟机的时候支持批量部署：基于虚拟机模板一次性批量部署大量的虚拟机，虚拟机可以指定在某一台物理主机，也可以指定为集群内自动均衡分布。</p>
<p>提供虚拟机回收站功能，防止因虚拟机误删除导致数据丢失，支持设置回收站文件保存周期，超期的文件将被自动删除，支持批量销毁或还原虚拟机 。</p>
<p>镜像库管理模块为系统中的各节点提供镜像支撑，是整个系统的基础模块。镜像库管理模块维护的镜像库中预存了包括终端、交换机、路由器三种类型在内的多种镜像，用户可通过本模块，利用镜像反复构建所需节点。</p>
<p>本模块提供对镜像的查询、上传、删除功能。</p>
<p>查询：用户可以根据镜像名或镜像唯一标识，在镜像库中查询镜像信息。</p>
<p>上传：用户可以根据需求，个性化定制镜像，并将其上传至镜像库中，从而使得镜像库中的镜像类型更加丰富。</p>
<p>删除：针对无用的镜像，用户可以根据镜像名或镜像唯一标识删除镜像，减小镜像库所占磁盘大小。</p>
<p>镜像库中预存的镜像如下表所示，共包含终端、交换机、路由器三类镜像。终端镜像包括Windows、Linux、Unix、MacOS四大主流操作系统及其各类发行版镜像，集FTP、邮件、NTP、DNS、Web、VPN等多种网络服务于一体的镜像。交换机镜像包括二层、三层交换机及SDN交换机镜像。路由器镜像包括Cisco、Juniper、H3C等路由器镜像，vyos等开源路由器镜像以及中继节点镜像。</p>
<p>镜像库管理模块包含api、registry两个服务，api服务对外提供REST API，可用于响应其他模块的请求。</p>
<p>api服务：所有发往本模块的请求都会先提交给api服务，由api服务对请求做进一步解析，进而通过中间件将解析后的消息转发给后端的registry服务。</p>
<p>registry服务：registry服务在收到api转发过来的消息后，根据消息对镜像文件以及镜像数据库做实际操作。</p>
<p>镜像管理模块的后端默认为本地文件系统，即将上传的镜像保存至本地的指定目录，由本模块统一管理。在生产环境中，本模块支持使用NFS、Ceph等作为后端，实现镜像的分布式存储与管理，提高性能及容错性。</p>
<p>下图为本模块的架构图：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/9b941ff426233b305add1d938c0f1306.png" alt="镜像库管理模块架构图"></p>
<p>镜像库管理模块</p>
<h4 id="镜像管理"><a href="#镜像管理" class="headerlink" title="镜像管理"></a>镜像管理</h4><p>镜像资源管理可以对试验的虚拟资源进行统一管理。包括虚拟机镜像、Docker镜像、虚拟试验环境、虚拟机节点、Docker容器节点、虚拟链路、安全组、IPs、VLANs等资源的统一调度和管理。支持用户对这些虚拟资源进行增加、删除、修改、查询和监控。具有计算终端台式机、笔记本、服务器、手持终端）、路由器、交换机、防火墙、IDS等多种网络节点的镜像，支持2种路由器，至少支持16种常用虚拟主机配置。</p>
<p>虚拟网络节点镜像文件是虚拟节点静态化存在的形式，服务于虚拟目标网络的构建，便于自动化部署。虚拟镜像库库的结构如图所示。试验用户可以基于图形界面对镜像进行管理，包括创建、查询、修改和删除镜像。支持创建组成目标网络的各类虚拟节点，包括路由设备、主机和网络安防设备等，创建预装各种应用软件组合的多种虚拟节点，形成虚拟镜像文件。虚拟镜像既可以通过虚拟机实例创建产生，也可以通过注册虚拟机模板镜像产生。注册虚拟机模板主要是把其他第三方提供的模板镜像注册到系统中为模板制作提供资源进行统一管理。创建好的镜像保存在文件服务器上，相关的镜像信息，包括镜像的ID、类型、参数配置等，保存在数据库中。根据镜像的类型、参数、预装软件等信息，对镜像进行进行分类。在数据库中可以直接根据类别查询镜像，也可以使用Group by查询各种不同的分组。</p>
<p>虚拟镜像管理模块</p>
<p>在创建虚拟机或网络设备时，根据配置文件中的信息，首先从镜像信息库中查找相应镜像的位置，由镜像临时管理模块负责镜像调出、分发等操作，并在使用完毕后负责清除临时镜像文件。</p>
<p>提供构建虚拟网络所必需的各类主流操作系统基础镜像，包括典型的Windows系列、Linux系列。镜像库支持的主要虚拟设备和系统类型如下。</p>
<p>虚拟网络设备：虚拟路由器：支持Cisco、Juniper，具备标准功能的虚拟路由器。</p>
<p>虚拟交换机：支持具备标准功能的虚拟交换机。</p>
<p>虚拟主机配置,支持16种以上常用虚拟主机配置，可以根据用户需求添加新的虚拟主机配置。</p>
<p>操作系统基础镜像：</p>
<p>Windows系列：</p>
<p>Windows 2000 Advanced Server; Windows 2000 Professional</p>
<p>Windows 2000 Server SP4 (32-bit); Windows 3.1</p>
<p>Windows 7 (32-bit); Windows 7 (64-bit); Windows 95; Windows 98</p>
<p>Windows NT 4; Windows PV; Windows Server 2003系列（32-bit、64bit）;</p>
<p>Windows Server 2008系列（32-bit、64bit）</p>
<p>Windows XP （32-bit、64bit，SP2、SP3）</p>
<p>Windows Vista （32-bit、64bit）</p>
<p>Linux系列：</p>
<p>Asianux 3 (32-bit/64-bit)</p>
<p>CentOS系列（4.5-6.0, 32-bit/64-bit）</p>
<p>Debian GNU/Linux系列 (4-6, 32-bit/64-bit)</p>
<p>FreeBSD (32-bit/64-bit)</p>
<p>Oracle Enterprise Linux系列(5.0-6.0, 32-bit/64-bit)</p>
<p>Red Hat Enterprise Linux系列(2.0-6.0, 32-bit/64-bit)</p>
<p>SUSE Linux Enterprise (8-11, 32-bit/64-bit)</p>
<p>Ubuntu (9.10-10.04, 32-bit/64-bit)</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/baaa2e39608bf51f9334ecdd136565f2.png"></p>
<p>虚拟镜像管理</p>
<h4 id="靶场工程管理"><a href="#靶场工程管理" class="headerlink" title="靶场工程管理"></a>靶场工程管理</h4><p>环境管理主要是对仿真的虚拟化环境进行管理，管理的操作包括对整个虚拟化环境的重启、停止、启动、重置、销毁的管理，也可以对环境中的子网或者每一个设备进行上述的管理。支持列表展示每个仿真环境的相关信息（含子网数量、主机个数、运行状态、创建时间。支持按照用户的试验网络拓扑设计自动部署试验环境，支持在指定宿主机范围内部署试验环境，支持已部署的试验环境的网络拓扑的修改与增量式部署。在具体的试验环境中，支持对试验环境中网络出口规则、入口规则和转发规则的配置，系统提供配置界面，以支持试验环境的恢复和对试验环境的监控。支持通过配置界面或配置文件在多节点上批量安装、备份或还原操作系统。</p>
<p>具体的实例环境除了可以进行以上的操作管理外，还提供整个网络的镜像管理功能。提供一键式对整个环境进行镜像备份，也可以有选择的对环境中某个设备进行镜像。系统提供镜像文件的展示，用户可以将整个环境恢复到某个镜像状态。镜像包括有内存镜像和磁盘镜像。对于多个镜像的环境，可以进行列表或者树形的结构展示。支持在整个试验环境/子网/虚拟节点三个层面的备份/恢复，并支持对试验环境/子网/虚拟节点的多个备份版本的管理，支持五个及以上的备份版本。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/a2343e4071db8e992df985f1bb11e3ff.png"></p>
<p>试验环境管理</p>
<p>环境管理中对所有虚拟机都提供远程访问URL，用户通过点击URL访问虚拟机，在虚拟机界面上按Ctrl+Alt+Shift快捷键，可打开客户端机器与远程虚拟机的通信共享操作界面。虚拟机内部的内容可以通过剪切板复制到本地，本地机器复制的内容也可以通过剪切板粘贴到远程虚拟机中。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/4c0951cb64c6c9d7a4c88e484328e12f.png"></p>
<p>虚拟机远程访问</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/afc5fb06bbb28a846e564a62416d021f.png"></p>
<p>虚拟机的远程复制粘贴</p>
<p>通过虚拟机的通信界面，还可以通过浏览器将本地文件上传到虚拟机中，虚拟机需要支持tftp、vnc、rdp、ssh等其中的某项协议。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/ab915fb0fd9c1b21fe405c4586733dd9.png"></p>
<p>本地与远程虚拟机间上传文件</p>
<p>可查询所有或指定虚拟机运行状态、CPU核数、CPU利用率、内存容量、内存利用率、虚拟机操作系统、所在计算节点主机等统计报表，并导出为PDF格式文档。同时，支持查询指定虚拟化主机在指定时间段内的CPU利用率、内存利用率、磁盘读速率、磁盘写速率、磁盘I/O吞吐量、网络总流量、网络读流量、网络写流量、网络读速率和网络写速率等关键性能报表。</p>
<h4 id="试验场景管理"><a href="#试验场景管理" class="headerlink" title="试验场景管理"></a>试验场景管理</h4><p>试验场景描述了一个试验场景的具体内容，包括步骤、角色、结果评判、试验文档、试验所需环境等信息。对于试验设计人员来说，需要基于它创建特定的任务，以供试验人员进行使用。试验场景管理支持试验过程控制，主要包括试验环境构建过程管理、试验运行进程控制，可根据试验任务配置方案启动相关试验环绕的构建过程，支持控制试验的开始、暂停、继续、回滚、回放、停止、科目更换和资源回收。支持多种方式查询试验相关信息、试验状态的保存和恢复。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/50d974e408a5a555fb110968a9b29e24.png"></p>
<p>试验场景切换</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/ae4fcf7ca4c0ed785d8d351b38994765.png"></p>
<p>试验过程管控</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/b85a2f50a7222d19285b68989a3e321f.png"></p>
<p>试验场景查看</p>
<p>支持场景保存模板功能。配置参数包括名称，权限（私有、共享）。描述等字段。保存时，会将流程图、任务数据、人员数据等数据进行存储。</p>
<p>支持对设备资源、IP地址池、VNF资源、VNID池等资源进行图形化管理；设备资源管理支持对物理设备、虚拟设备、边界设备组、L4~L7物理资源池等进行管理。</p>
<h4 id="配置管理模块"><a href="#配置管理模块" class="headerlink" title="配置管理模块"></a>配置管理模块</h4><p>配置管理模块用于管理用户的配置文件，可用于从虚拟节点中读取用户所需数据或将用户所需配置写入虚拟节点中，其中配置内容包括：</p>
<p>控制命令：对虚拟节点中的程序下发启动、暂停、停止等控制命令，可实现对程序的远端控制。控制命令可反复下发。</p>
<p>配置文件：下发虚拟节点内的程序所需要的配置文件，配置文件中的内容可根据程序的需求进行定制。提供主机参数包括IP/MAC地址、网关地址、型号等，路由、安防设备参数包括IP地址、端口、安防策略等；</p>
<p>在线迁移：下发配置命令，能够实现在线动态更新内核，打补丁，在线迁移功能。</p>
<p>本模块共提供三种不同的方式实现配置管理，用户可根据自己的需要，自行选择所需的方式进行配置管理。三种方式如下：</p>
<p>方式一：在虚拟机所在网络具有系统提供的DHCP服务节点时，可在该DHCP服务节点上利用scp的方式向虚拟节点写入配置文件或从配置文件中读取数据，该方式利用了虚拟网络，对配置的内容与大小没有限制。虚拟节点需要开启SSH服务。</p>
<p>方式二：利用metadata或userdata，该方式仅支持将配置写入虚拟节点中，该方式同样利用了虚拟网络，对配置的内容无限制，对配置文件的大小有限制。</p>
<p>方式三：利用qga，该方式同时支持将配置写入虚拟节点以及从虚拟节点读取数据，并且该方式不依赖于虚拟网络，对配置的内容与大小没有限制。虚拟节点需要安装qemu-guest-agent服务。</p>
<p>配置管理模块具备三种不同的方式实现配置的下发及数据的读取，针对三种不同的方式，有以下三种不同的实现方法：</p>
<p>方式一：该方式包含2个服务：api服务及config_transfer_agent服务。当用户选用本方式进行配置管理时，可将请求发送至api服务，由api服务解析请求，通过管理网络交由config_transfer_agent服务，config_transfer_agent服务通过虚拟节点所在网络对虚拟机做实际操作。</p>
<p>方式二：该方式中，会将用户需要写入虚拟节点的配置信息交由meta-agent服务，当虚拟节点成功启动后，可通过访问<a target="_blank" rel="noopener" href="http://169.254.169.254/openstack/latest/meta_data.json%E7%9A%84%E6%96%B9%E5%BC%8F%E9%97%B4%E6%8E%A5%E8%AE%BF%E9%97%AEmeta-agent%E6%9C%8D%E5%8A%A1%EF%BC%8C%E4%BB%8E%E8%80%8C%E8%8E%B7%E5%8F%96metadata%E3%80%82%E5%90%8C%E7%90%86%EF%BC%8C%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B9%9F%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E8%AE%BF%E9%97%AEhttp://169.254.169.254/latest/user-data%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%8C%E8%8E%B7%E5%8F%96user-data%E3%80%82">http://169.254.169.254/openstack/latest/meta_data.json的方式间接访问meta-agent服务，从而获取metadata。同理，虚拟机也可以通过访问http://169.254.169.254/latest/user-data的方式，获取user-data。</a></p>
<p>方式三：该方式包含3个服务：api服务、qemu_guest_agent_proxy服务以及qemu_guest_agent服务，其中qemu_guest_agent服务处于虚拟节点内部。当用户选用本方式进行配置管理时，可将请求发送至api服务，由api服务解析请求并根据虚拟节点的唯一标识获得其所在宿主机地址，进而将请求消息通过消息中间件转发至虚拟节点所在宿主机的qemu_guest_agent_proxy服务，qemu_guest_agent_proxy服务通过解析消息获得虚拟节点唯一标识，从而将用户请求交付给虚拟节点内部的qemu_guest_agent服务，由qemu_guest_agent服务根据消息的主体部分做具体操作。</p>
<p>使用metadata或userdata的方式将配置信息写入虚拟节点：</p>
<p>使用metadata：首先使用系统账号和密码登陆仿真系统。</p>
<p>依次点击左侧栏中的“项目”、“计算”、“实例”</p>
<p>然后点击右上角的“创建实例”，在弹出的界面中填写需要创建的虚拟节点的相关信息</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/2b10b0b465e56bcae9ea8a3cd16fe301.png"></p>
<p>创建实例</p>
<p>然后在弹出的界面的左侧栏中点击“元数据”一栏，在“Custom”中填入需要传入的信息的key值（如“test_key”），点击“+”，接着在右侧的对应栏中填入需要传入的信息的value值（如“test_value”），点击“创建实例”开始创建虚拟节点</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/8847f522b9c3a18dbdf7e9802c222463.png"></p>
<p>开始创建虚拟节点</p>
<p>进入创建成功的虚拟节点中，使用“curl <a target="_blank" rel="noopener" href="http://169.254.169.254/latest/meta-data/test_key">http://169.254.169.254/openstack/latest/meta-data.json”命令，即可获得</a>json文件，在获得的json文件中的meta字段，可以获得之前传入的配置信息</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/c558f35ad9c0d17e3ab08cf58be1be4e.png"></p>
<p>获得传入信息</p>
<p>使用userdata：</p>
<p>首先使用系统账号和密码登陆仿真系统</p>
<p>依次点击左侧栏中的“项目”、“计算”、“实例”</p>
<p>然后点击右上角的“创建实例”，在弹出的界面中填写需要创建的虚拟节点的相关信息</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/120da088001b8d3bb29685ed2fcf5b76.png"></p>
<p>:创建实例</p>
<p>然后在弹出的界面的左侧栏中点击“配置”一栏，在“定制化脚本”中填入需要传入的信息（如“this is a test.”），点击“创建实例”开始创建虚拟节点</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/fd340220e4bd224d293765a005b50610.png"></p>
<p>创建虚拟节点</p>
<p>进入创建成功的虚拟节点中，使用“curl <a target="_blank" rel="noopener" href="http://169.254.169.254/latest/meta-data/test_key">http://169.254.169.254/latest/user-data”命令，即可获得</a>之前传入的配置信息。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/0e45732747a7dd462e8cf3b4f387411e.png"></p>
<p>获得之前配置信息</p>
<p>使用qga的方式进行配置管理：</p>
<p>配置管理:数据的执行配置与操作,本系统支持不通过网络环境直接操纵虚拟节点进行命令执行的操作，并能实时获取执行结果。新建一条数据执行的配置项，如下图所示：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/0288ea9118ed54ce411ff1bf2a662575.png"></p>
<p>新建执行</p>
<p>数据的执行操作要在此基础上，结合任务操作来一起进行。在任务管理面板中，创建一个新的任务，任务类型选为执行虚拟机的指令，然后配置该任务的表单项，配置完成后保存。可以在任务面板上控制任务的启停，达到控制该条数据是否在虚拟节点中执行的效果。</p>
<p>在创建任务中，选择最新配置的这条“testabc”的执行命令，配置进行任务的虚拟机，点击确定保存一条任务。然后启动任务就可以完成数据的执行。如下图所示：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/4d25f0486f7b1dde2025af56585263d9.png"></p>
<p>创建任务</p>
<p>所有的数据执行配置可以在数据执行配置列表中查看，操作者可以在列表界面进行添加一条数据执行的命令，或者在原有配置命令中进行修改或删除的操作。如下图所示：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/442a1609e9b9cdf0576562580458ba36.png"></p>
<p>配置管理</p>
<h4 id="学习资源管理"><a href="#学习资源管理" class="headerlink" title="学习资源管理"></a>学习资源管理</h4><p>试验文档管理用于管理试验所需的帮助信息。新增的试验工程可以设置是否需要帮助信息。在试验的步骤设计中也可以指定帮助主题。试验文档帮助信息包括帮助主题、内容类型（文本或者多媒体类型）等。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/a8a111389e5c3ff818b9c4783f7de86e.png"></p>
<p>文档模板</p>
<p>支持试验报告的辅助生成，具备试验报告模板，支持模板的自定义编辑</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/641cb048a3771ee3b87d5c685e0ec24c.png"></p>
<p>试验报告</p>
<p>系统支持报告提交任务配置。配置参数包括任务执行最长用时、人员数据以及描述等字段。</p>
<p>支持学习资源的综合管理，包括视频、客观题、主观题、课程、实验、试卷以及指导书等。管理员可以通过系统对学习资源进行管理，包括查看资源的状态、修改权限以及删除资源等操作。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/5ff49171158d2d4a370cd77637b13af3.jpeg" alt="WPS图片(24"></p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/cfedf0ffd22bdcd2b413608ed69ff25a.png"></p>
<p>学习资源管理</p>
<h2 id="运维管理模块"><a href="#运维管理模块" class="headerlink" title="运维管理模块"></a>运维管理模块</h2><ul>
<li>支持物理服务器层面宏观的平台负载情况监控，可对物理服务器进行性能评估，提供基于综合负载、CPU、内存使用率、网络速度等不少于5类监测数值，提供产品功能截图证明；</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/8a5e5955a7e1d965cc42c9b06a29abdc.png" alt="2904d23d-2702-4e0b-9192-e071bdfa30ff"></p>
<p>功能参数设计方面，平台提供了全面的物理服务器层面的监控和管理功能。用户可以对物理服务器进行宏观的平台负载情况监控，包括综合负载、CPU使用率、内存使用率、网络速度等多个监测指标。平台还提供了性能评估功能，允许用户对服务器进行性能评估，并根据服务器类型进行筛选和搜索。监控结果以不同区段和颜色展示，便于用户快速了解服务器状态。</p>
<p>此外，平台支持对操作及接口调用的日志进行记录和查看，用户可以根据时间范围、日志类型等条件进行查看和统计。还可以对平台运行组件的状态进行监控，包括中间件和后台服务的状态统计、操作和日志查看。</p>
<p>物理服务器和虚拟机的网络结构显示也受到支持，用户可以查看服务器的实例号、二层虚拟链路地址以及下挂的VLAN号与对应关系，还可以监控包数量和虚拟交换机端口上下行速率，便于及时掌握链路状态。</p>
<p>基础信息监控包括主机名、操作系统信息、CPU信息、硬盘信息、内存信息、网卡信息、操作系统信息和机架位置等。平台还支持告警信息查看、服务统计监控、服务器按应用划分、基础信息监控性能图表监控等多项功能，提供了对物理服务器各方面信息的实时数值监控。</p>
<p>此外，平台还展示了运行的网络设备状态，包括交换机和路由器等，支持查看端口的运行状态、管理状态和实时流量等信息。用户操作日志查看功能支持分角色和类型筛选，同时提供TOP10的接口调用查看和TOP10的接口使用用户查看。</p>
<p>性能参数设计方面，平台支持管理40台服务器的运维管理，确保了资源管理的有效性和扩展性。</p>
<p>包含监控、评估、日志管理、网络结构显示、告警系统和性能参数要求等多个方面，以满足对物理服务器层面宏观的平台负载情况的监控和管理需求。</p>
<p>1. 平台负载监控</p>
<p>监控指标：系统将提供综合负载、CPU使用率、内存使用率、网络速度等5类监控数值。</p>
<p>性能评估：系统将支持对物理服务器的性能进行评估，能够根据服务器类型进行筛选，并提供基于主机名称和IP的搜索功能。</p>
<p>视觉展示：综合负载将按数值大小展示不同颜色区段，以直观显示服务器的负载情况。</p>
<p>2. 日志管理</p>
<p>日志记录：平台将记录所有操作及接口调用的日志，支持按时间范围、日志类型等条件进行查看。</p>
<p>统计分析：系统将能够划分角色、操作类型等条件对操作日志进行统计。</p>
<p>3. 运行组件监控</p>
<p>状态监控：监控系统采用的中间件及后台服务的状态。</p>
<p>组件管理：允许用户开启、停止、重启相关组件，并查看操作日志。</p>
<p>4. 网络结构显示</p>
<p>网络拓扑：显示物理服务器和虚拟机的网络结构，包括实例号、二层虚拟链路地址、VLAN号等。</p>
<p>流量监控：监控包数量和虚拟交换机端口的上下行速率。</p>
<p>5. 基础信息监控</p>
<p>服务器信息：监控服务器的基础信息，如主机名、操作系统、CPU、硬盘、内存、网卡信息、机架位置等。</p>
<p>远程接入：提供SSH接入进行运维处理。</p>
<p>6. 告警系统</p>
<p>告警信息：展示告警信息，包括威胁等级、优先级、数值和触发告警时间。</p>
<p>7. 服务统计监控</p>
<p>服务监控：监控服务信息、服务进程、失败次数和比例、开始时间和运行时间等。</p>
<p>8. 应用划分与性能图表</p>
<p>应用划分：按照计算节点、应用节点、网络节点等划分服务器。</p>
<p>性能图表：提供CPU、内存、物理网卡硬盘、网卡、IP连接、上下行流量、OVS端口、进程等信息的实时数值监控。</p>
<p>9. 网络设备状态展示</p>
<p>设备状态：展示平台运行的网络设备状态，包括交换机、路由器等，并支持查看每个端口的运行状态、管理状态、实时流量等信息。</p>
<p>10. 用户操作日志</p>
<p>日志查看：支持分角色、分类型对用户操作日志进行筛选，并提供接口调用和用户使用的TOP10查看。</p>
<p>11. 性能参数</p>
<p>服务器管理：系统将支持40台服务器的运维管理。</p>
<p>12. 实施步骤</p>
<p>详细分析监控和管理需求，确定监控指标和功能列表。</p>
<p>技术选型：选择合适的监控技术和工具，如Zabbix、Prometheus、Grafana等。</p>
<p>系统设计：设计系统架构，包括数据收集、存储、处理、展示和告警模块。</p>
<p>部署实施：在服务器上部署监控代理，配置监控中心，设置告警规则。</p>
<p>功能开发：开发日志管理、网络结构显示、基础信息监控等功能。</p>
<p>测试验证：测试系统功能，确保监控数据准确，告警及时。</p>
<p>用户培训：对运维人员进行系统使用培训。</p>
<p>上线运行：系统上线并进入运行阶段，进行实时监控和管理。</p>
<p>维护升级：持续对系统进行维护和升级，确保系统稳定运行。</p>
<p>通过本方案实施，将为车载网络管理系统提供一个强大的服务器监控和管理工具，帮助运维人员及时发现和解决问题，保障系统稳定性和性能。</p>
<h1 id="智能汽车网络靶场试验配置管理分系统"><a href="#智能汽车网络靶场试验配置管理分系统" class="headerlink" title="智能汽车网络靶场试验配置管理分系统"></a>智能汽车网络靶场试验配置管理分系统</h1><h2 id="汽车安全测试模块"><a href="#汽车安全测试模块" class="headerlink" title="汽车安全测试模块"></a>汽车安全测试模块</h2><ul>
<li>支持根据测试结论生成测试报告,报告包含测试用例通过数，未通过数，结论，综合评分等内容，提供产品功能截图证明；</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/4b1b8b9aae810771dcb3a080f06ad651.png"></p>
<p>功能参数设计为，系统提供全面的测试项目管理，涵盖测试准备、执行和归档，确保全流程管理的高效实施。此外，系统允许配置测试项目的关键元素：测试对象、人员和环境，包括为测试人员分配必需的环境接入机器，并支持将测试项目细化为多个测试项。对于测试项的管理，系统允许配置具体的测试用例，这包括直接添加新用例或从现有的测试用例库中选择。</p>
<p>进一步地，系统支持测试项的流程编排，定义包括人工单例、批量、自动化测试、流量采集和分析、攻击等多种类型的测试事务。这些测试事务可以灵活编排到测试流程的各个步骤中，并且每个步骤可以被设置为人工执行或自动执行。系统还提供了测试项目执行的控制功能，包括开始和停止操作。</p>
<p>在测试执行方面，系统使测试人员能够查看项目详情，并通过接入机器登录到测试环境中，按照测试方案和用例要求进行测试。系统支持测试人员根据测试用例提交测试结果，结果支持富文本格式，增强了结果表达的灵活性。此外，系统能够进行全面的测试统计，包括测试项数量、测试用例数、产品和公用漏洞数，还包括测试用例的通过率统计及其图表展示。</p>
<p>对于测试结果的管理，系统支持测试结果的查看，并能够基于这些结果自动生成详尽的测试报告。系统还允许重新开启测试活动进行复测，同时对历史测试数据进行归档处理，确保历史数据和报告的可访问性。此外，系统还涵盖了广泛的资源管理功能，包括实物和虚拟测试设备及其镜像的管理，测试工具的分类管理，测试模板的管理，以及测试方案和测试对象的综合管理。</p>
<p>系统不仅处理测试项目中发现的漏洞信息，提供快速查询和复测，还支持对测试中发现的漏洞进行统计和图表展示，包括漏洞等级和状态。系统还提供了漏洞知识库的管理功能，允许用户根据测试场景中发现的漏洞链接到对应的知识库。在测试资产管理方面，系统提供了资产信息、服务商、组件、组件成分分析及其潜在漏洞的展示，并支持查看资产测试中发现的漏洞，展示资产组件的依赖关系。</p>
<p>性能参数设计为，系统支持同时开展100个测试任务，确保了在高负载条件下的稳定运行。此外，系统的测试poc库包含2000个项目，提供了丰富的测试资源和场景，以满足广泛的测试需求。</p>
<p>系统具备测评任务的管理功能，支持测评任务增删改查、测评报告管理和测评状态的监视，支持历史测评任务的查看，可根据任务的名称、时间、参与人员等进行任务检索。</p>
<p>系统具备测评场景设计与构建功能，支持多人多层同时设计测评场景，支持一个测评任务在多个测评场景间切换，支持场景、子场景、设备等多级模板的保存与使用，支持节点复制、模板组合、多人多层共享设计等多种方式提高测评场景构建效率。支持拓扑编辑通过增加镜像线的方式支持测评场景内部虚拟主机流量镜像的功能，将特定的虚拟机指定端口的流量镜像到另一虚拟机的指定端口，实现测评场景中内部旁路监听功能。</p>
<p>系统支持在测评场景中描述各类网络设备、安全设备、工具设备等，能够动态组网实现防御能力评测、渗透测试等的各种典型场景。</p>
<p>系统具备测评资源调度功能，支持靶标、工具等资源的预约，支持根据资源预约情况和资源实时状态自动调度生成测试环境。</p>
<p>系统具备测评流程编排导调功能，支持在流程中对攻防渗透、安全防御检测、漏洞挖掘、靶标配置按照步骤进行编排和调度，流程编排支持步骤的分支和汇聚，支持收集各系统状态数据并监控相关任务状态。测评流程编排包括测试方案选择、测试用例配置、测评场景定义等，测试用例支持对测试用例的详细任务进行配置和调度，包括执行脚本、下发配置和向工具下发任务等。支持通过专用数据通道向测评场景内设备下发任务配置和收集结果。</p>
<p>系统具备数据采集能力，支持采集测试工具、设备的状态信息和测试过程信息，支持采集指定节点的流量报文，并能发送给指定的分析与存储设备进行分析存储，并能根据不同的试验给流量实时标记不同标签，用于不同任务数据的查询。</p>
<p>系统具备测评归档和防护策略演进分析功能，支持任务结束后对任务相关数据进行归档，便于后续进行相关信息查询，支持跨任务的防护策略演进分析。</p>
<p>系统具备测试过程中测评数据存储能力。原始测评报文存储处理性能不低于1Gbps，支持数据包加密存储，支持压缩存储。支持指定IP、端口等五元组条件对测评原始报文进行检索，检索性能不低于10TB/s。</p>
<p>支持同时管理和调度的任务数不低于100个，单个测评场景拓扑节点数不低于10000个，测评场景分层编排的层级数不低于5层，具备1000节点集群的批量化配置能力，支持测评任务通过不低于10个场景模板进行组合，具备测评环境根据测评任务进展更新功能，支持同时接入系统进行测评操作的人数不低于100人，支持虚拟和实物设备的接入方式不低于3种，支持系统测试poc库不低于2000个。</p>
<p>测评流程编排导调一个测评试验具备的流程步骤的数量不低于10个，一个步骤具备执行的事务数量不低于10个，支持场景流程的循环执行次数不低于10次。</p>
<h4 id="安全攻防任务管理子模块"><a href="#安全攻防任务管理子模块" class="headerlink" title="安全攻防任务管理子模块"></a>安全攻防任务管理子模块</h4><h5 id="测评任务管理"><a href="#测评任务管理" class="headerlink" title="测评任务管理"></a>测评任务管理</h5><p>测评任务管理负责测评任务增删改查、测评报告管理和测评状态的监视，支持历史测评任务的查看，可根据任务的名称、时间、参与人员等进行任务检索。支持任务结束后对任务相关数据进行归档，便于后续进行相关信息查询。</p>
<p>测评任务管理负责测评全生命周期的管理，包括需求管理、测试计划管理、测试用例管理和测试报告管理等功能。</p>
<p>需求管理：需求管理模块是需求分析员对测试需求进行新增、修改、删除以及提交审核 的操作。其具体的业务流程是：需求分析员进入登录界面，输入验证信息，若验 证信息正确则进入相应权限页面；若验证信息错误，则系统给出提示，需重新输入。需求分析员进入系统界面后，选择需求管理模块，可进行新增需求、修改需求信息和删除需求操作。新增需求时，系统判断需求ID是否己存在，若己存在, 系统给出提示信息；删除需求时，系统给出确认删除的提示。新增、修改或删除 需求后，系统更新需求信息。</p>
<p>新增需求：此功能模块是对新增需求功能点的管理。它是根据软件需求规格说明书提取 出来的测试需求，新增需求必须经评审通过了才能生效。需求应以一个功能点对 应一个需求ID的条例形式统计出用户需求，这样把需求从传统的文档形式转化 为一条条的功能点，不仅便于查证是否与用户需求一致，而且便于检査测试用例 是否全面覆盖了需求中的功能点。</p>
<p>修改需求：此功能模块是对需求功能点进行修改的管理。经修改的需求必须通过评审才 能生效，且在修改需求时需要填写修改人姓名以及修改原因，且在修改成功后， 原需求仍然存在，只是显示为失效状态。</p>
<p>删除需求：此功能模块是对需求功能点进行删除的管理。需要删除的需求必须通过评审 才能生效，且在删除需求时需要填写删除人姓名以及删除原因，且在删除成功后， 原功能点仍然存在，只是显示为失效状态。</p>
<p>审核需求：此功能模块是对需求变更进行审核的管理。审核人对需求变更的申请进行评 审，给出“审核通过”或“审核驳回”的评审结果，在驳回时需备注驳回原因。</p>
<p>发布需求：此功能模块是对审核通过的需求进行发布的管理。审核通过的需求经过发布 则可正式被使用。</p>
<p>需求变更：此功能模块是对已变更的需求进行的相关管理。需求管理中既有对需求变更 后的记录，也保存变更前的记录，以供日后进行工作追踪。</p>
<p>测试需求修改管理的流程如下图所示：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/d9c51ec876edc86d66425a0ef11152d0.png"></p>
<p>测试需求管理流程</p>
<p>需求分析员在需求管理页面，选择修改需求子功能，选择一条需求信息，触发一个 demandAlterBefore.action请求；</p>
<p>demandAlterBefore.action 请求被 struts.xml 文件拦截并选择 demandAlterBeforeAction.java 类处理请求；</p>
<p>demandAlterBeforeAction类获取所有已存在以及需要修改的需求信息, 然后将获取的结果返回给struts.xml,若果返回的是success结果，则跳转到 demandAlterContext.jsp页面(修改需求对话框页面)；</p>
<p>需求分析员修改需求信息，并点击确定；</p>
<p>提交信息的post方法将信息的参数传递给demandAlterAction.java类进 行处理；</p>
<p>demandAlterAction.java 类将 demandAlterContext.jsp 页面传来的信息进 行处理并添加在数据库中，且将返回结果(SUCCESS或INPUT)传送给struts.xml, 让其选择相应的返回页面，若返回的是“SUCCESS”则跳转到修改需求主页面</p>
<p>(demandAlterMain.jsp)；</p>
<p>修改操作执行后，向LogRecord类发出调用refresh()方法的消息进行 日志的记录操作。</p>
<p>需求管理是需求分析员对新增需求、修改需求信息、删除需求以及提交需求 审核的操作。现以新增需求为例进行详细叙述。</p>
<p>点击新增按钮，弹岀新增需求对话框，对话框中包含以下字段：需求ID、 需求名称、所属模块、需求描述、功能限制条件和备注。其中，需求ID是唯一 性标识，不可重复，需求名称、所属模块和需求描述是必填项。当输入已存在的 需求ID时，系统需给出“需求ID已存在，请重新输入”的提示；当点击保存时, 若必填字段处为空，则系统给出“请输入必填信息”提示。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/574cad0cbec495321a128e8affd13b78.png"></p>
<p>点击需求记录的详情标识，系统显示的表单为不可编辑状态。在撰写用例时， 每条用例会有对应的用例ID,且因每条用例都会对应于一条需求信息，因此在 用例信息中会有用例所对应的需求ID所以当点击查看一个已经有对应用例的 需求信息时，需求表单详情会比新增需求表单多一个“用例ID”字段，且一个 需求ID可能对应多条用例ID。</p>
<h5 id="测试计划管理"><a href="#测试计划管理" class="headerlink" title="测试计划管理"></a>测试计划管理</h5><p>测试范围：此功能项是对测试工作范围的管理。依据测试需求中的功能点来制定测试工 作的范围，告诉测试工作人员需要做什么，并用什么样的数据进行测试。</p>
<p>测试人员：此功能项是对测试人员信息的管理。主要是对参与一个项目测试工作的所有人员信息的管理。</p>
<p>测试分工：此功能项是对测试人员工作分配的管理。如测试负责人由谁担任，测试高级工程师(负责撰写测试用例)由谁担任，测试工作由谁负责等。</p>
<p>测试时间：此功能项是对测试时间安排的管理。主要是对测试工作的阶段性安排，特定 时间完成特定任务的规划，如何时启动测试工作、何时完成哪些模块的测试，何 时进行回归测试等。</p>
<p>测试环境：此功能项是对实施测试工作所需的环境和资源的描述。测试环境是指能够完 成测试工作所必须的计算机硬件、软件以及其他的设备资源。稳定的测试环境有 助于测试工作高效完成，一般情况，实施测试时需将测试环境的配置信息妥善保 存，以备日后能够快速还原工作中的问题。</p>
<h5 id="测试用例管理"><a href="#测试用例管理" class="headerlink" title="测试用例管理"></a>测试用例管理</h5><p>新增用例：此功能模块是对新增用例的管理。测试高级工程师根据机构订购的测试规范 进行用例的撰写，新增用例必须经评审通过了才能生效。用例应有用例ID编号, 与需求功能点对应，且多条用例可以对应一个需求功能点。</p>
<p>修改用例：此功能模块是对用例进行修改的管理。经修改的用例必须通过评审才能生 效，且在修改用例时需要填写修改人姓名以及修改原因，且在修改成功后，原用 例仍然存在，只是显示为失效状态。</p>
<p>删除用例：此功能模块是对用例进行删除的管理。需要删除的用例必须通过评审才能生 效，且在删除用例时需要填写删除人姓名以及删除原因，且在删除成功后，原用 例仍然存在，只是显示为失效状态。</p>
<p>待审核用例：此功能模块是对用例变更进行审核的管理。审核人对用例变更的申请进行评 审，给出“审核通过”或“审核驳回”的评审结果，在驳回时需备注驳回原因。 审核人在此模块可看到需要审核的用例，发起用例变更的申请人也可在此模块中 看到审核情况。</p>
<p>用例分配：此功能模块是对用例进行分配的管理。撰写测试用例的人员（测试高级工程 师）在此模块中将生效的用例按照用例编号分配给测试人员，测试人员可在此模 块中看到自己需要测试的用例情况。</p>
<p>用例测试结果：此功能模块是对用例执行结果的管理。当所有测试用例被执行完毕后，测试 高级工程师对整个测试工作进行跟踪记录，对于通过、未通过以及缺陷情况进行统计分析。</p>
<h5 id="测试报告管理"><a href="#测试报告管理" class="headerlink" title="测试报告管理"></a>测试报告管理</h5><p>新增测试报告：此功能项是对新增测试报告的管理。它是测试人员和测试负责人对测试工作 的阶段性汇报。其中，由于测试人员有新增测试报告权限，而无修改测试报告权 限，所以测试人员在新增测试报告时需备注新增时间，系统将自动以最后一次新 增时间为准。</p>
<p>修改测试报告：此功能项是对测试报告进行修改的管理。只有测试负责人拥有该功能模块的 权限，在测试负责人修改测试报告时需填写修改人姓名并记录修改时间，在修改 成功后，以前的测试报告仍然存在，只是显示为失效状态。</p>
<p>删除测试报告：此功能项是对测试报告进行删除的管理。只有测试负责人拥有该功能模块的 权限，在测试负责人删除测试报告时需填写删除人姓名并备注删除原因，在删除 成功后，以前的测试报告仍然存在，只是显示为失效状态。</p>
<h5 id="测评场景设计与构建"><a href="#测评场景设计与构建" class="headerlink" title="测评场景设计与构建"></a>测评场景设计与构建</h5><p>系统支持多人多层同时设计测评场景，支持一个测评任务在多个测评场景间切换，支持场景、子场景、设备等多级模板的保存与使用，支持节点复制、模板组合、多人多层共享设计等多种方式提高测评场景构建效率。支持拓扑编辑通过增加镜像线的方式支持测评场景内部虚拟主机流量镜像的功能，将特定的虚拟机指定端口的流量镜像到另一虚拟机的指定端口，实现测评场景中内部旁路监听功能。</p>
<p>系统支持在测评场景中描述各类网络设备、安全设备、工具设备等，能够动态组网实现防御能力评测、渗透测试等的各种典型场景。</p>
<h6 id="虚拟网络配置"><a href="#虚拟网络配置" class="headerlink" title="虚拟网络配置"></a>虚拟网络配置</h6><p>虚拟主机（虚拟机节点和仿真节点）与虚拟链路（虚拟交换机和虚拟路由器等虚拟网络设备）的配置为用户提供自动或者手动地配置虚拟网络环境中的虚拟机和虚拟路由器的功能，从而实现包含虚拟机、协议栈仿真节点和虚拟路由交换链路仿真的复杂网络。</p>
<p>虚拟主机与虚拟链路配置从如下几个方面实现系统的自动配置：</p>
<p>方式1、将虚拟机中需要的软件及配置固化在虚拟机镜像中，在虚拟机部署</p>
<p>启动的时候，就自动运行。一般来说，在软件安装部署与在环境无关，或者虽然相关，但使用不多，可以固定环境参数如IP地址的情况下，通常使用这种方式。</p>
<p>方式2、将虚拟机中需要的软件固化在虚拟机镜像中，但是在虚拟机部署的时候，将配置注入到虚拟机，虚拟机启动的时候，装载配置，实现自动配置。一般来说，在软件可以预先知道其环境设置的情况下，通常使用这种方式。</p>
<p>方式3、将虚拟机中需要的软件固化在虚拟机镜像中，但是在虚拟机部署完</p>
<p>成后，系统自动登录虚拟机，执行预定的程序，将配置注入到虚拟机，实现自动配置。一般来说，在软件依赖其它虚拟机的部署参数，但依赖度不高的情况下，通常使用这种方式。</p>
<p>方式4、人工配置。通过虚拟节点访问子系统，登录虚拟机，完成配置。</p>
<p>综合上述，虚拟节点配置的组成如所示。虚拟节点配置可分为虚拟环境配置控制和自动配置模块组成。虚拟环境配置控制负责解析任务配置的参数，按逻辑关系控制自动配置任务的执行，并将执行结果返回到上层调用。自动配置模块根据配置的参数，选择合适的配置文件注入到虚拟机镜像并部署虚拟机镜像，并根据需要和可能，执行远程过程调用，完成自动配置。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/d47353c9da35bcb69828a6606dc463f3.png"></p>
<p>虚拟节点配置</p>
<p>虚拟主机及链路配置主要支持以下两个核心工作流程：1、虚拟主机节点的配置；2、虚拟路由的配置。</p>
<h6 id="虚拟节点的配置"><a href="#虚拟节点的配置" class="headerlink" title="虚拟节点的配置"></a>虚拟节点的配置</h6><p>通过配置文件来决定启动的虚拟节点的类型和数据，配置文件采用XML文件格式。通常情况下，虚拟节点都有服务端和客户端，系统通过在部署服务端时，绑定注入网络的方式部署，即网络拓扑设计时固定了服务器的IP，这就使得客户端部署时可以直接使用服务器的IP。虚拟节点的配置生成主要包含如的步骤。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/04061e80c1c6706316d9c87f59ffb6c8.png"></p>
<p>虚拟节点的配置</p>
<p>具体说明如下：</p>
<p>1).配置解析向任务控制发出部署服务器任务；</p>
<p>2).任务控制将任务发送给虚拟机按需部署往服务端注入虚拟节点配置文件；</p>
<p>3).虚拟机部署部署服务端虚拟机，并给虚拟机绑定IP ；</p>
<p>4).配置解析发出部署客户端任务；</p>
<p>5).任务控制将任务发送给虚拟机按需部署往客户端注入虚拟节点配置文件；</p>
<p>6).虚拟机部署客户端虚拟机；</p>
<p>7).如果需要跨子网使用且需要作nat映射，在虚拟路由器上配置转发规则和防火墙规则；</p>
<p>8).配置解析发出部署外网客户端任务，请求配置管理生成外网客户端配置文件；</p>
<p>9).任务控制将任务发送给虚拟机按需部署往外网客户端注入虚拟节点配置文件；</p>
<p>10).在部署远程访问客户端时注入新生成的配置文件，部署外网客户端虚拟机。</p>
<h6 id="网络环境配置"><a href="#网络环境配置" class="headerlink" title="网络环境配置"></a>网络环境配置</h6><p>为试验环境的图形可视化设计提供了一套全面的网络拓扑编辑工具，以支持试验环境的编辑和配置 功能。同时，支持虚拟机主机（包括基础主机、数据库服务、邮件服务、web服务、DNS、虚拟靶机、攻击机、用户自定义主机）、流量模拟虚拟机节点和docker节点（HTTP流量、mail流量、FTP流量）、虚拟网络设备（包括路由器、防火墙、动态路由器和WAF等）、实物主机、靶机和网络设备。</p>
<p>支持拓扑图的分层展示、按比例缩放和聚合，可在拓扑图中以拖拽方式快速加入各种类型的集群。拓扑图的编辑，要求支持子网以拖拽的方式加入试验网且可以配置其属性，支持子网的可视化拓扑编辑，允许以拖拽的方式完成子网中各类节点链路的组网；拓扑图分层展示，要求支持鼠标滚动时整个拓扑的缩放，支持放大时子网和集群拓扑详情查看、缩小时子网和集群节点聚集的效果；集群定义配置，要求支持集群预定义、支持集群运行时节点数自由扩展、支持子网中以拖拽方式接入各种类型的集群。在拓扑图单页面中，随机生成1万2千个节点、5000条连线, 平均用时可在1 秒以下，且能对这些节点任意的编辑。</p>
<p>网络环境是由网络及子网、设备等组合而成。系统提供统一的可视化网络设计。通过新建网络或者导入环境模板创建网络。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/4d3c5223c12602a71ca8ec860e5e8813.png"></p>
<p>创建网络</p>
<p>网络通过可视化的编辑工具，自由拖放网元进行组合。支持的设备包括子网、交换机、路由器、实物交换机、路由器、防火墙、服务器等。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/cf4179099c8bc9a742947ceab5123471.png"></p>
<p>可视化设计网络</p>
<h6 id="虚拟机配置"><a href="#虚拟机配置" class="headerlink" title="虚拟机配置"></a>虚拟机配置</h6><p>虚拟机具有操作系统类型，方案引用，磁盘方案，所属网络、IP，用户名、密码等相关属性。参数还包括IP/MAC地址、网关地址、型号等。虚拟机提供对多种服务器类型的支持，包括邮件服务器、应用服务器、数据库服务器、内容管理系统(CMS)服务器、文件服务器和WEB服务器。也支持对离散节点进行仿真。配置这些虚拟机时，可以设定多种参数，如设备型号、登录用户信息、登录凭证、操作系统和应用软件等。服务器的类型既支持KVM的节点、docker容器节点、KVM集群、docker集群等。离散事件模拟节点支持IPv4协议的标准数据通信，支持网络蠕虫模拟，支持IP地址的统一管理与配置，支持对离散事件模拟节点的自动化配置。在虚拟节点属性中，界面上用户输入配置属性允许用户输入虚拟机的相关配置。实现通过非网络接口控制虚拟节点或脚本、执行命令，并获取执行结果。</p>
<p>除在设置各种服务器时，系统自动对这些设备可选用的模板进行过滤。虚拟机可定义多个网卡，在编辑网络拓扑时，将虚拟机连到多个网络中，该虚拟机在部署时自动生成与各个网络相连的网卡，网卡的IP可在设计时进行设置。虚拟机之间支持精确模拟网络链路的功能，能够仿真包括带宽、延迟、丢包率和误码率等网络链路的关键特性。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/6a0e9cdf47141b58dcc1035798d6b625.png"></p>
<p><strong>虚拟机配置</strong></p>
<h6 id="虚拟路由的配置"><a href="#虚拟路由的配置" class="headerlink" title="虚拟路由的配置"></a>虚拟路由的配置</h6><p>系统使用虚拟机来作为虚拟的路由器，连接系统中的子网络组成一个更大的网络。虚拟路由器可以连接在多个子网络上，实现子网之间的数据流的转发。虚拟路由的配置主要是为路由器配置路由信息，对支持防火墙的虚拟路由器，配置防火墙的出入口规则和转发规则。针对不同类型的虚拟路由器，系统定制了虚拟路由器支持的程序脚本模板，脚本包括：路由设置、防火墙规则、和转发规则等。虚拟路由器有一个网卡固定连接在一个系统定义的管理子网上，程序通过该子网，根据模板和实际参数，产生远程调用脚本，在虚拟路由器上执行，实现虚拟路由器的配置。</p>
<p>虚拟路由器配置部署的流程如所示。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/8068871d33abe4b697294883041a5afb.png"></p>
<p>虚拟路由器配置部署</p>
<p>具体说明如下：</p>
<p>1)配置解析得到一个在子网上创建路由器的任务，并解析得到配置参数如路由器模板、IP、子网掩码、DNS等配置信息；</p>
<p>2)任务控制根据任务的并发情况，决定是否启动任务；</p>
<p>3)如果启动任务，调用虚拟机部署，部署虚拟路由器；</p>
<p>4)等待虚拟路由器启动；</p>
<p>5)配置解析得到一个在虚拟路由器上连接另一个子网的任务；</p>
<p>6)任务控制根据任务的并发情况，决定是否执行该任务；</p>
<p>7)如果执行该任务，系统在虚拟路由器上创建一个网卡，配置网卡网络参数，连接虚拟路由器和子网；</p>
<p>8)根据配置解析得到的参数，初始化路由配置模板为命令程序；</p>
<p>9)通过管理子网，远程执行命令程序。</p>
<p>路由器仿真功能能模拟动态和静态路由表，实现包过滤机制，支持设置优先级，并能在模拟的网络拥塞状态下进行包丢失处理能力的演练。仿真的路由器网络属性包括有路由器的名称、路由协议、静态路由配置，其中路由器的配置支持RIP、BGP、OSPF的协议配置，并支持IPV4，IPV6两种协议方式。配置界面可使用通过此参数，用户可以进行动态路由配置。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/113e679fcfc695bb1783ae0bd89dd628.png"></p>
<p>路由器属性设置</p>
<h6 id="协议栈节点的配置"><a href="#协议栈节点的配置" class="headerlink" title="协议栈节点的配置"></a>协议栈节点的配置</h6><p>系统中包含一个协议栈节点生成模块，其工作流程如下：</p>
<p>1. 生成配置文件：首先，系统生成包含所需设置的协议栈节点的配置文件。</p>
<p>2. 发送配置文件：该配置文件随后被发送到协议栈节点生成模块。</p>
<p>3. 接收和解析：协议栈节点生成模块内部的管理部分接收到配置文件后，开始进行内容解析。</p>
<p>4. 节点配置：根据配置文件解析出的指令，完成对协议栈节点的最终配置。</p>
<p>通过这样的流程，可以确保协议栈节点得到正确配置，从而在网络中按预定的方式工作。</p>
<p>系统提供了一个可视化界面，允许用户通过拖放的方式来设计目标网络。这个界面支持对网络节点进行添加、删除和修改等操作。目标网络的设计兼容四种不同类型的节点：虚拟化节点、轻量级虚拟节点和实物网络节点，所有这些都可以统一在同一个界面中设计和配置。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/f55e962b1a2af2599e1df2e834f03262.png"></p>
<p>协议栈仿真配置</p>
<h6 id="拓扑模板配置"><a href="#拓扑模板配置" class="headerlink" title="拓扑模板配置"></a>拓扑模板配置</h6><p>除了支持全新设计网络拓扑外，还可通过基于模板的图形化配置方式进行网络拓扑配置。通过鼠标点击或拖拽方式选择设备、设置设备属性以及编辑设备间连接关系等操作。配置结果可保存、加载，以模板形式存储网络配置信息。 <img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/8d65040dc8dae86f0a42c1baf203ba6f.png"></p>
<p>拓扑模板配置</p>
<p>网络拓扑模板是由网络及子网、设备等组合而成。系统提供统一的可视化网络设计。通过新建网络或者导入环境模板创建网络。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/4d3c5223c12602a71ca8ec860e5e8813.png"></p>
<p>网络拓扑新建</p>
<p>网络拓扑模板也通过可视化的编辑工具，自由拖放网元进行组合。支持的设备包括子网、交换机、路由器、实物交换机、路由器、防火墙、服务器等。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/cf4179099c8bc9a742947ceab5123471.png"></p>
<p>设备配置</p>
<h5 id="测评资源调度"><a href="#测评资源调度" class="headerlink" title="测评资源调度"></a>测评资源调度</h5><p>测评资源调度为测评场景的按需创建、运行提供支持，与其他子系统协同实现测评场景的构建和运行管理。</p>
<p>在智能测评平台上，资源调度机制的核心职能是解析测评环境的布局以及参与者的配置需求。平台首先会对试验任务中所需的虚拟与实体资源进行识别与评估。一旦资源需求明确，平台就会将整个配置过程分解为一系列任务，并基于这些任务之间的依赖关系，确定其执行的顺序。</p>
<p>随后，任务会被放入一个异步处理队列中。此过程由一个监控系统持续跟踪，以确保每个任务都能按照既定顺序高效完成。除此之外，用户也可以通过平台的用户界面发起网络拓扑的配置变更要求。这些要求被转化为具体的管理任务，随后加入到异步任务队列中，由监控系统同样确保其顺利执行。</p>
<p>任务调度管理部门在此过程中扮演关键角色，它识别任务的类型并调用对应的处理模块来执行和调度任务。为了满足底层系统的特定需求，任务还会被细化为子任务，并分派至部署在计算机集群上的相关组件：包括虚拟网络配置管理模块和虚拟机管理模块。这些模块借助本地的虚拟化技术，负责具体任务的处理。一旦任务完成，其结果将通过消息队列系统返回给任务结果管理模块，为用户提供反馈。这样的设计不仅确保了高效、有序的资源调度和管理，还为用户提供了及时的任务执行反馈。</p>
<p>测评资源调度包含如下图功能部分：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/dbd3082c1a2d38efe1c843083bcb10ef.png"></p>
<p>测评资源调度功能结构图</p>
<p>配置解析功能起着桥梁的作用，将由配置管理界面生成的配置文件进行详尽解析，以此来确定需要构建的测试环境针对基础虚拟网络、虚拟节点以及虚实连接所必需的资源规模。配置管理界面的工具利用这些配置接口，直接将系统中环境变更的需求转换成具体的任务，并依次将这些任务排入任务队列中待处理。</p>
<p>为了评估测试环境所需的虚拟资源，系统提供一系列算法。这些算法能够计算出虚拟网络和节点所需的资源量，比如网络资源数、CPU资源数、内存及存储资源数。这种评估将考虑到当前系统中可使用的空闲虚拟资源，并据此判断系统是否有能力支持构建预定的测试环境。</p>
<p>任务管理部分则是将环境的需求转化为实际的配置任务，这些任务会根据它们之间的依赖关系进行排序，并添加到任务队列中。此外，它还负责维护和控制这些任务间的依赖关系。</p>
<p>异常处理部分致力于监控任务的执行状态，对于超时未完成或发生故障的任务提供相应的处理机制。确保系统的鲁棒性和可靠性。</p>
<p>任务结果管理模块充当消息总线的回调机制，根据底层系统返回的任务执行情况，处理和反馈结果信息。通过这些模块的协同工作，系统确保了任务的顺利执行和及时准确的状态反馈，为用户管理和维护测试环境提供了强有力的支持。</p>
<p>1）配置解析功能</p>
<p>配置解析模块的主要作用是对由配置管理界面所生成的配置文件进行详细的解码工作，这将揭示所需生成的网络环境的拓扑结构。该模块负责分析拓扑结构和其参数设置，从而得出构成该拓扑所需的子网分割、节点定义和连接关系。</p>
<p>配置文件本身采用了标准的XML格式，系统内部定义了该格式以描述网络环境的特定方面。当配置文件被传递至系统时，一个专用的XML解析器被调用以提取出配置文件中定义的网络组件信息，如虚拟和实体的子网、它们的互联关系，以及其他关键配置详情。</p>
<p>更具体地，XML解析器能够逐项读取配置文件中规定的虚拟子网设置、虚拟子网间的连线关系、实体子网的特征和它们的连接方式、虚拟和实体网络的交互连接方式，另外还包括数据采集和监控设置以及软件部署指令。此外，每个虚拟子网需部署的虚拟节点数量和属性，以及诸如协议栈节点之类的详细要求也会被解析并准备好以供后续的配置部署。</p>
<p>系统设计这种解析流程是为了确保网络环境的准确构建，同时提供所需网络模拟详尽的参数化配置，从而使网络管理员或者研究人员能够定制和部署复杂的网络测试环境。这种方法的实施保障了网络环境创建的透明度和重现性，满足不同用户对于网络配置的精细化管理需求。</p>
<p>2）资源评估功能</p>
<p>(1)虚拟资源评估</p>
<p>虚拟资源评估功能负责分析和确定系统是否具备构建配置文件所描述的目标网络环境所需的全部资源。这一过程涉及到多种虚拟资源的核算，包括网络资源如VLAN和公共IP地址，以及计算资源包括CPU、内存和硬盘空间。</p>
<p>评估操作涵盖对每个虚拟节点所需计算资源的总量—如CPU时钟频率、内存容量和存储空间—进行仔细估算，并对网络部分，如VLAN数量和公共IP地址的使用，进行准确盘点。这一连串计算行动的目的在于确保系统在资源分配上能够满足测试床网络环境构建的所有需求。</p>
<p>整个评估流程是为确保在实际配置之前，所需的每一项资源都得以妥善准备和规划，从而避免在构建或运行时发生资源短缺，保障实验环境的稳定运行和测试的准确性。通过对虚拟资源的精细评估，管理员能够对资源使用进行优化，确保测试网络环境的高效配置与运行。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/586cf3637013d4d00ddd796817479a9c.png"></p>
<p>虚拟资源</p>
<p>虚拟资源评估的方法是：</p>
<p>进行虚拟资源的评估时，首先需在每个子网内部进行资源占用的统计。这包括累加每台虚拟机所使用的CPU核心数、内存大小以及硬盘存储量。这样做可以得到整个子网所需要的资源总量。</p>
<p>系统将对所有子网进行同样的计算，将各个子网所需的CPU、内存和硬盘资源进行汇总，从而得出构建整个环境所需要的总资源量。这个总量是决定系统能否支持设定环境的关键因素。</p>
<p>同时，系统还需统计所有子网占用的外部IP地址数量，以及子网的总数，这些信息用来计算整个网络环境所需要的外部网络接口数量和VLAN资源。这一系列的累计和统计活动，旨在为了确保环境的资源需求量不会超出系统的承载能力，从而可以顺利地构建和运行预定的虚拟网络环境。</p>
<p>(2)实物资源评估</p>
<p>资源评估在构建和管理虚拟网络环境时扮演着至关重要的角色，它可以手动执行，也可以通过自动化算法完成。</p>
<p>在手动评估过程中，管理员利用配置管理服务模块的用户界面来指定资源的预分配。通过这一界面，管理员可以根据网络环境的需求和可用资源的具体情况，有选择性地为各个组件指派资源。这种方法依赖于管理员对当前系统状态和工作负载要求的深入了解。完成资源的分配后，系统会生成一个包含所有资源分配详情的配置文件，然后发送到虚拟网络的相应子系统，以便进一步处理和实施。</p>
<p>对于自动完成的资源评估，则是基于既定的负载均衡算法来进行。这些算法考虑到网络内的资源使用效率和平衡性，可以自动计算资源分配方案。自动评估方法旨在最小化人工操作，减少配置错误，优化资源利用，并保证服务质量。自动化系统会根据算法提供的结果自动配置网络环境，减轻管理员的工作负担。</p>
<p>无论是手动还是自动资源评估，目的都是保证虚拟网络环境能够充分利用系统资源，同时满足测试和运营的需求。</p>
<h6 id="测评流程编排导调"><a href="#测评流程编排导调" class="headerlink" title="测评流程编排导调"></a>测评流程编排导调</h6><h6 id="测评试验并行管理"><a href="#测评试验并行管理" class="headerlink" title="测评试验并行管理"></a>测评试验并行管理</h6><p>系统能并行支撑多个工程，即多个目标网络环境的模拟，目标网络环境之间是通过三层路由实现安全隔离的，如果试验环境之间需要通信可以通过访问控制策略配置来实现，该系统至少可以同时支撑多个以上的网络环境的部署和运行。并支持多个人员同时对同一个工程进行编辑与管理。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/c945f9197cc00250e7d220140f0ebb40.png"></p>
<p>试验人员管理</p>
<p>在系统中，将对编辑的人员进行授权，纳入到工程中，用户就可以分别用自己的账号进行编辑与管理。</p>
<h6 id="测评试验运行管理"><a href="#测评试验运行管理" class="headerlink" title="测评试验运行管理"></a>测评试验运行管理</h6><p>试验运行管控主要对试验过程控制，、包括试验环境构建过程管理、试验运行进程控制，可根据试验任务配置方案启动相关试验环绕的构建过程，支持控制试验的开始、暂停、继续、回滚、回放、停止、科目更换和资源回收等。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/3eaba8d0e2c258594e87ed3376cb22e0.png"></p>
<p>试验开始、停止控制</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/1561c919000a75125aeb8bca2968a261.png"></p>
<p>试验暂停控制</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/70991c1e123e07695d51b6c8c3203968.png"></p>
<p>试验回放控制</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/67d7cd1ee8a138cdc652f43d34b6f52d.png"></p>
<p>科目更换控制</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/78ba68e57e89cd43da70107d8770a1e3.png"></p>
<p>试验回滚</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/34d223d6761c6ac24596e1369c991487.png"></p>
<p>试验运行控制</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/cf5ad201fd04d4919988ee195d2442af.png"></p>
<p>试验资源回收控制、试验数据保存、试验查询</p>
<p>系统支持对试验过程的数据进行存储，并可根据存储的数据进行回滚。</p>
<h6 id="测评试验过程监控"><a href="#测评试验过程监控" class="headerlink" title="测评试验过程监控"></a>测评试验过程监控</h6><p>提供试验过程的可视化监控功能，一方面可通过实时的采集实物和虚拟节点状态信息，经过分析处理，得到虚拟机的内存利用率、 CPU利用率、硬盘利用率、网卡流量和进程信息等，经过与配置的阈值比较，产生告警信息，并在界面显示。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/6a0685abfa6d50f1347bbccafb77ba04.png"></p>
<p>试验过程告警监控</p>
<p>另一方面对在测试过程中，实时采集数据、过滤数据并分析评估转换成图形的信息展示，系统支持将测试任务分解成多级的子任务，并支持任务进度的管理，支持任务状态的展示。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/9f2cc3cb314c0da73303acf3f41ceeeb.png"></p>
<p>试验过程告警监控</p>
<p>另一方面对在测试过程中，实时采集数据、过滤数据并分析评估转换成图形的信息展示，系统支持将测试任务分解成多级的子任务，并支持任务进度的管理，支持任务状态的展示。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/4176393f7ba78dcf0b372830c0116a7d.png"></p>
<p>试验任务状态监控</p>
<p>支持对试验中的操作日志进行监控以及异常信息告警。具备试验日志记录功能，支持试验日志按用户、用户类型、时间的条件进行查询。</p>
<p><strong><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/a265177ce041e3dc028323b1ee19dcc0.png"></strong></p>
<p>日志监控与告警</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/ccb02c9c1cad75fa56f7542cf2ad82c3.png"></p>
<p>节点录屏</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/bbbeb4bd411ef93edadbaf6033d119ed.png"></p>
<p>录屏播放</p>
<p>虚拟节点数据采集采用基于libvmi和libvirt的采集方式，从运行虚拟机的宿主机上，获取虚拟机的运行状态信息包括CPU利用率、内存利用率、硬盘利用率、磁盘IO、网络流量、TCP连接信息、UDP连接信息等信息。支持虚拟机节点自动发现崩溃、无响应等状态。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/54c36337cb482627b1367e1ffadb404b.png"></p>
<p>虚拟机运行状态监控</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/55efd983eea4902560df7c77d96b781d.png" alt="C:\\Users\\Administrator\\Documents\\Tencent Files\\275129700\\Image\\C2C\\Image1\\@XH_Q%ZO\`3}6B0FH\`Z)4T14.png"></p>
<p>虚拟机事件监控</p>
<p>系统支持虚拟机从崩溃中自动恢复到初始状态或手动选择崩溃节点的处理方式，处理方式包括查看虚拟节点状态、重启、重置等操作。支持虚拟节点状态保存和恢复，并提供配置接口，每个虚拟机支持保存2个状态。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/8c22a3f95448bb3f022f316a4cbb116d.png"></p>
<p>虚拟机状态控制与恢复</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/86cd3950456b5d49efbf2a0a4dabe50a.png"></p>
<p>虚拟机宏观概况</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/9f17d7465a3055e2914360d5708ebafc.png"></p>
<p>虚拟机流量监控</p>
<h6 id="测评试验攻防事件"><a href="#测评试验攻防事件" class="headerlink" title="测评试验攻防事件"></a>测评试验攻防事件</h6><p>为了使系统更具灵活性，需要对一些影响系统运行的值，做出可变化的设置，以便系统的扩展。系统参数配置管理提供系统的全局配置功能，包括字典的配置、初始化或运行期系统参数的配置以及一些专用配置，譬如态势事件定义配置等。系统支持试验事件管理，对试验事件的关联分析并形成事件关联列表，支持关联事件查询统计，可根据事件类型、来源、发生时间、严重程度等对事件关联列表进行过滤查询。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/8db8b60792e024cd11ba10cee9dcd7ac.png"></p>
<p>系统事件配置</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/4de3e3c5ca841fbe253954c59e77f9b9.png"></p>
<p>事件参数配置</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/be0fb5bb3fe642735fb87167518503e6.jpeg"></p>
<p>试验事件展示</p>
<h6 id="测评试验回放"><a href="#测评试验回放" class="headerlink" title="测评试验回放"></a>测评试验回放</h6><p>系统通过试验态势数据展示模块为试验过程中的攻防态势提供可视化服务，通过定义规则，系统从将从宿主机、网络流量采集的数据，经过流处理规则的过滤，在过滤出特定的数据时，产生一个事件，该事件驱动与事件相关联的任务，完成对数据的进一步的基于配置规则的分析处理，从而得到需要展示的态势数据，进而界面程序又将台式数据转换为效果展示的数据，在屏幕上展示，以此实现支持以数据驱动事件、事件驱动任务、任务驱动态势、态势驱动效果展示的模式来展示整个试验的态势。包括对试验任务数据的解析、试验任务状态的跟踪、任务事件的驱动和最终的可视化2D/3D展示功能。系统提供台式数据存储服务，并支持使用存储的态势数据进行回放。回放能够根据试验过程中所记录的参试设备配置数据、状态数据、外测数据、综合态势信息等各类作战数据及其时间属性，通过对数据的按时序回放展现整个试验过程，并对回放的进程进行控制。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/4cc2248ba5b76d885cdf6ac5d15485de.png"></p>
<p>录屏回放</p>
<h4 id="安全攻防资源管理子模块"><a href="#安全攻防资源管理子模块" class="headerlink" title="安全攻防资源管理子模块"></a>安全攻防资源管理子模块</h4><h5 id="知识库管理"><a href="#知识库管理" class="headerlink" title="知识库管理"></a>知识库管理</h5><p>网络安全知识库具有以下功能:</p>
<p>支持对安全知识的查询检索,用户可以输入相关关键词进行查询。</p>
<p>知识支持分类组织和关系关联,用户可以快速定位需要的知识。</p>
<p>知识库内容包括各类网络安全实体间的复杂关系,如时序、空间、数量、依赖等关系。</p>
<p>知识可视化呈现,通过图谱直观展示实体之间的逻辑关联。</p>
<p>支持知识的导入更新,管理员可以新增编辑知识图谱内容。</p>
<p>知识抽取自多源安全数据,并利用AI算法不断学习丰富知识图谱。</p>
<p>知识库为安全态势评估、威胁检测等提供知识支持。</p>
<p>通过知识关联分析,可以计算出网络环境的安全态势。</p>
<p>网络安全知识库构建流程</p>
<p>安全知识的抽取主要对国家安全部门和安全企业的安全公告、安全论坛、安全漏洞库、安全书籍、专家报告、安全工作者社交媒体等信息，采用网络爬虫和自然语言处理技术，基于安全本体，抽取安全实体及其关系，从而构建安全知识图谱。</p>
<p>安全知识图谱推理是根据安全本体，自动推理生成安全知识图谱中实体间新的关系，合并消解安全实体。安全知识图谱自学习是通过安全事件，基于“假设-验证”推理理论，进行安全知识图谱自学习。安全模式挖掘是离线对安全事件数据集进行频繁模式、序列模式，获得新的安全知识，既而丰富安全知识图谱。安全模式深度学习是离线对安全事件数据集进行深度学习训练，掌握安全模式，从而根据未知安全事件数据集，形成安全知识，丰富安全知识图谱。</p>
<h5 id="漏洞闭环管理"><a href="#漏洞闭环管理" class="headerlink" title="漏洞闭环管理"></a>漏洞闭环管理</h5><p>漏洞闭环管理是本平台主要的业务功能之一，其管理流程根据登录系统用户的不 同而有所不同。此处将与漏洞闭环管理相关的三种用户(测试人员、开发负责人和开 发人员)分别进行漏洞业务流程的概述。</p>
<p>测试人员管理漏洞:测试人员进入登录界面，输入验证信息，若验证信息正确则进入相应权限页 面；若验证信息错误，则系统给出提示，需重新输入。测试人员进入系统界面后， 选择漏洞闭环管理模块中的新增漏洞子模块，对漏洞进行详细记录并指派给开发负责 人，经开发负责人确认为漏洞的返回“修改中”漏洞状态，认为不是漏洞的返回 “已拒绝”漏洞状态，测试人员确认拒绝原因后认为不是漏洞的，则修改漏洞状 态为“已确认”并关闭漏洞。开发人员将已修改的漏洞提交给测试人员，测试人 员进行验证，若验证无误后则修改漏洞状态为“已确认”并关闭漏洞，漬验证后 发现仍存在漏洞则重将漏洞提交给开发负责人，循环前面的操作。</p>
<p>开发负责人管理漏洞:开发负责人进入登录界面，输入验证信息，若验证信息正确则进入相应权限 页面；若验证信息错误，则系统给出提示，需重新输入。开发责任人进入系统界 面后，选择漏洞闭环管理模块的修改漏洞状态子模块，对“新建”状态的漏洞进行验 证，若确定是漏洞的则修改漏洞状态为“修改中”并将漏洞分配给相应的开发人 员，若不认为是漏洞的则修改漏洞状态为“已拒绝”并填写拒绝原因。开发负责 人对开发人员已修改的漏洞进行验证(状态为“待验证”)，若确认漏洞已修改则 将漏洞状态修改为“待确认”并提交给测试人员，若认为漏洞未修改好则将漏洞 再分配给开发人员，且此时漏洞状态为“修改中”。</p>
<p>开发人员管理漏洞:开发人员进入登录界面，输入验证信息，若验证信息正确则进入相应权限页 面；若验证信息错误，则系统给出提示，需重新输入。开发人员进入系统界面后， 选择漏洞闭环管理模块的漏洞分配子模块，明确被分配的漏洞后，再对漏洞进行修改。 若漏洞修改好了则将漏洞状态改为“待验证”并提交给开发负责人。开发负责人 若认为漏洞已修改则修改漏洞状态为“待确认”，若认为修改未修改好则将漏洞 状态修改为“修改中”并将漏洞重新分配给开发人员。</p>
<p>漏洞闭环管理模块根据不同的用户角色，显示的功能不同，但是它们的基本流程 原理相似。现以测试人员新增漏洞功能为例进行处理流程的概述。新增漏洞的业务流程图如图所示：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/a3d87a604cb28ee60b9c690151d55ce5.png"></p>
<p>：新增漏洞管理流程图</p>
<p>(1)测试人员发现有未通过测试的用例，点击旁边的“创建漏洞”链接， 触发一个 faultAddBefore.action 请求；</p>
<p>(2)faultAddBefore.action 请求被 struts.xml 文件拦截并选择 faultAddBeforeAction.java 类处理请求；</p>
<p>(3)faultAddBeforeAction.java类获取所有已存在的漏洞信息，在这个过程 中 applicationContext.xml 文件实例化 faultAddService 和 faultAddDao,然后将获 取的结果返回给struts.xml ,若果返回的是success结果，则跳转到</p>
<p>faultAddContext.jsp页面(新增漏洞对话框页面)；</p>
<p>(4)测试人员输入漏洞信息，点击确定；</p>
<p>(5)提交信息的post方法触发faultAdd.action请求；</p>
<p>(6)faultAdd.action 请求被 struts.xml 文件拦截并选择 faultAddAction.java 类 处理请求；</p>
<p>(7)faultAddAction.java 将 faultAddContext.jsp 页面提交的漏洞信息进行处 理并添加在数据库中，且将返回结果(SUCCESS或INPUT)传送给struts.xml,让 其选择相应的返回页面，若返回的是“SUCCESS”则跳转到用户管理页面</p>
<p>(userManager.jsp),若返回的是”INPUT”(漏洞ID已存在)则跳转到新增漏洞 对话框页面(faultAddContext.jsp)；</p>
<p>(8)新增操作执行后，向LogRecord类发出调用refresh()方法的消息进行 日志的记录操作。</p>
<p>漏洞闭环管理是对漏洞进行新增、修改状态和关闭操作。具有漏洞相关操作的用 户有测试高级工程师、测试人员、开发负责人和开发人员。测试高级工程师可关 闭“已确认”状态的漏洞，测试人员对漏洞有新增、修改状态和关闭操作权限， 开发负责人和开发人员对漏洞有修改状态操作权限。现以测试新增漏洞和修改缺 陷状态为例进行详细叙述。新增漏洞対话框如下图所示：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/aaf77234bf2a4699539717215a1b447e.jpeg"></p>
<p>：新增漏洞对话框</p>
<p>新增对话框中包含以下字段：漏洞ID、漏洞名称、所属模 块，漏洞复现步骤、指派责任人、测试人员、漏洞状态和备注。其中，漏洞ID 是唯一性标识，不可重复,•漏洞名称、所属模块、漏洞复现步骤、指派责任人、 测试人员和漏洞状态是必填项。新增漏洞时，漏洞状态默认为“新建”；点击指 派责任人输入框时出现下拉菜单，下拉菜单内为相关人员名称；当输入已存在的 漏洞ID时，系统需给出“需求ID已存在，请重新输入”的提示；当点击保存时, 若必填字段处为空，则系统给出“请输入必填信息”提示。</p>
<p>三个用户对修改漏洞状态时的权限有些不同，现以开发人员修改漏洞为例进 行详细叙述。点击一条漏洞记录的修改标识，进入修改漏洞状态的表单，此时的 漏洞ID、漏洞名称、所属模块、漏洞复现步骤为不可编辑状态；点击漏洞状态输 入框，出现下拉菜单，下拉菜单内容为“已拒绝”、“修改中”、“待验证”、“待确 认”和“已确认”，且当漏洞状态被修改为“待验证”（即代表开发人员己修改缺 陷并提交给开发负责人）时，修改漏洞状态表单会比新增漏洞表单多一个“解决 时间”字段且为可编辑状态，而被修改成其它状态时，只显示解决时间字段，但 为不可编辑状态。修改漏洞状态表单如下图所示：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/ec0eae76d0df44aea806619e26e0972a.jpeg"></p>
<p>：修改漏洞状态对话框</p>
<h5 id="测试工具管理"><a href="#测试工具管理" class="headerlink" title="测试工具管理"></a>测试工具管理</h5><p>攻防工具库包括常用的攻击软件以及防御软件，具体类型可分为信息搜索、数据纂改与欺骗、拒绝服务攻击、漏洞利用、恶意代码、web攻击、无线网络攻击、网络设备攻击、逆向工具、系统防御等类型。数量在161个，此外还包含有攻击工具或防御工具的主机，如常见Linux系统攻击主机（至少含kali、backtrack、backbox，window的Metasploit等。安防软件包括Bit Defender、趋势、卡巴斯基、诺顿、ESET Nod32、小红伞、MSE、McAfee等防病毒软件1套，Nessus、NeXpose、OpenVAS等漏洞扫描软件1套，Lynis等安全审计软件1套，Nagios、Munin、Pingdom、Graphite、Ganglia、IBM Tivoli NETCOOL等安全监控软件1套，以及反垃圾邮件、应用层防火墙等其他类安防软件。详情如下图所示。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/0fd71d608fed04534dee0a358b718cf7.png"></p>
<p>：测试工具管理</p>
<h5 id="测试靶标管理"><a href="#测试靶标管理" class="headerlink" title="测试靶标管理"></a>测试靶标管理</h5><p>提供对试验的虚拟资源进行统一管理。包括虚拟机镜像、Docker镜像、虚拟试验环境、虚拟机节点、Docker容器节点、虚拟链路、安全组、IPs、VLANs等资源的统一调度和管理。主要操作包括：增加、删除、修改、查询和监控。基础虚拟资源中可以定义各种操作系统的镜像，包括Window,Linux等。镜像支持设置虚拟仿真设备的型号、登录用户、登录口令、操作系统及应用软件等。支持对镜像设置密码，当基于镜像生成实例时，能以用户设置的用户名、口令等登录到虚拟机。其他参数可通过配置元数据或者文件的方式进行配置。镜像包括类型台式机、笔记本、服务器、手持终端、路由器、交换机、防火墙、IDS等多种网络节点的镜像，路由器镜像包括有Cisco品牌、Juniper品牌，主机镜像包括Centos、Ubuntu、Debian、Redhat、Kali、Fedora，windows包括Windows XP、Windows 7、Windows Server 2003、Windows Server 2008等32位，64位等20种各种发型版本。</p>
<p><strong><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/f2afe1022c956a90a14882d2102dea86.png"></strong></p>
<p>虚拟靶标管理</p>
<h5 id="任务模板管理"><a href="#任务模板管理" class="headerlink" title="任务模板管理"></a>任务模板管理</h5><p>任务模板管理是网络靶场中的重要功能，它允许用户将现有的任务配置信息保存为模板，这些模板可以带有描述性信息，还可以与其他用户共享，以及进行导出和导入。类似地，场景模板管理、流程模板管理和评估策略模板管理也都具备类似的功能。这些功能的核心目的是为了提高效率和一致性，允许用户在不同的网络环境中重复使用和共享特定的配置。</p>
<p>任务模板管理的关键功能包括：</p>
<p>保存任务配置为模板：用户可以将当前的任务配置保存为模板，这意味着他们可以在将来的任务中重新使用这个配置，无需从头开始。</p>
<p>模板描述：每个模板可以带有描述信息，以帮助用户更好地理解模板的用途和内容。</p>
<p>共享模板：用户可以选择共享他们创建的任务模板，这对于团队协作和知识共享非常有用。</p>
<p>导入和导出模板数据：这使用户能够轻松地在不同的系统之间共享和转移模板。</p>
<p>模板数量管理：系统支持大量模板，确保用户可以管理和组织大量的任务、场景、流程和策略模板。</p>
<p>任务模板管理的核心优势在于提供了一种标准化的方法来配置和管理网络环境，减少了用户的工作量，提高了工作效率，同时也降低了配置错误的风险。这对于网络靶场的操作和管理至关重要，特别是在需要频繁创建不同网络环境的情况下。通过模板管理，用户可以更轻松地构建、部署和管理网络任务，从而更好地满足各种需求。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/b20881a5cd2e4fff4034ee5bca946272.png"></p>
<p>任务模板管理内部服务</p>
<p>任务模板管理对模板进行定义时可以通过获取配置文件经由文件分类管理服务进行分类识别，然后经配置文件持久化服务保存至任务模板库，同时在需要任务模板时可以通过配置文件访问服务从模板库中获取模板数据生成相应模板文件。任务模板支持自动化配置，配置内容包括：虚拟网络节点的IP地址、MAC地址等属性，网络配置，方便用户基于模板来配置。其核心实现过程如下：</p>
<p>配置管理服务最终生成的统一配置文件，如果需要被定义成模板，则发送给任务模板管理模块，经模块中的配置文件分类服务进行过滤，然后按照不同类别的目标网络进行分类，标记为模板。</p>
<p>被标记为模板的配置文件经配置文件持久化服务处理后，变成可被保存到关系型数据库格式的数据。与此同时，数据也被持久化到相应库中。</p>
<p>被保存为任务模板的网络拓扑，在用户发出请求后，经配置管理界面模块和服务模块，下发获取请求，至该模块的配置文件访问服务。</p>
<p>配置文件访问服务从任务模板库中读取指定的模板数据，然后组装生成一份配置文件，发送给配置文件分类管理服务。</p>
<p>配置文件分类管理服务收到来自访问服务生成的配置文件后，依照其标识进行分类，返回给配置管理服务模块，供配置管理界面模块展示。</p>
<p>任务模板支持二次设计，将单独的网络设备编辑好属性，并保存。在新的网络拓扑设计时，如果要用到以前保存好的网络设备，可在左侧的设备窗口中将选中某个设置好属性的设备，组成网络。并支持对任务模板的增删改查的管理。全虚拟化路由器支持自动化配置，使网络管理更加高效。它能够进行动态路由配置，自动更新路由表来适应网络变化。同时，管理员可以设置静态路由的优先级，确保关键流量的优先传输。还可以配置包过滤规则，控制流经路由器的数据包。拥塞控制功能也可以配置，以管理网络在高流量时的表现。为简化这一过程，目标网络的配置数据提供了易于使用的设计界面接口，允许用户利用模板快速配置网络设置。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/38ca4e1c7cd803ed3a7a5d67508182f6.png"></p>
<p>任务模板管理</p>
<p>在新建任务模板时，从已有的任务模板选择导入，并重新命名即可，如图所示：</p>
<p>![C:\Users\Administrator\Documents\Tencent Files\275129700\Image\C2C\Image1\]47T39SP(_G}K<a target="_blank" rel="noopener" href="https://focu5.oss-cn-beijing.aliyuncs.com/media/ee2fd47542d3864428434e2b0824715c.png">6GZQ3HEVC.png</a></p>
<p>任务模板配置</p>
<p>网络拓扑可灵活重构虚拟网络的拓扑结构，无论是二层试验网、三层子网还是包括各类集群的混合型复杂网络都可以自由的重构，与底层物理网络拓扑无关。</p>
<p>模板中支持试验设备参数的批量配置，配置内容包括操作系统安装分布、安全防御配置分布、网络服务分布、客户端分布等。</p>
<h2 id="汽车安全演练模块"><a href="#汽车安全演练模块" class="headerlink" title="汽车安全演练模块"></a>汽车安全演练模块</h2><ul>
<li>渗透演练支持演练人员顺序闯关与随机闯关两种模式，顺序闯关模式支持演练人员按照渗透训练场景任务顺序完成任务，并实时展示下一个任务，提供产品功能截图证明；</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/2fa1e3d7ba2fa8305fcbe9b209a04481.png"></p>
<ul>
<li>支持设计师对演练的开始、停止的控制，在开始后，演练人员能够接入到演练环境中进行综合演练，提供产品功能截图证明；</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/d3abf8ec20eeea4f40bbec68d3c70a54.png"></p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/e35ea9453a1fcf550c041c4a7172ff76.png"></p>
<ul>
<li>支持演练相关要素的一键配置，支持展示一键配置的进度以及结果。能够根据选择的靶标和演练队伍自动进行环境的分配，提供产品功能截图证明；</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/ef5d62487818d2e4075d77374f5dbcf9.png"><br><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/0b7b261a9bb6c95ef5387f5ce5fa814e.png"></p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/171199d5811a136153a4d4f3c6b197e8.png"></p>
<ul>
<li>支持演练人员提交成果验证状态的实时查看，支持设计师对各队伍、各任务完成进度与状态的查看，提供产品功能截图证明；</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/17b9250c85347072bf597a5fec30fc30.png" alt="IMG_256"></p>
<ul>
<li>提供演练的手动提前开始，手动提前结束功能；支持演练过程中对场景进行暂停、恢复以及延期，提供产品功能截图证明；</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/274cd767027ebaf4d346560679ed8965.png"></p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/b06bfd5375c5f4f167a231f43f93a04e.png"></p>
<p>功能参数设计为，系统提供渗透演练支持，包括顺序闯关和随机闯关两种模式，顺序闯关模式允许演练人员按照渗透训练场景任务顺序完成任务，并实时展示下一任务。在演练过程中，系统支持渗透成果的提交，包括特征码和证据文档等，裁判可对提交的成果进行下载与审核，并给予评价。系统还支持红蓝对抗演练场景的定义，设定红蓝角色及队伍，配置不同的演练任务，并设置演练场景内不同设备的访问权限。在红蓝对抗中，系统能够根据周期为双方计算积分，并支持演练中统计红蓝队伍和演练人员的得分，涵盖攻击得分、防守得分、异常检测扣分等。</p>
<p>系统还支持蓝方靶标状态的周期性检测，可配置检测内容与脚本，参数包括周期、指令、参数、系统等。蓝方可以提交防御报告，裁判对此进行审核与评分。系统支持综合演练场景的网络拓扑灵活定义，设置多种任务验证类型，包括静态Flag提交、动态Flag提交及报告提交。综合演练还支持防御方任务的定义，配置防御任务检验脚本，裁判可以人工研判防御效果，通过定义校验脚本对防御效果进行校验，并查看检测结果。</p>
<p>系统允许设计师控制演练的开始和停止，在开始后，演练人员可接入演练环境进行综合演练。系统支持演练环境的批量生成、部署、测试、流量采集、录屏监控等功能，并支持环境需求的高层封装，自动计算并填充部署所需参数。系统还支持演练相关要素的一键配置，展示配置的进度及结果，根据选择的靶标和演练队伍自动进行环境分配。此外，系统提供演练前测试功能，能够还原演练数据，并支持统计包含演练队伍排行、任务完成情况等。</p>
<p>系统支持公共靶标和非公共靶标的配置与分配，定期检测靶标服务状态，并展示各周期检测结果。提供靶标异常统计，设计师可查看异常日志，并按队伍和任务筛选。系统支持演练人员提交成果验证状态的实时查看，设计师可查看各队伍、各任务的完成进度与状态。设计师可随时接入演练环境，对虚拟机进行管理，包含重启、重置等功能。系统提供演练的手动提前开始、结束功能，支持场景的暂停、恢复及延期，并提供演练的归档功能，自动生成全面统计报告并提供下载。</p>
<p>性能参数设计为，系统支持配置200人同时开展演练。</p>
<p>提供一个全面的渗透演练平台，用于支持网络安全专业人员和团队进行渗透测试训练和红蓝对抗演习。平台将提供多种演练模式，支持成果提交与审核，红蓝对抗的定义和积分系统，以及灵活的网络拓扑设计和环境控制。该方案将满足至少200人同时开展演练的性能要求。</p>
<h4 id="方案设计"><a href="#方案设计" class="headerlink" title="方案设计"></a>方案设计</h4><p>演练模式支持</p>
<p>顺序闯关模式：允许演练人员按照预设的任务顺序进行渗透测试，完成一个任务后实时展示下一个任务。平台将提供相应的功能截图以证明此功能。</p>
<p>随机闯关模式：演练人员可以随机选择任务进行渗透测试。</p>
<p>成果提交与审核</p>
<p>成果提交：演练人员可提交特征码、证据文档等成果。</p>
<p>成果审核：裁判可以下载并审核提交的成果，并给予评价。</p>
<p>红蓝对抗场景定义</p>
<p>角色设定：定义红蓝双方角色及队伍，配置不同的演练任务。</p>
<p>访问权限设置：设置演练场景内不同设备的访问权限。</p>
<p>对抗积分系统</p>
<p>周期性对抗：根据预设周期计算红蓝双方积分。</p>
<p>得分统计：统计攻击得分、防守得分、异常检测扣分等。</p>
<p>靶标状态检测</p>
<p>周期性检测：配置周期性检测靶标状态的内容和脚本。</p>
<p>检测参数配置：包括周期、指令、参数、系统、协议、端口等。</p>
<p>防御报告提交与审核</p>
<p>报告提交：蓝方可以提交防御报告。</p>
<p>报告审核：裁判审核报告并给予评分。</p>
<p>网络拓扑与任务验证</p>
<p>网络拓扑定义：灵活定义综合演练场景的网络拓扑。</p>
<p>任务验证类型：支持多种任务验证类型。</p>
<p>演练控制与环境管理</p>
<p>演练控制：设计师可控制演练的开始与停止。</p>
<p>环境接入：演练人员可接入演练环境进行综合演练。</p>
<p>环境部署与配置</p>
<p>批量环境管理：支持环境的批量生成、部署、测试等。</p>
<p>一键配置：支持演练相关要素的一键配置。</p>
<p>演练测试与统计</p>
<p>演练前测试：支持演练前的测试功能。</p>
<p>统计功能：包含演练队伍排行及任务完成情况统计。</p>
<p>靶标管理与检测</p>
<p>靶标配置：支持公共和非公共靶标的配置与分配。</p>
<p>服务状态检测：提供定期检测靶标服务状态。</p>
<p>成果与进度管理</p>
<p>成果验证查看：实时查看演练人员提交成果验证状态。</p>
<p>进度监控：设计师可查看各队伍、各任务的完成进度。</p>
<p>虚拟机管理</p>
<p>虚拟机操作：设计师可对虚拟机进行管理，包括重启、重置等。</p>
<p>演练流程控制</p>
<p>手动控制：提供演练的手动开始、结束以及场景控制功能。</p>
<p>演练归档</p>
<p>归档与报告：演练结束后，自动生成统计报告并提供下载。</p>
<p>参与人数：平台支持不低于200人同时开展演练。</p>
<p>预期结果</p>
<p>提供一个高性能、可靠的渗透演练平台。</p>
<p>支持大规模的红蓝对抗演练。</p>
<p>提高演练人员的渗透测试能力和团队协作效率。</p>
<p>汽车安全演练模块主要为系统提供攻防演练业务支撑，该模块提供一个仿真的网络运行状态隔离的、安全可控的演练网络环境。基于该子系统，从事网络与信息安全相关试验的研究机构可以快速建立各种场景的演练测试环境，在网络层、主机层、应用层等各个层面上进行安全技术研究，开展相关的网络与信息安全攻防演练，同时提供的过程监控工具，可以对所进行的演练进行分析评估。</p>
<p>支持复杂网络拓扑模拟，具备实时监控与评估各组攻防态势的能力。主要包括演练场景的设计和配置，用于与演练并进行结果提交等相关操作。演练场景管理包括演练前配置、演练中监控与查看、演练结束后的归档与报告。演练前的配置包括演练人员配置、接入机器配置、靶标配置、演练任务配置、异常检测等几个方面。演练中主要包括队伍人员靶标得分统计、靶标服务异常检测展示、演练通知消息发送以及大屏展示。演练后主要包括演练的得分排名、演练报告查看等，主要为用户提供攻防演练的服务。演练能够并行开展多个场景，支持模板管理功能，可基于模板快速的生成演练环境以及完成演练场景的相关配置。</p>
<p>靶场支持实验人员接入环境内虚拟终端。教员可查看学员的在线状态，查看接入虚拟终端运行状态。监控数据通过web方式接入，可对接入终端通过检测项来确认开放端口、网络可达，是否接入等信息，检测结果可导出。</p>
<h4 id="攻防演练类型"><a href="#攻防演练类型" class="headerlink" title="攻防演练类型"></a>攻防演练类型</h4><p>系统支持红蓝对抗、渗透闯关、综合演练、护网演练等多种演练场景的设计与部署。</p>
<p>红蓝对抗：设计师在一个实验环境内将实验员分为红蓝两队。攻击队伍利用对逆向、漏洞挖掘、Web渗透等工具对靶标进行攻破。最后拿到靶标的动态flag上传系统来证明已经攻破。</p>
<p>渗透演练：在渗透演练中，攻击队伍不清楚靶标漏洞情况，需要利用网络知识和漏洞扫描结果进行合理推断，获得对网络和靶标的了解，最终利用多种工具攻破靶标。</p>
<p>综合演练系统具备以下功能：支持多样的拓扑结构，可灵活配置靶标验证方式； 提供任务分配功能，支持静态flag和动态flag；支持定义训练过程中的任务、设置和分配靶标，并配置人员队伍；提供靶标服务的检测功能；用户可提交训练结果，并监控训练过程；支持查询人员队伍得分，发送公告和通知；提供可视化展示功能； 在训练结束后，支持释放系统资源和归档训练数据。</p>
<h4 id="演练场景管理"><a href="#演练场景管理" class="headerlink" title="演练场景管理"></a>演练场景管理</h4><p>攻防演练场景管理主要提供渗透闯关、红蓝对抗、综合演练、护网演练等类型场景的管理功能。提供演练前配置、演练中监控与控制、演练后归档与统计的管理功能。场景管理用于对场景内容的定义，包括场景的基本描述、场景的网络环境、场景的任务步骤、场景的人员角色、场景的接入配置等内容。可以经设计好的场景转成模板，供演练子系统复用。攻防场景设计管理包括新增、删除、修改系统中的攻防场景。</p>
<h5 id="场景前配置"><a href="#场景前配置" class="headerlink" title="场景前配置"></a>场景前配置</h5><p>在演练开始之前的场景前配置是确保演练顺利开展的重要环节，其内容会根据不同的演练场景而有所变化。这项准备工作通常涉及设定参与的队伍和演练人员，以及他们所使用的接入机器和目标系统（靶标）。同时，还需要配置Flag的更新机制来保证演练的连续性和监管性，包括流量过滤规则来确保网络安全和异常检测机制以及时发现并处理潜在的风险或攻击行为。这些步骤共同构成了演练的基础框架，是演练能够按计划执行的关键。</p>
<h5 id="演练中管理"><a href="#演练中管理" class="headerlink" title="演练中管理"></a>演练中管理</h5><p>演练进行过程中，设计师可对演练进程进行控制，包含开始、暂停、恢复、结束、延迟演练。支持演练的重新开始，还原一个初始的演练。</p>
<p>支持试验任务的调度管理与进度管理，支持训练整体导调的开始、暂停、恢复、结束、初始化等操作，此外还支持试验清空，并保存为模板。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/b22662c3c410db0b3e194cfa8605c653.png"></p>
<p>演练进度步骤管理</p>
<h5 id="演练后归档"><a href="#演练后归档" class="headerlink" title="演练后归档"></a>演练后归档</h5><p>支持演练场景按照设定的时间自动开始与结束，并支持演练设计人员手动开始与结束演练。演练后，能够对演练的资源进行释放，并查看最后的得分详情，包括个人积分、团队积分，攻击得分，防守失分，异常失分等。设计师能查看队伍的排名，并能查看自动生成演练报告。</p>
<h2 id="汽车安全众测模块"><a href="#汽车安全众测模块" class="headerlink" title="汽车安全众测模块"></a>汽车安全众测模块</h2><p>功能参数如下：</p>
<ol>
<li>支持设置众测名称、时长、内容，支持众测活动是否发布；</li>
<li>众测过程中，支持渗透成果的提交，成果包括特征码，证据文档等。裁判能够对众测人员提交的成果进行下载与审核，并给予评价；</li>
<li>支持对众测人员在动态测试接入网关上的操作进行监控与录屏；</li>
<li>众测模式可支持内部或外部，内部众测采用内网访问方式，外部众测可通过配置并发放VPN账号的方式接入访问，支持对VPN访问的通断控制；</li>
<li>支持设计师对众测的开始、停止的控制，在开始后，众测人员能够接入到众测环境中进行综合众测；</li>
<li>结合动态测试接入网关支持对被测对象的蓝牙、WiFi、CAN、USB调试接口进行渗透测试；</li>
<li>支持众测人员提交成果验证状态的实时查看，支持设计师对各队伍、各任务完成进度与状态的查看；</li>
<li>支持设计师在众测过程中随时接入众测环境，对动态测试接入网关进行管理，包含重启、重置等；</li>
<li>提供众测的手动提前开始，手动提前结束功能；支持众测过程中对场景进行暂停、恢复以及延期；</li>
<li>支持众测的归档功能，众测结束会自动生成全面统计的报告，提供报告下载功能；</li>
<li>支持与漏洞平台同步数据。</li>
</ol>
<p>性能参数如下：</p>
<ol>
<li>支持配置60人开展众测；</li>
<li>支持同一时刻每套动态测试接入网关接入人数3人。</li>
</ol>
<p>安全众测服务模块是围绕漏洞生态体系打造的集漏洞情报、漏洞挖掘、专家响应、安全服务定制化于一体的综合性安全服务平台，开创众测新时代时代，重塑众测新业态。模块通过打造“人员可信，全程可视，风险可控，行为可阻，违规可溯”的五可理念，以攻击者思维，在安全可控的场景下，由经验丰富的安全专家模拟黑客对业务系统进行全面深入的安全测试，为客户提供高价值的安全众测服务。</p>
<p>人员可信：模块实行非开放注册制，任何一名加入平台的安全研究人员均需提交个人信息，通过技术靶场检验，严格的背景调查及合同签署审核认证等机制，确保平台人员的身份可信、技能优越。</p>
<p>全程可视：众测系列服务全程接入监控产品进行可视化支撑，通过对流量数据的监测分析及数据间的关联关系判断，识别当前动作所处攻击环节，同时定位攻击发起时间、攻击利用位置、攻击源等信息，对测试动作进行还原描绘，按照攻击链理论将测试动作映射到攻击链模型上，形成完整攻击链的可视，使安全服务过程“实战化 ”呈现。</p>
<p>风险可控：众测创新技术突破，是拥有全过程全流量监测分析能力的众测服务平台，可以对http、https进行全流量分析，全过程无死角，攻击过程大屏可视化展示。根据客户要求设置项目加入限制，并结合法律法规以确保正确开展工作。</p>
<p>行为可阻：众测利用账户权限管理，对安全研究人员的临时项目测试账号进行严格管控，配合行为审计系统，一但发现测试过程中存在恶意、违规行为，将立即撤销测试账号权限，从而阻断测试通道防止产生后续损失，并永久取消其项目参与资格。</p>
<p>违规可溯：在测试过程中，众测通过技术手段对测试动作进行实时全流量捕获，形成审计日志，可进行溯源、实时反溯查处，平台所记录日志将遵循安全记录，永久保密的原则，且仅供客户及监管单位进行审计使用。</p>
<h4 id="漏洞评估"><a href="#漏洞评估" class="headerlink" title="漏洞评估"></a>漏洞评估</h4><p>针对企业对风险感知的需求，挑选相对应技术领域顶尖白帽精英，提供不设任何限制条件的网络安全攻击对抗服务。</p>
<h5 id="众测"><a href="#众测" class="headerlink" title="众测"></a>众测</h5><p>企业可随时根据业务计划或预算进行调整，根据实际情况众测模块为企业量身挑选15～50名最擅长该领域的精英白帽，定制专属的安全测试团队，提供漏洞挖掘服务。</p>
<h5 id="新测"><a href="#新测" class="headerlink" title="新测"></a>新测</h5><p>企业新业务上线前检测，全方位探知业务漏洞，防范新业务引入新风险，构建业务运营推广前的最后一道检验防线，从而提升开发人员安全意识，完善组织规范。</p>
<h5 id="专测"><a href="#专测" class="headerlink" title="专测"></a>专测</h5><p>认证的白帽专家深入行业/地域业务，根据客户需求，指定安全专家进行常态性、周期型的跟踪漏洞挖掘服务，在不增加用户风险的情况下，大幅度提升安全测试效果。</p>
<h5 id="常测"><a href="#常测" class="headerlink" title="常测"></a>常测</h5><p>安全专家结合自动化工具，常态化定期对目标进行漏洞检测，风险监测，漏洞预警，持续化关注安全风险态势。对发现的漏洞问题可不断的修正，直到处于风险可接受的范围内，极大降低了因安全缺陷导致的隐患与负面影响。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/64e5283ee7570f3d006d628236fe04ed.png" alt="IMG_256"></p>
<p>众测模块流程</p>
<h2 id="试验场景设置模块"><a href="#试验场景设置模块" class="headerlink" title="试验场景设置模块"></a>试验场景设置模块</h2><ul>
<li>目标网络设置采用拖拽式设计方式，能够对网络设备、主机设备、车端设备、测试工具等虚实目标网络环境进行统一配置；支持共享编辑、多层级网络编辑、批量节点快速复制、模板组合编辑等多种便捷编辑方式，并提供鹰眼、编组对齐、操作记录撤回、批量修改等多种便捷工具箱提高目标网络设计效率；支持通过镜像线的方式对汽车网络中需要旁路接收指定节点流量的设备进行设计和配置；</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/8a4e923b486dd76d487d16d131584e56.png"></p>
<p>网络拓扑编辑</p>
<p>该目标网络设置可利用拖拽方式进行，能够对网络设备、主机设备、车端设备、测试工具等虚实目标网络环境进行统一配置，完成组网。同时支持与协作伙伴进行共享编辑、多层级网络编辑、批量节点快速复制、模板组合编辑等多种便捷编辑方式。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/b1af5f81d31c880653229f0e4d7df9ff.png"></p>
<p>对齐和鹰眼功能</p>
<p>该模块具备鹰眼、编组对齐、操作记录撤回、批量修改等多种便捷工具箱，能极大提高目标网络设计效率。还能通过镜像线的方式对汽车网络中需要旁路接收指定节点流量的设备进行设计和配置。</p>
<ul>
<li>拓扑编组对齐工具提供设备的编组和解除编组能力，并提供分组颜色的配置，能够对多个设备进行上对齐、下对齐、左对齐、右对齐、水平居中对齐、垂直居中对齐、水平平均分布、垂直平均分布操作，提供产品功能截图证明；</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/ba4ce2da8bf89fa048523456b1961fc0.png"></p>
<p>分组</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/644085883411b125dc1eda2e6558f103.png" alt="企业微信截图_17035375184535"></p>
<p>自动对齐</p>
<ul>
<li>支持将整个场景拓扑或者区域子网络拓扑保存成模板，并且能够利用多个模板快速组合设计网络。支持将模板导出成json格式文件进行保存。场景模板的导入支持严格校验模板配置，也支持仅导入拓扑结构，提供产品功能截图证明；</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/f4c439c5dd3e8b333deb08d4662a99ae.png" alt="企业微信截图_17035379883155"></p>
<p>场景拓扑或者区域子网络拓扑保存成模板</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/5a9600e355f1888e76fd05213be8cef1.png" alt="企业微信截图_17035380017066"></p>
<p>利用多个模板快速组合设计网络</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/15611232d42a09f7af1a83fd99aedc42.png" alt="1703511598819"></p>
<p>json格式文件导出</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/82e2eca23ec3d96754f5e50e13b59821.png" alt="1703511631371"></p>
<p>模板导入</p>
<p>功能参数设计为，系统采用拖拽式设计方式对网络设备、主机设备、车端设备和测试工具等虚实目标网络环境进行统一配置。功能包括共享编辑、多层级网络编辑、批量节点快速复制和模板组合编辑，同时提供鹰眼、编组对齐、操作记录撤回和批量修改等工具箱提高设计效率。</p>
<p>系统通过镜像线方式对汽车网络中旁路接收指定节点流量的设备进行配置。目标网络环境的网络拓扑编辑支持树形展示，能快速定位节点，并在网络拓扑中突出显示查找节点。</p>
<p>系统在编辑界面支持利用虚拟机名称搜索并定位虚拟机，目标网络拓扑鹰眼展示支持拓扑放大缩小，鹰眼窗口随屏幕展示的拓扑位置移动。拓扑编辑还支持网络拓扑图的滚动式缩放和分层式节点聚合，提供快速查找定位节点能力，支持基于目录的子网络跳转和返回。拓扑编组对齐工具提供设备的编组和解除编组功能，支持分组颜色配置，多个设备的对齐和分布操作。</p>
<p>系统支持在拓扑编辑界面的虚拟设备多选，进行多个虚拟设备位置移动，展示虚拟机连线相关端口的两端IP地址。网络拓扑界面可查看节点、子网属性，包括部署情况、端口情况。操作记录撤回支持网络节点位置和配置记录，记录拓扑修改和节点配置修改，支持配置操作撤回，撤回步数不少于5步。</p>
<p>系统支持将整个场景拓扑或区域子网络拓扑保存成模板，支持多个模板快速组合设计网络，模板导出成json格式文件。场景模板导入支持严格校验模板配置或仅导入拓扑结构。模块支持设备复制功能，复制的设备自动配置连线、设备名称、IP等信息。</p>
<p>系统通过集群方式批量创建类似虚拟主机，支持批量创建的虚拟主机自动配置设备名称、IP等信息，单个集群支持批量创建数量1000个；支持批量对主机配置进行修改，修改信息包括虚拟机镜像、配额、IP等属性。</p>
<p>性能参数设计为，系统支持大规模拓扑设计，单一拓扑支持5000节点配置能力，网络嵌套层级为3层，单个网络场景内子网络数量为100个，隔离网络数量为1000个。系统支持同时配置的网络场景数量为200个。</p>
<h4 id="方案设计-1"><a href="#方案设计-1" class="headerlink" title="方案设计"></a>方案设计</h4><p>目标网络设置</p>
<p>本系统将采用拖拽式设计方式，能够对网络设备、主机设备、车端设备、测试工具等虚实目标网络环境进行统一配置。系统将支持共享编辑、多层级网络编辑、批量节点快速复制、模板组合编辑等多种便捷编辑方式，并提供鹰眼、编组对齐、操作记录撤回、批量修改等多种便捷工具箱提高目标网络设计效率。此外，系统支持通过镜像线的方式对汽车网络中需要旁路接收指定节点流量的设备进行设计和配置。</p>
<p>2. 网络拓扑编辑功能</p>
<p>目标网络环境的网络拓扑编辑将支持网络环境的树形展示，提供树形分支节点的快速查找定位节点的能力，能够对查找的节点在网络拓扑中的位置进行突出显示。系统还支持在编辑界面利用虚拟机名称搜索并定位搜索到的虚拟机；支持目标网络拓扑鹰眼展示，支持拓扑展示的放大缩小，鹰眼窗口能够随着屏幕展示的拓扑位置跟随移动。拓扑编辑支持网络拓扑图滚动式缩放及分层式节点聚合，支持网络环境的目录展示，提供快速查找定位节点的能力，以及基于目录进行子网络的跳转和返回。</p>
<p>3. 拓扑编组对齐与多选功能</p>
<p>拓扑编组对齐工具将提供设备的编组和解除编组能力，并提供分组颜色的配置，能够对多个设备进行上对齐、下对齐、左对齐、右对齐、水平居中对齐、垂直居中对齐、水平平均分布、垂直平均分布操作。此外，系统支持在拓扑编辑界面的虚拟设备多选，进行多个虚拟设备在编辑界面位置移动。</p>
<p>4. 拓扑编辑界面功能</p>
<p>在拓扑编辑界面上，系统的设计确保用户能够清楚地看到虚拟机之间的连线信息，包括但不限于相关端口的两端IP地址。这种展示方便了用户在构建或修改虚拟网络环境时，对网络的连接关系有直观的认知。</p>
<p>系统还提供了功能强大的网络拓扑查看工具，使得用户不仅能够在图形化界面上审视整体的网络结构，还能深入每个节点和子网，查看它们的详细属性。这些属性可能包括：</p>
<p>部署情况：用户可以查看每个节点的软件和服务配置，确认是否符合预定的部署方案。</p>
<p>端口情况：用户可以审视每个节点或子网的端口状态，包括端口编号、协议类型以及端口的开放或关闭状态。</p>
<p>这些功能使得网络管理员能够更加高效地管理和监控整个虚拟环境，确保网络配置的精确性，并及时地调整和解决网络中的各种问题。</p>
<p>5. 操作记录撤回与模板功能</p>
<p>操作记录撤回将支持网络节点位置记录和配置记录，支持记录拓扑修改和节点配置修改，支持配置操作撤回，支持撤回步数不少于5步。系统还支持将整个场景拓扑或者区域子网络拓扑保存成模板，并且能够利用多个模板快速组合设计网络。支持将模板导出成json格式文件进行保存。场景模板的导入支持严格校验模板配置，也支持仅导入拓扑结构。</p>
<p>6. 设备复制与集群批量创建功能</p>
<p>模块支持设备复制的功能实现已配置设备的快速配置，复制的设备支持自动配置连线、设备名称、IP等信息。系统支持通过集群的方式实现利用主机模型批量创建多个类似的虚拟主机，批量创建的虚拟主机支持自动配置设备名称、IP等信息，单个集群支持批量创建的虚拟主机数量不低于1000个；支持批量对主机的配置进行修改，修改的信息包括虚拟机镜像、配额、IP等属性。</p>
<p>7. 性能参数要求</p>
<p>系统支持大规模拓扑的设计，单一拓扑支持不低于5000节点配置能力，支持的网络嵌套层级不低于3层，单个网络场景内子网络数量不低于100个，隔离网络数量不低于1000个。同时，系统支持同时配置的网络场景数量不低于200个。</p>
<h4 id="试验步骤配置"><a href="#试验步骤配置" class="headerlink" title="试验步骤配置"></a>试验步骤配置</h4><p>系统支持10万级节点试验步骤配置能力，并能适应后续规模扩展要求。试验步骤配置主要支持试验任务的分解与分派，包括子任务与前置任务的管理；支持试验任务的调度管理与进度管理以及试验人员的操作行为后台录制的配置管理；支持试验人员的操作行为后台录制和录制管控；支持录屏视频的回放与删除。支持试验的开放并允许试验人员登录试验环境中的主机，支持停止并中断试验人员对试验环境中的主机的访问。支持对试验的开始、暂停、恢复、结束等指令的控制。设计人员可以在试验进行中的任意时刻启动暂停，对试验做出指导。</p>
<p>系统支持带外执行命令脚本任务配置。配置参数包括操作系统、指令、参数、设备以及描述等字段。并能根据配置执行相关命令。带外执行命令脚本任务支持将操作系统、指令等参数单独提供为配置模板，进行存储。其中模板支持多种权限进行管理（私有、共享）以及导入、导出 。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/b312f96a57bdee2fac1029789bcf42a8.png"></p>
<p>带外执行脚本</p>
<h5 id="文件写入任务"><a href="#文件写入任务" class="headerlink" title="文件写入任务"></a>文件写入任务</h5><p>系统支持文件写入任务配置。配置参数包括操作系统、写入路径、写入方式（追加、覆盖）、写入分类以及设备（名称、IP、系统）。文件写入任务支持将操作系统、写入路径、写入方式等参数单独提供为配置模板，进行存储。其中模板支持多种权限进行管理（私有、共享）以及导入、导出。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/960323d7ec2f78f152ebfa1e3992c2cd.png"></p>
<p>写入任务配置</p>
<h5 id="文件读取任务"><a href="#文件读取任务" class="headerlink" title="文件读取任务"></a>文件读取任务</h5><p>支持文件读取任务配置。配置参数包括操作系统、读取路径、读取周期、发送KAFKA配置（地址、TOPIC）、设备以及描述等字段。同时，支持将操作系统、读取路径等参数单独提供为配置模板，进行存储。其中模板支持多种权限进行管理（私有、共享）以及导入、导出。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/2b1964c3c089b79abcb198b3daa2a517.png"></p>
<p>文件读取任务</p>
<h5 id="拓扑绘制"><a href="#拓扑绘制" class="headerlink" title="拓扑绘制"></a>拓扑绘制</h5><p>随着B/S移动计算的普及，笔记本、平板和手机等家电的整合，各种设备都有专有的计算，其中包括Android、微软、苹果、Flash等，它们在发展的过程中都暴露出自己的缺点和瓶颈。对开发者而言，大多数情况中开发的应用只能适用于单一平台，必须投入巨大精力才能保证应用的兼容性。这种情况限制了开发者的创造力，也限制了用户们的选择。但是，HTML5的出现解决了上述问题。互联网巨头们最终达成一致，共同开发和发展HTML5新技术。系统需要实现拓扑图的绘制和编辑，HTML5可以解决系统的需求。HTML5有着良好的跨越浏览器支持的标准、具有本地存储、脱机运作、基于GPS的地理定位、绘图、视频和多媒体等优点，无论是传统B/S架构应用还是最新移动领域的应用，它都提供了丰富而全面的支持。</p>
<p>系统中网络拓扑图绘制中心面板是用HTML5 Canvas实现的，面板中实现了拓扑图的更新、设备的拖动(包括ROUTER、ApplicationServer、Switch和WinXP等)、连线绘制和删除。在提交实验和结束实验之后，还要更新各个设备的属性信息。如果不采用HTML5，想要在浏览器中实现绘制网络拓扑结构图，在实现上有三种方案可供选择。</p>
<p>方案1：VML技术，VML是微软的技术标准，它相当于IE浏览器里面的画笔，通过它可以绘制自己想要的图形，结合脚本它可让图形制作出动态效果。虽然它是基于XML标准并能够绘制高质量的矢量图形，但VML只能运行于基于内核的浏览器。</p>
<p>方案2：SVG技术，和方案l相反的是，SVG是W3C制定的浏览器矢量绘图标准，但是在IE中必须安装指定的插件才能支持SVG。</p>
<p>方案3：Flex开发技术，用Flex生成的Flash具有较强的图形效果，同样，它也是需要Flash的插件才能支持在浏览器中执行Flash格式。可见，HTML5能够克服以上缺点，它是一个标准，不需要安装指定插件就可以在浏览器中得到支持，并且能够满足系统的需求。</p>
<p>系统中实验主面板中的元素由Canvas绘制而成。首先在Layout页面上插入Canvas元素创建一个空白矩形区域，一般要在创建的时候设置它的width和height元素，然后就可以通过API对它进行操作。和&lt;div&gt;元素类似，它形成了一个白色空白区域，但是两者的用途不同。然后通过getContext方法(Canvas要调用的第一个方法)获取画布面板的上下文，之后所有的操作都是在此上下文上的操作。CNEP中用到了HTML5的拖放API，用户可以从左侧设备元素栏选择需要的网络设备并把它们拖放到右侧的实验主面板中，在Canvas中绘制此网络设备图形。最后通过在Canvas上面绘制直线来完成设备间的连线，同时还可以在画布面板上面拖动设备元素。</p>
<p>目标网络的拓扑绘制通过界面拖拽完成，可以对网络节点进行增、删、改等操作。实物网络节点的设计和配置统一采用四种尺度节点，并支持通过鼠标拖拽的方式动态组网。同时，可以通过鼠标拖曳的方式将非虚实互联的实物节点描述到目标网络设计中。</p>
<p>系统提供强大的功能，支持通过直观的拖拽操作，将网络拓扑内的节点灵活组网与配置。不论是虚拟网络设备、虚拟主机设备还是实物设备，都可以轻松进行操作和设置。主机的配置方面，系统提供了丰富的选项，包括基础信息、系统信息和网络信息，以满足各种需求。 拓扑工具提供设备编组和解除编组的功能，使得管理和调整设备位置变得更加便捷。系统提供了一系列对齐工具，能对设备进行多种对齐操作，包括上下左右对齐及水平垂直居中，还能够进行水平和垂直的均匀分布，以确保网络拓扑的整齐和美观。为了优化工作流程，将整个网络场景或特定子网络的拓扑结构保存为模板，这些模板可以互相组合，以便快速设计网络。模板可以导出为JSON格式，简化了数据的保存与分享过程。在导入模板时，系统会进行详尽的配置审核，以保证拓扑结构的准确性。根据需要，您还可以选择仅导入拓扑架构并根据实际需求进行自定义。系统还支持通过集群模式批量创建虚拟主机，允许您使用主机模型来实现快速部署，并且这些虚拟主机的配置，如设备名称、IP地址等，都可以自动设定并根据需要灵活调整。另外，系统也提供了批量修改主机配置的功能，方便地修改虚拟机镜像、配额、IP等属性，从而满足不同场景的需求。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/69c5ada81128bf3801a013905f38cc6c.png"></p>
<p>网络拓扑构建</p>
<h5 id="可视化编辑模块"><a href="#可视化编辑模块" class="headerlink" title="可视化编辑模块"></a>可视化编辑模块</h5><p>为了让管理员更好地通过拓扑图管理子系统进行集中管理，用户管理界面最好能够提供<a target="_blank" rel="noopener" href="http://baike.baidu.com/view/52024.htm">直观</a>的网络拓朴图，实时显示整个网络的安全状况，使管理员可以便捷地查看各安全产品组件的状态、日志以及信息处理结果，产生安全趋势分析报表。因此可视化管理技术的研究与应用尤为重要。可视化编辑子系统提供复杂虚拟网络定制的界面，支持基于可视化创建网络拓扑图、根据其他模块所创建和配置的网络元素、虚拟机模板、实例以及虚拟网络等元素，在界面上按照要求拖动需要的元素，然后连线构件各个元素之间的关系。</p>
<p>本项目的可视化编辑模块用的可视化编辑工具是JointJS。JointJS是一个跨浏览器的JavaScript工具包，用于创建完全互动式图表。它基于Raphaël.js开发。这个工具包拥有一套基于插件的可扩展机制，可以轻松扩展现有功能。支持多人并行编辑和配置。</p>
<p>JointJS是一个跨浏览器的JavaScript工具包，用于创建完全互动式图表。这个工具包拥有一套基于插件的可扩展机制，可以轻松扩展现有功能。当前已经提供了一些可以马上使用的插件来绘制常见的图形包括：ERD、Org chart、FSA、UML、PN、DEVS、LDM等。图形中的对象可以被拖动，并能够保持创建时的层次结构，此外还在每一层级提供了一些回调函数。网络拓扑编辑的操作如下图所示。网络拓扑支持图分层式节点聚合和滚动式缩放，在节点的数量上支持等于10000个节点的编辑。对编辑完成的拓扑图可支持导入导出的操作，支持网络拓扑图保存为一个可重复使用的模板。系统允许您通过鼠标拖拽或点击来选择设备、配置其属性和编辑设备间的连接关系，同时支持保存和加载这些配置。网络配置以模板的形式进行存储，并配备了一个针对标准网络目标或实验场景的配置模板库，用于简化和加速配置过程。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/ba728525bf95c17c3b222c9244d16fb2.png"></p>
<p>网络拓扑可视化编辑</p>
<p>JointJS应用在本项目的可视化编辑模块主要用到一下功能。</p>
<p>加载JointJS库</p>
<p><a target="_blank" rel="noopener" href="http://www.jointjs.com/download">官网</a>中下载joint.js和joint.css或其他已经定义好的图形库，并在页面中添加。</p>
<p>创建画板</p>
<p>首先，我们需要一张可以在上面作画的纸，JointJS中一个图像模型就是一个joint.dia.Graph 的模型实例，其他的子模型都必须包含其中,但单单定义图像模型还不够，只有将图像模型附加到joint.dia.Paper模型中，才能显示对应的图像，Graph就像是在我们脑子中的构思一样，我们需要将他画在纸Paper上。实现画板的代码如下：</p>
<p>var graph=new joint.dia.Graph;</p>
<p>var paper=new joint.dia.Paper({</p>
<p>el:$(“#demo”), //指明了当前图像需要显示在页面的什么地方</p>
<p>width:800,</p>
<p>height:600,</p>
<p>gridSize:10,</p>
<p>perpendicularLinks:true,</p>
<p>model:graph</p>
<p>});</p>
<p>添加连线</p>
<p>JointJS通过joint.dia.Link添加一个连线；每个实例对象都是graph模型的cell，必须通过graph.addCell()添加到模型中以便显示出来。除了初始化外，我们也可以通过 element.attr()方法去为特定的对象添加样式，element.attr()的方法接受一个对象类型的参数，对象的Key是匹配SVG DOM元素的CSS选择器。实现连线的代码如下：</p>
<p>var link=new joint.dia.Link({</p>
<p>attrs: {</p>
<p>‘.connection’: { stroke: ‘#000000’ },</p>
<p>‘.marker-target’: { d: ‘M 10 0 L 0 5 L 10 10 z’ }</p>
<p>},</p>
<p>source: { x:325,y:150},</p>
<p>target: {x:400,y:125}, vertices:[{x:100,y:150},{x:100,y:450},{x:700,y:450},{x:700,y:150},{x:600,y:150},{x:600,y:50},{x:400,y:50}]</p>
<p>});</p>
<p>添加元素</p>
<p>我们可以利用JointJS已经定义的元素实现网络拓扑图中比较简单的元素，例如主机等。</p>
<p>添加自定义元素</p>
<p>很多时候，现有的元素(joint.shapes.basic.Rect、 joint.shapes.basic.Circle、……)并不能满足我们的需求，我们也可以自定义一些元素，自定义的元素其实是通过多个 SVG节点联合构建而成的，现在就让我们先定义一个路由器元素，网络拓扑图中的路由器为一个圆形及两条相交的线段构成的图形。实现路由器元素的js代码如下：</p>
<p>var k=12.5*Math.pow(2,0.5);</p>
<p>joint.shapes.basic.Bulb = joint.shapes.basic.Generic.extend({</p>
<p>markup: ‘’,</p>
<p>defaults: joint.util.deepSupplement({</p>
<p>type: ‘basic.Bulb’,</p>
<p>size: { width: 50, height: 50 },</p>
<p>attrs: {</p>
<p>circle: { cx: 25, cy: 25,r:25, fill: ‘white’, stroke: ‘black’},</p>
<p>‘.bulb_line1’:{</p>
<p>stroke: ‘black’,x1:25-k,y1:25-k,x2:25+k,y2:25+k</p>
<p>},</p>
<p>‘.bulb_line2’:{</p>
<p>stroke: ‘black’ ,x1:25-k,y1:25+k,x2:25+k,y2:25-k</p>
<p>}</p>
<p>}</p>
<p>}, joint.shapes.basic.Generic.prototype.defaults)</p>
<p>});</p>
<p>目标网络环境的网络拓扑编辑提供了诸多功能：树形展示使得快速查找和定位节点变得简单，同时支持通过虚拟机名称搜索定位；鹰眼展示功能可以放大缩小拓扑图并保持位置同步移动；滚动式缩放与分层式节点聚合提升了拓扑编辑的灵活性和可视化效果；目录展示和快速查找节点功能有助于有效管理复杂网络；设备复制功能支持快速复制和配置设备；多选与移动功能使得批量操作更加高效；展示虚拟机连线的IP地址增强了连接的可视化；分组和解组功能以及节点和子网属性的查看提供了更详细的信息；拓扑编辑界面记录节点和配置的修改，并支持配置操作撤销；旁路设备的配置实现了指定端口流量的便捷管理。</p>
<h2 id="试验导调模块"><a href="#试验导调模块" class="headerlink" title="试验导调模块"></a>试验导调模块</h2><ul>
<li>支持试验流程中的步骤详细定义，支持在步骤中定义具体需要执行的导调任务；至少包含以下15种流程的创建：攻防演练流程、众测流程、安全目标导入流程、零部件测试流程、整车测试流程、HIL测试流程、VIL测试流程、MCU靶标开发流程、MPU靶标开发流程、E/E架构通信网络靶标开发流程、车联网安全场景靶标开发流程、应急响应流程、漏洞验证流程、周期性测试流程、运维管理流程；并显示这些流程与汽车研发流程的关联关系；</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/0a3f56d0798b1b08379204f02ae037e7.png"></p>
<p>实验流程步骤定义</p>
<p>为了适应汽车行业试验流程中的高标准要求，本系统提供支持详细定义各试验步骤的功能。在各个步骤中，用户可以明确规定所需执行的导调任务，包括具体的操作、参数配置、数据记录和结果验证等。</p>
<p>系统至少支持以下15种流程的创建：</p>
<ul>
<li>攻防演练流程：此流程涉及模拟攻击与防御场景，评估车载网络系统的安全性能。</li>
<li>众测流程：利用大量的外部测试者来进行软件或硬件的测试，以识别潜在的缺陷和弱点。</li>
<li>安全目标导入流程：确立测试的安全标准与目标，并将其导入测试平台中。</li>
<li>零部件测试流程：对单个汽车零部件进行性能与安全测试。</li>
<li>整车测试流程：对整辆车进行全面的测试，包括安全功能和车辆性能。</li>
<li>中执行系统测试。</li>
<li>路与交通环境中进行测试。</li>
<li>MCU靶标开发流程：针对微控制器（MCU）的安全靶标开发，以测试其弱点和抵抗能力。</li>
<li>MPU靶标开发流程：开发微处理器（MPU）相关的安全靶标。</li>
<li>E/E架构通信网络靶标开发流程：创建电子/电器架构中的通信网络安全测试靶标。</li>
<li>车联网安全场景靶标开发流程：为车联网环境中潜在的安全威胁开发测试场景。</li>
<li>应急响应流程：在发现安全事件时执行的快速响应操作。</li>
<li>漏洞验证流程：确认和验证报告中的潜在安全漏洞。</li>
<li>周期性测试流程：规划并执行定期测试程序，保障系统长期安全性能。</li>
<li>运维管理流程：涉及日常运行维护活动，包括更新、修补和状态监控。</li>
<li>系统还能够展示这些流程与汽车研发流程间的关联关系。通过直观的图表和线路图，研发人员可以清晰看到各个流程如何插入到汽车研发的各个阶段，确保安全测试与整体的研发工作同步进行，提高研发效率，降低风险。</li>
</ul>
<p>这种详尽的流程定义和管理功能，不仅可以确保试验流程的准确性和有效性，还可以通过整合与相关的研发活动，为汽车生产过程的每一环节提供支持。这样的系统配备已成为汽车行业迈向更先进、更安全产品的关键技术支持。</p>
<ul>
<li>支持导调流程顺序、执行状态展示，还包含显示步骤类型、开始结束方式、创建人、创建时间等信息，提供产品功能截图证明。</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/37597d90f4c4a6b32f1eeec8a2dfb268.png"></p>
<p>功能参数设计为，系统支持试验流程中步骤的详细定义，包括在步骤中定义具体需要执行的导调任务。系统能创建15种流程，如攻防演练、众测、安全目标导入等，并显示这些流程与汽车研发流程的关联。试验过程流程的设计可以将整个试验拆解为一系列有序步骤，并构建试验中依赖的前提条件。系统还控制试验过程流程及进度，确保训练过程按顺序运行。</p>
<p>系统支持设定任务执行方式，可为人工或自动执行，并允许在流程中进行导调任务的顺序编排。导调步骤中可加入临机任务，并对其进行单独启动和停止控制。支持向临机任务下发控制指令，每个试验场景支持下发10条临机任务。导调任务还支持控制自动化相关行为，通过自动化命令执行任务产生攻击事件，用于攻防技能训练。</p>
<p>系统在导调过程中可加入临机任务进行灵活导调，支持对任务执行的启动、停止操作。导调流程顺序、执行状态的展示功能包括步骤类型、开始结束方式、创建人、创建时间等信息展示。虚拟节点通过非网络接口写入配置文件或命令脚本，实时读取内部日志或文件，并控制执行命令或脚本。</p>
<p>导调控制引擎支持对导调任务的启停控制，导调数据通道任务能建立指定虚拟网络到外部管理网络的数据交互通道，支持多种协议。系统允许在导调任务中配置试验人员操作的虚拟或实物设备，并根据试验情况开启录屏。</p>
<p>性能参数设计为，系统在一个导调流程中支持10个步骤，每个步骤可执行10个任务。系统能够同时配置和调度100个任务，确保高效率和灵活性的试验和导调过程。</p>
<h4 id="方案设计-2"><a href="#方案设计-2" class="headerlink" title="方案设计"></a>方案设计</h4><p>1. 试验流程定义与管理</p>
<p>本系统支持试验流程中的步骤详细定义，允许用户在步骤中定义具体需要执行的导调任务。系统包含以下15种流程的创建功能：</p>
<ol>
<li>攻防演练流程</li>
<li>众测流程</li>
<li>安全目标导入流程</li>
<li>零部件测试流程</li>
<li>整车测试流程</li>
<li>HIL测试流程</li>
<li>VIL测试流程</li>
<li>MCU靶标开发流程</li>
<li>MPU靶标开发流程</li>
<li>E/E架构通信网络靶标开发流程</li>
<li>车联网安全场景靶标开发流程</li>
<li>应急响应流程</li>
<li>漏洞验证流程</li>
<li>周期性测试流程</li>
<li>运维管理流程</li>
</ol>
<p>并且系统能够显示这些流程与汽车研发流程的关联关系。</p>
<p>2. 试验过程流程设计与管理</p>
<p>系统支持试验过程流程的设计，能够将试验的整个过程拆解成一系列有序的步骤进行管理，并能够将试验过程中依赖的前提条件通过流程中设计的骤进行构建。</p>
<p>3. 试验过程流程及进度控制</p>
<p>系统支持试验过程流程及进度的控制，并能够控制训练过程按照编排的顺序有序的运行。</p>
<p>4. 任务执行方式设定</p>
<p>系统支持设定任务的执行方式，能够设定为人工或者自动执行。</p>
<p>5. 导调任务执行顺序编排</p>
<p>系统支持流程中导调任务的上移、下移等执行顺序的编排操作。</p>
<p>6. 临机任务管理</p>
<p>系统设计中集成了灵活的任务调度和控制功能，以便在导调（演练和练习的指挥与控制）过程中，即时添加和管理临机任务。这项功能针对的是在预配置的试验或操作场景中突然出现需要立即响应的任务，确保即使在复杂的操作中也能保持高度的适应性和响应速度。</p>
<p>特别是，系统提供了对临机任务的单独启动和停止控制。这意味着这些任务可以独立于主流程进行管理，允许用户在不影响整体流程的前提下，启动或暂停特定的任务。</p>
<p>每个试验场景都支持最多10条临机任务的下发。系统通过一个直观的用户界面或控制台，允许用户指定、排队和下发这些任务，提供了实时的灵活性。对于管理这些临机任务，系统支持的控制指令包括，但不限于：</p>
<p>- 启动：让选定的临机任务开始执行。</p>
<p>- 停止：暂停或完全终止临机任务的执行。</p>
<p>- 恢复：在任务被暂停后恢复执行。</p>
<p>- 下一步：将任务流程推进到下一阶段或步骤。</p>
<p>7. 自动化导调任务</p>
<p>导调任务支持控制自动化相关行为，能够通过定义自动化命令执行任务产生相关攻击事件，用于攻防技能训练。</p>
<p>8. 导调流程管理</p>
<p>系统支持导调流程顺序、执行状态展示，还包含显示步骤类型、开始结束方式、创建人、创建时间等信息，并提供产品功能截图证明。</p>
<p>9. 虚拟节点非网络接口操作</p>
<p>虚拟节点能够通过非网络接口将配置文件或命令脚本写入虚拟节点指定位置；能够通过非网络接口实时读取虚拟节点内部日志或文件；能夜通过非网络接口控制虚拟节点执行命令或脚本，并能获取执行结果。</p>
<p>10. 导调控制引擎</p>
<p>支持导调控制引擎对导调任务的启停控制。</p>
<p>11. 导调数据通道任务</p>
<p>导调数据通道任务能够建立指定虚拟网络到外部管理网络的数据交互通道，便于试验行为或者结果的获取。数据通道支持TCP、UDP、ICMP等3种以上协议。</p>
<p>12. 试验设备操作配置</p>
<p>支持在导调任务中对试验人员能够操作的虚拟或实物设备进行配置，并支持根据具体试验情况是否开启录屏。</p>
<p>性能设计</p>
<p>1个导调流程中支持10个步骤，每个步骤支持10个任务的执行能力；</p>
<p>支持同时配置和调度100个任务。</p>
<h4 id="方案简介"><a href="#方案简介" class="headerlink" title="方案简介"></a>方案简介</h4><p>安全测试包括以下三个阶段：a)试验准备阶段：主要完成试验想定以及环境部署等； b)试验运行阶段：主要是对试验状况的监控以及对试验的控制；c)试验完成阶段：主要完成资源的释放以及对试验数据的归档。</p>
<p>试验导调模块提供试验创建、试验查看、试验想定、试验下发、试验部署进度监控、试验过程控制和监视、试验归档等功能的资源调度，总体要求如下： a) 提供面向多靶场协同工作的试验演练的统一管理，提供多靶场协同的试验演练并发调度；b) 提供靶场能力、靶标及场景资源、攻防工具资源等的统一描述；c) 提供面向多靶场协同的各类资源注册和管理； d) 提供面向多靶场的任务全生命周期的实时监控能力； e) 支持多靶场协同的想定方案快速生成、校验和资源预约； f) 支持多靶场协同试验的统一控制：支持分布式统一资源管理和试验控制，支持对分靶场的资源进行统一管理，支持接收来</p>
<p>试验导调模块负责用户对任务的资源和人力的分配，支持试验人员的加入及试验环境的授权访问，支持试验人员退出及取消实验环境的访问权限；支持试验人员的试验信息的访问控制和试验环境的访问控制；每个试验的参试用户在200个以上。</p>
<p>虚拟节点支持通过非网络接口进行操作，包括将配置文件或命令脚本直接写入到指定位置，实时读取节点内的日志或文件。还可以通过同一接口执行控制指令或脚本，运行命令，并实时获取这些操作的执行结果。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/07b67a317a0ed98d753270274958c912.jpeg" alt="WPS图片3"></p>
<p>试验文件管理</p>
<p>客户端登录后控制中心获取其认证信息，认证通过后下发当前客户端用户的授权信息（角色）及链路使用规则，然后根据用户提交的角色需求控制中心动态规划出符合用户需求的链路发往客户端。客户端根据该链路创建链路并进行匿名会话，若创建失败，客户端会标记出现异常的节点，上报至控制中心。试验的开放并允许试验人员登录试验环境中的主机，支持暂停与停止并中断试验人员对试验环境中的主机的访问。</p>
<p>虚拟网络导调子系统支持基于容器化部署，可通过Web页面查看系统信息，包括监控系统集群节点负载情况，节点状态以及节点资源使用率统计，监控平台容器Pod的虚拟节点具备通过非网络接口与虚拟节点进行交互的能力。包括利用非网络接口将配置文件或命令脚本写入虚拟节点的特定目录中，这样做便于对虚拟节点进行灵活的配置和管理。另外，虚拟节点还可以通过非网络接口实时读取节点内部的日志或文件，实现对节点运行状态的实时监测与数据收集；实现通过非网络接口控制虚拟节点或脚本、执行命令，并获取执行结果，并能获取执行结果（提供系统功能截图）；状态、运行时间、重启次数、CPU使用核数，内存使用情况等信息如下图所示。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/3b8c64f1d0a5ca57a3c41578f9a29d17.png"></p>
<p>虚拟节点导调管理</p>
<p>支持试验流程的详细定义和管理。用户可以定义试验步骤，并在每个步骤中定义具体的导调任务，以实现对试验过程的精细化控制和管理。试验流程可以将整个试验过程拆解为有序的步骤进行管理，通过设计的步骤可以构建试验过程中的前提条件和依赖关系。系统支持对试验流程和进度进行控制，确保训练过程按照预定顺序有序运行。用户可以设定任务的执行方式，可以选择人工或自动执行。导调任务可以在流程中进行灵活编排，支持上移、下移等操作。临机任务可以单独启动和停止，并在界面上进行可视化展示和高亮显示。用户可以向临机任务下发控制指令，如启动、停止、恢复、下一步等。导调任务在系统中提供自动化控制功能，允许用户通过设置自动化命令来执行特定的任务，包括模拟攻击事件，以便开展攻防技能的培训。系统设有导调数据通道，能够建立虚拟网络与外部管理网络之间的数据交换通道，这对于捕获实验行为和成果至关重要，并且支持包括TCP、UDP、ICMP在内的多种协议。系统还提供了一系列配置选项，包括数据采集、实验设备设置和录屏功能，以适应不同的实验场景。导调任务的整个流程、顺序以及执行状态都有直观的展示，显示了任务步骤、启动结束方式、创建者和时间等详细信息。导调控制引擎则负责任务的启动和终止。系统以其强大和灵活的功能，支撑详细的试验流程定义和控制，使用户能够有效进行攻防训练和模拟演习。</p>
<h2 id="网络安全攻防与汽车测评教学培训模块"><a href="#网络安全攻防与汽车测评教学培训模块" class="headerlink" title="网络安全攻防与汽车测评教学培训模块"></a>网络安全攻防与汽车测评教学培训模块</h2><ul>
<li>支持集中授课培训模式，支持教员讲课、学员实操、以及讲课与实操混合三种方式的教学，提供产品功能截图证明；</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/ce55362ab958f1eaf6bbc7dde90ed4f8.png"></p>
<p>教员讲课及讲课与实操</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/0661323118c6079b9aeb22b5886f9461.png" alt="1703512451886">学员实操界面</p>
<ul>
<li>混合模式支持讲课模式与实操模式的动态切换，学员可观摩教员的教学虚拟机界面，切换后学员可登录自己的环境进行操作，提供产品功能截图证明；</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/ac7d34ff37c619fdf0835ad839328c97.png"></p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/e66c0b57d88aba0a5a09d005fb58a955.png"></p>
<p>功能参数设计为，系统支持实验自定义及课程的标签分类，允许按章节编排实验。实现集中授课培训模式，包括教员讲课、学员实操和讲课与实操混合三种教学方式。系统具备学员管理功能，教员可以组建教学组，排定教学计划。实验环境可按计划自动部署，教员也可手动批量部署和管理实操环境。教员讲课模式中，教员可分享操作屏幕给学员观摩。实操模式下，教员能实时查看学员登录实验环境和操作过程。混合模式支持讲课模式与实操模式的动态切换，学员可观摩教员教学虚拟机界面和登录自己的环境进行操作。</p>
<p>系统支持设置教学实操环境的保留时长，动态控制环境资源保留时间。学员可上传课后实验报告，教员负责统一审核与评级。培训过程中支持教员和学员的私聊和群聊。技能树功能允许教员配置技能树，指定给学员进行学习。实验可设为“自学实验”和“教学实验”。学员可根据提供的视频实验、课件实验、实操实验等内容进行自学，配套测试题。实操实验提供虚拟环境、指导书和讲解视频等内容。根据岗位、专业方向配置技能树，提供自学路线，显示学习进度。支持学员按技能树设定路线进行学习。</p>
<p>视频笔记功能允许学员保存视频播放位置的截图，并添加文字说明。视频笔记支持统一查看，自动播放锚定位置。学员可管理实操实验的虚拟环境，包括手动销毁与自动销毁实验环境，推迟销毁环境。支持学员对课程实验进行星级评定。提供考试题库管理，包括客观题和实操题，客观题类型包括单选、多选、判断、填空。试卷中题目支持实操题和多个Flag的题目。有实操题目的试卷，学员可访问实操环境或下载附件进行解题。提供试卷管理功能，基于题库快速生成试卷，自定义生成试卷并设置分数。教员可设计试题，进行题目编辑、答案编辑，将试题库按门类、难度划分。支持教员进行集中考试，设定考试计划，自动开始。提供不同试卷内容的考试，支持同一考试题目分类相同但实际题目不同的考试。有实操环境的试卷，学员可解题。考试提供自动阅卷功能，支持查看答题详情，教员统一发布成绩，学员可查看考试得分细节和试题正确答案及解析。考试报告自动生成，包含学员平均成绩、题型、方向、难易程度、答题趋势等内容。支持学员根据试卷库自测，结果自动验证评分，提供题目解析。教师可针对考试详情进行点评，点评内容体现在考试报告中。学员可选择参与的考试生成整体报告，报告统计考试试卷构成和答题情况。支持实操实验全内容的设计与管理，包括实操环境、靶标机、指导书、课件、视频、试题等内容。指导书支持在线编辑，图片在线导入和拷贝、样式编排，添加试题等内容配置。</p>
<p>性能参数设计为，系统支持基于实验模板、基础模板、实验、镜像等4种方式自定义实操实验。支持实验指导书文档的导入，格式包括doc、pdf、md等。支持3种培训课件类型，包括doc、pdf、ppt等，支持课件内容在线预览。培训并发用户数支持达到200人。网络安全培训课件总量为1000个，内置700个，验收后三年内更新300个。知识理论考核题目总量为10000道，内置5000道，验收后三年内更新500道。</p>
<h4 id="方案设计-3"><a href="#方案设计-3" class="headerlink" title="方案设计"></a>方案设计</h4><p>1. 实验自定义与课程管理</p>
<p>支持实验以及课程的标签分类。</p>
<p>课程可按章节编排实验，提供实验模板管理。</p>
<p>支持课程和实验的自定义，包括实验环境、指导书、视频等。</p>
<p>2. 教学模式支持</p>
<p>支持集中授课培训模式：教员讲课、学员实操、讲课与实操混合三种方式。</p>
<p>教员讲课模式下，支持屏幕共享功能。</p>
<p>实操模式下，教员能实时查看学员操作。</p>
<p>混合模式下，支持讲课与实操的动态切换。</p>
<p>3. 学员与教学组管理</p>
<p>教员可创建、管理教学组。</p>
<p>支持教学计划的排定与管理。</p>
<p>实验环境可按计划自动部署或由教员手动批量管理。</p>
<p>4. 实操环境管理</p>
<p>支持实验环境的保留时长设置。</p>
<p>学员可上传实验报告，教员进行审核与评级。</p>
<p>支持学员对实操环境的手动销毁与自动销毁，以及销毁延期。</p>
<p>5. 交流与评价</p>
<p>支持教员与学员间的私聊和群聊。</p>
<p>学员可对课程实验进行星级评定。</p>
<p>6. 技能树与自学支持</p>
<p>支持技能树功能，教员可配置并指定给学员。</p>
<p>支持学员按技能树设定的路线自学。</p>
<p>提供自学实验内容，包括视频、课件、实操等。</p>
<p>7. 考试与测试管理</p>
<p>提供题库管理，包括客观题与实操题。</p>
<p>支持试卷的快速生成与自定义。</p>
<p>支持考试计划设定与集中考试。</p>
<p>提供试卷自动阅卷与成绩发布。</p>
<p>支持学员自测，自动验证评分与解析。</p>
<p>8. 教学内容与资源管理</p>
<p>支持实操实验全内容的设计与管理。</p>
<p>支持指导书的在线编辑与样式编排。</p>
<p>支持实验指导书、课件类型的导入与在线预览。</p>
<p>性能参数要求</p>
<p>支持自定义实操实验的多种方式（实验模板、基础模板等）。</p>
<p>支持实验指导书的多格式导入（doc、pdf、md等）。</p>
<p>支持培训课件类型的多样性（doc、pdf、ppt等），并支持在线预览。</p>
<p>平台支持200人的并发用户数。</p>
<p>网络安全培训课件总数达1000个，700个内置，三年内更新300个。</p>
<p>知识理论考核题目10000道，5000道内置，三年内更新500道。</p>
<p>本方案聚焦于提供一个全面的教学与实验管理平台，旨在满足多样化的教学需求，并提供高效、互动的学习环境。平台设计考虑了教学内容的多样性、学员管理的便捷性、实操环境的灵活性以及考试与评价的全面性。性能参数确保平台能够支持大规模的用户并发访问，以及丰富的教学资源和题库管理。</p>
<h4 id="方案简介-1"><a href="#方案简介-1" class="headerlink" title="方案简介"></a>方案简介</h4><p>培训模块主要提供网络安全实验的培训实操环境，全面支持自学、教师教学、实操教学和考试三种模式。用户可以登录到实验环境中进行操作，通过自学的方式进行训练。支持教员邀请和添加学员账号，成立班级，统一管理，发送通告。</p>
<p>系统以课程、实验以及考试的方式向用户提供培训服务，其中课程包含有多个实验，学员可以根据实验提供的视频、指导书等资源在实操环境下进行学习。考试则包含多个客观题目以及多个实操环境题目，学员在规定时间内进行答题。</p>
<p>教学培训主要有自主训练、训练教学两种实训的业务形式，自主训练方式是学员根据教学培训分系统提供大量的实训课程及实验，并结合自身的知识结构及兴趣爱好，选择系统中提供的内容进行自学，从而达到对自身网安技能进行强化或补漏的目的。自主训练模式下用户能够对自学实训的环境进行部署、销毁的管理，并实操环境也能根据系统设置的时间限制自动进行资源的释放。训练教学方式是教员按照教学要求利用教学培训分系统进行实验排课和考试，测试学员的各种基础能力、前期的学习成功等。</p>
<p>教学培训分系统还提供实训内容的设计功能，具备课程信息管理、实验指导书管理、实验环境管理、支撑按需定制内容的实操训练和考试等功能。</p>
<p>按照业务流程，教学培训分系统架构如下图所示，可以分为两个层面：业务层和支撑层。</p>
<p>业务层有三个主要功能，一是自学模块、二是教学模式、三是技能考试。自学练习提供了学员员自己按照自身需求进行学习的能力，融合了实验自学和视频自学，学员员可以按照特定关键词、特定网络安全分类进行实验的选择，启动特定实验、接入特定实验进行练习；排课授课提供了教官对参训人员的统一授课能力，设计师进行课程设计、规划排课日程、定制环境计划并且在授课期间进行模式切换；知识考试提供了试卷制定、考试排期、考分统计和生成报告的功能。</p>
<p>教学培训分系统由4个模块组成，自学模块、教学模式、技能考试模块和实验环境管理。自学模块主要面向有自主学习培训需求的学员提供自助式学习支撑，学员可以检索、查看、选择培训课程，选择后即可对需要实验环境的实验进行环境部署，在实验环境快速构建完毕之后开始在系统提供的实操环境中进行学习实操，无需培训教师的集中管理。</p>
<p>在学员员培训实践过程中，可以阅读实验指导书，观看实验视频，对有实操环境的实验，学员可以通过SSH、RDP、VNC等协议的Web方式访问虚拟机。通过Web接口，用户能够远程连接到虚拟机，执行复制粘贴操作，上传文件，以修复安全漏洞。培训实操环节中，无需培训老师干预，学员员可以自行创建实验环境，获得访问实验环境的访问入口。登录实验环境后能够在该用户权限内进行各种实验操作。实验完成之后，学员可以手动将实验环境进行销毁，并且实验环境可根据预设的预计实验时长自动销毁，防止资源长期占用。自主训练模块允许学员根据个人需求定制训练计划，从课程内容、安全领域到难度级别等多个方面挑选最适合自己的课程。</p>
<p>排课考试模块负责提供教员员对学员员的教学进行排课授课及课程设计与管理能力。学员员所在在的班级和学科各不相同，编排起来工作量大，且费时费力，排课时若没有严格和周密的计划，所排出课表极容易引起冲突，甚至于严重影响到正常教学活动的进行。这就需要有一个较为实用的排课系统使排课工作更加的高效化、人性化。本排课考试模块教师通过自动分配环境、自动开放实验、自动停止实验以及销毁环境，从而达到充分利用教学资源的目的。教学模式为授课人员提供便捷的课程管理的功能，授课人员可以进行课程的设计、课程的排期、课程环境的自动管理，以及授课过程中的模式切换等操作。</p>
<p>系统提供了一个多功能的培训支持平台，具体功能包括以下几个方面：</p>
<p>1）课程设计：设计人员有能力通过该系统来构建课程，这意味着他们可以将多个相关联的实验链接起来，以形成一个结构化的课程。这种设计增添了课程的系统性，使得学习过程呈现出自然的递进关系，有助于受训人员对知识的逐级掌握，深化对网络安全知识的理解。</p>
<p>2）课程排期：通过一个日历视图界面，授课人员能够灵活地安排课程。可以为特定的日期和时间段安排课堂，确保教学活动按预定计划进行。课程排定后，受训人员能够在系统中查看自己的上课时间表，从而方他们规划学习计划。</p>
<p>3）环境管理：一旦课程排定，系统将自动调度所需的环境资源。包括创建、接入和销毁实验环境的任务将被安排进入任务队列，并在预定时间自动触发执行。这保证了学习环境在需要时得到有效的分配和整备。</p>
<p>4）模式切换：在授课过程中，系统允许授课人员在讲授和实操模式之间自由切换。在讲授模式下，所有受训人员共同观看授课人员展示的屏幕，而在实操模式下，每位受训人员可进入自己的专属环境中进行操作。此外，授课人员能够实时监控每位受训人员的操作情况，这可以提高学习效率并及时给予反馈。</p>
<p>系统旨在提供一个完善的网络安全教育和训练平台，确保受训人员能够在结构化、互动化的环境中获得最佳的学习体验。</p>
<p>技能考试模块为授课人员提供了理论题考核的能力。授课人员可以首先定制试卷，之后进行考试排期，并在考试中实时查看进度，并最后查看考试的整体报告。</p>
<p>1）试卷制定：系统提供授课人员创建试卷的能力，可以制定试卷名称、难度、描述，并手动或者自动选择题目。题目包含单选、多选和判断三种类型。</p>
<p>2）考试计划：授课人员创建一个考试，填入名称、配置人员、配置时间、选择试卷后，考试即可等待进行。考试进行中，学员答题界面进行答题。</p>
<h4 id="自学模块"><a href="#自学模块" class="headerlink" title="自学模块"></a>自学模块</h4><p>靶场环境提供一个多功能的学习平台，旨在适应教学和自学需求。对于教师而言，它支持在线授课，使他们能够上传和分享视频讲解和课件。而学生则可以通过观看视频、阅读课件来自行学习，并可直接进入系统进行实际操作练习。该平台支持主流的视频和文本文件格式，确保与工商银行现有的课程资源兼容，便于整合现有教育内容，并为学习者提供一个无缝的学习体验。</p>
<h5 id="自学练习流程"><a href="#自学练习流程" class="headerlink" title="自学练习流程"></a>自学练习流程</h5><p>自学练习流程包含教员部分和学员部分。</p>
<p>在实验创建的过程可以设置试验方向、试验类型、试验难度、时长，选用合适的视频、工程模板和指导书。课程创建可设置课程方向、课时、选择实验，设置课程难度。</p>
<p>学员可在自学练习功能观摩视频、自学实验、自学试验，并且支持按照难度、类型、方向筛选，支持根据学习进度筛选课程。</p>
<p>自学模块由实验检索展示模块、实验进行模块、实验记录分析模块和实验统计模块组成。</p>
<h5 id="实验检索展示"><a href="#实验检索展示" class="headerlink" title="实验检索展示"></a>实验检索展示</h5><p>实验检索展示模块用于展示自主训练模块中所有的训练实验环境并提供多种搜索方式，便于学员浏览和查询自己所需的学习内容。学员员可以按照实验分类进行实验选择，也可通过关键词进行搜索，或者按照实验的方向进行体系化的学习。</p>
<p>学员能够基于系统提供的课件进行自主学习，提供实验按类型、关键字进行查找并订阅，能够自主分配实操环境。如下图所示：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/5367b7bcf53b82b5c3b189df95a35274.png"></p>
<p>我的上课</p>
<h5 id="实验操作进行"><a href="#实验操作进行" class="headerlink" title="实验操作进行"></a>实验操作进行</h5><p>实验操作进行模块为学员提供实验实操和学习的核心支撑。主要包含了实验视频、实验指导书展示、虚拟环境创建、虚拟机接入、虚拟机销毁等功能。学员能够根据实验提供的视频进行学习，支持学员针对学习的实验随堂答题，并查看试题答案与解析。</p>
<p>1）学员能够对系统内自主学习的视频查看，支持用户按视频类型、难易程度，名称等进行视频的检索。</p>
<p>支持视频观看学习功能并可全屏播放观看视频，能够对选中的视频进行播放，并记录播放历史。对观看完的视频会标记为已学习。没完成的标记为学习中。用户也能对视频的喜好程度进行点赞。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/c13c82bc2cd3037454e4c80d0dd3e421.png"></p>
<p>视频播放</p>
<h5 id="实验记录分析"><a href="#实验记录分析" class="headerlink" title="实验记录分析"></a>实验记录分析</h5><p>实验记录分析模块根据学员员的学习数据进行多维度的分析和挖掘，提供多种分析展示方式和生成学习评估报告，并能根据学员员的学习数据进行实验推荐、学习路径推荐、岗位规划推荐等，实验记录分析模块可按照多种分类生成学员员的各种学习曲线，以及其他表现形式，使得学员员可以对自身的学习历程和能力有直观准确的认识。支持用户自主学习路径的查看，系统能够对学员的学习历史记录进行分析统计。</p>
<h4 id="教学模式"><a href="#教学模式" class="headerlink" title="教学模式"></a>教学模式</h4><h5 id="排课授课流程"><a href="#排课授课流程" class="headerlink" title="排课授课流程"></a>排课授课流程</h5><p>设置教学班支持设置实验组、上课时间、课节、排课/实操模式。上课过程可查看学生在线状态、环境部署状态、对操作环境进行管理和接入，讲课模式、控制实操模式与讲课模式切换，支持与学员私聊和群聊。课程结束可查看答题记录，查看视频学习统计，查看报告评级。</p>
<p>学员可根据难度、课程类型、课程方向进行课程筛选并进入课程学习。学员可观摩教师操作投屏，也可以自己进入环境操作。课程结束后可查看学习进度，查看已学习课程。</p>
<h5 id="课程设计"><a href="#课程设计" class="headerlink" title="课程设计"></a>课程设计</h5><p>课程设计提供大型课程实验设计的能力，课程实验可根据用户需要进行定制。为了让学员能够根据实验内容，独立完成实验。实验管理模块提供了实验的创建、删除、修改等功能。在创建实验时，关联训练环境的工程模板，并在这个工程模板下设定本次实验的具体内容。实验管理模块还支持非实操型实验的管理。同时，在创建实验时，创建实验的指导书，其包含了实验的概述、目的、环境和操作的详细步骤等信息，学员可以参照详细步骤完成本次训练，达到提升能力的效果。全面支持远程实验教学，支持教学和自学两种学习模式。</p>
<p>攻防靶场系统为教学课程提供了一个全面的设计平台，能够实现远程学习模式，使得教与学都不受地理位置的限制。</p>
<p>在课程设计方面，设计人员有能力将各类实验根据知识点的逻辑顺序组合成完整的课程。这种方法不仅使课程内容呈现出层次性和连贯性，而且有助于受训人员沿着由浅入深的路径学习，从而更加系统地掌握网络安全的关键知识和技能。</p>
<p>课程的设计除了理论知识以外，还支持拓扑绑定的操作实验，加强了实践操作的环节。通过选择具体的实验作为课程的一部分，教学内容变得更加丰富和直观。同时，管理系统允许教员给自己分配实操环境，并且支持屏幕共享功能，让学员能够同步观察教员的操作过程，加深理解和记忆。</p>
<p>此外，该系统还能够灵活切换教员讲课和学生实操的模式。在教员讲课模式下，学生可以通过观看教员的屏幕操作来学习具体步骤和方法。实操模式则允许学生进入自己的实验环境中，实际操作课程内容，而教师则能够通过投屏监控和指导学生的操作。</p>
<p>综上，该系统为网络安全教学提供了一个集理论教学、操作练习和实验演练为一体的综合平台，旨在提升网络安全教育的质量和效果。</p>
<h5 id="排课授课"><a href="#排课授课" class="headerlink" title="排课授课"></a>排课授课</h5><p>系统通过排课管理功能简化课程安排流程，确保学员能快速分配到实操环境，提高教学效率。支持教员定制自己的课程及实验，并分享给其他人使用。支持教员授课模式实验教学，教员建立自己的实操环境并将自己的屏幕分享给学员。</p>
<p>系统包含了一个全面的课程管理功能，其旨在提供给教员一个便捷、高效的教学管理体验。</p>
<p>首先，系统允许教员对课程内容进行细致的管理，包括章节和课时的编辑与修改。这不仅提供了教程内容的结构化介绍，还加入了动态的编辑功能，以适应课程变化和实时更新的需求。</p>
<p>课时资源管理是系统的核心功能，教员能够上传必要的教学资源，对已上传的资源进行修改，以及预览和查看这些资源。这保证了课时资源可以随时更新和增强，从而维持教学内容的时效性和适宜性。</p>
<p>在排课管理方面，教员可以依据提供的日历功能进行自主排课，确保按照教学计划进行教学活动。此外，系统支持排课实验环境的自动部署，使得必要的教学资源能够及时就绪。为了避免资源浪费，排课环境资源默认被保留48小时，但系统也提供选项来配置保留时长，以适应特定的教学需求。</p>
<p>学员体验同样被系统所重视，教员可以通过实验组邀请学员加入，而学员则可以通过系统观看教师分享的屏幕进行学习，这强化了学员的互动和参与度。这一套综合性的管理功能，使得系统成为一个不仅强调教学内容丰富，也致力于提升教学效率和学习体验的教学管理平台。</p>
<p>在教学管理系统中，创建和管理教学班级是教师工作流程中的基础环节。通过这个功能，教师能高效地建立起班级的结构，并根据教学活动的要求设定和调整教学模式。系统为教师提供两种基本的教学模式，首先是讲课模式，这是以讲授理论知识为主，适用于理论学科或新概念的引入阶段。其次是实操模式，这一模式侧重于技能的实践操作和实验，帮助学员通过亲身实践来深化对理论的理解和应用。</p>
<p>系统中的班级成员管理功能为教师提供了灵活的班级组织手段，允许教师直接邀请或添加学员账号，建立起成员名单。这种管理使教师能够根据学员的具体情况，定制教学计划和排课内容，进而提高教学的针对性和有效性。</p>
<p>课程排期环节通过日历的形式展现，让授课人员能够直观地安排和规划课程时间表。教师可以选择一段特定的时间，在日历上安排一项特定的课程活动，包括理论讲授和实操练习。一旦排期完成，就会及时通知参与的学员，学生们可以访问系统查看自己的课程安排，做好相应的准备。</p>
<p>这种课程管理系统的优势在于保证了教学活动的系统性和条理性，同时也为参与者提供了适时和透明的信息流通，从而为教学和学习的顺利实施打下了坚实的基础。</p>
<p>1）教员添加我的教学班级，填写教学班级名称，选择教学分类，选择班级，选择多个课程、多个实验，如下图所示：</p>
<p>2）教员对教学班级进行管理，具体的操作有修改、删除教学班级和教学环境部署等操作，部署的操作分为单个的部署、销毁以及批量的部署和销毁。同时部署完成的教学环境也提供了进入教学环境的入口，如下图所示：</p>
<p>分别给班级按日历时间添加教学模式、排课计划。</p>
<p>提供排课时间系统通知功能，在课前5分钟能够发送系统内通知消息给用户。</p>
<h5 id="模式切换"><a href="#模式切换" class="headerlink" title="模式切换"></a>模式切换</h5><p>该系统提供了一个功能齐全的教学管理界面，允许教员为学员分配并管理个人化的实验环境。学员随后可以登录系统，并独立进入到自己被分配的实验环境中进行各种操作实践。这种设置可以保证学员在一个控制和隔离的环境中学习和实践，而不会影响到其他用户的实验环境。教员可以选择分享自己的屏幕给学员观看，或者让学员在自己的实验环境中进行实操学习。系统还提供了教学模式的切换，教员可以根据教学需求选择实操或讲课模式，并通过点击相应的讲课或实操按钮进行切换。这样，教员可以灵活地管理学员的实验环境，并根据需要进行不同的教学方式和指导。</p>
<h4 id="技能考试"><a href="#技能考试" class="headerlink" title="技能考试"></a>技能考试</h4><p>网络学习平台的在线考试功能为教师提供了多种便利:</p>
<p>教师可以根据题库快速生成试卷,也可以自定义组卷。并可以灵活设置每道题的分值。</p>
<p>教师可以按班级或学员个体安排考试计划,在考试开始前系统会自动发出通知。考试结束后,系统具备自动阅卷功能。学员可以查看每题得分情况和正确答案解析。</p>
<p>教师可以通过多维考试报告了解学生的考试表现,如正确率、成绩分布、平均作答时间等。在考试开始前5分钟,系统会自动发出考试通知,并在考试时间内开启,在结束时自动禁止答题。</p>
<p>学员可以在规定时间内登录系统在线进行考试答题。</p>
<p>通过提供全流程的在线考试功能,教职员工可以高效组织网络教学中的练习检测,学员也可以进行在线考试,整个考试管理和执行流程规范化。</p>
<h5 id="考试流程"><a href="#考试流程" class="headerlink" title="考试流程"></a>考试流程</h5><p>考试准备过程包含试题库创建，支持主观题和客观题。创建试卷可设置考试难度和选题。创建考试可选择课程班级的学员，选择考试题目，选择考试时间。学员会受到考试公告。</p>
<p>在考试系统中，学员会在考试开始前五分钟收到提醒。考试时间一到，系统允许学员进入并开始作答。完成后，系统自动评分客观题如单选和多选题，对主观题则生成待评分项，最终汇总出学员的成绩单。</p>
<p>考试结束后教员可查看成绩并发送，学员能看到成绩单和成绩排名。</p>
<h5 id="试卷制定"><a href="#试卷制定" class="headerlink" title="试卷制定"></a>试卷制定</h5><p>系统提供了灵活的考试模式设置，满足不同类型考核的需求。考试模式的设置至少包括以下几种：</p>
<p>1. 理论考试模式：传统的考试形式，考察学员对知识点的理解和记忆。题型可以包括单选题、多选题和判断题，允许教师设置标准的文本问题，学员在线选择或标记答案。</p>
<p>2. 实验操作类考试模式：这种模式适用于实践技能和操作过程的考核。系统可能会提供一个虚拟的实验或模拟环境，学员需要在其中完成一系列的具体任务，如编程、配置网络或修复安全漏洞。</p>
<p>3. 混合类考试模式：结合了理论和实验操作的考试方式，学员既要回答关于概念性知识的问题，同时也要在实验环境中执行具体的操作。这种模式可以全面考察学员的综合能力，既包括知识掌握程度，也涉及实操技能。</p>
<p>系统支持多场考试同时进行，使得不同的班级或不同科目的测试可以互不干扰地同时举行。这大大提高了评估的灵活性和效率。每次考试都可以自定义题库，按照需要随机抽题或指定题目，确保考试的公平性和随机性。</p>
<p>该系统针对考试管理的综合性设计，使教师能够高效地组织和监督考试，学员能够方便地参与考核，为教育和培训提供了强有力的技术支持。</p>
<h5 id="考试计划"><a href="#考试计划" class="headerlink" title="考试计划"></a>考试计划</h5><p>考试计划制定支持结合课程体系设置考试方案。设计师可根据课程、学院班级设置考试。系统支持自测考试模式，学员可根据自身水平和学习领域设置自测。</p>
<h5 id="分数统计"><a href="#分数统计" class="headerlink" title="分数统计"></a>分数统计</h5><p>提供考试自动阅卷功能，教员在考试结束之后，能够查看学员的答题细节，并能够查看考试排名，发布成绩。学员在成绩发布之后，能查看考试得分细节，并能查看试卷中题目的正确答题及试题解析。</p>
<h5 id="考试报告"><a href="#考试报告" class="headerlink" title="考试报告"></a>考试报告</h5><p>考试提供对于考试的各种信息的展示，包括知识点掌握情况汇总、试卷构成汇总，教员可以查看报告并将报告导出。</p>
<h2 id="网络安全攻防与汽车测评竞赛模块"><a href="#网络安全攻防与汽车测评竞赛模块" class="headerlink" title="网络安全攻防与汽车测评竞赛模块"></a>网络安全攻防与汽车测评竞赛模块</h2><ul>
<li>支持夺旗赛赛题环境的快速构建与管理，能够根据选择的队伍与赛题一键生成比赛环境，提供产品功能截图证明；</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/a8f3c1ef940efa63924e260248047269.png" alt="IMG_256"></p>
<p>赛题环境的快速构建与管理</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/0c7444020595d79e00b2eea6f3b1dcad.png" alt="IMG_256"></p>
<p>一键生成比赛环境</p>
<ul>
<li>支持比赛一血积分激励机制，第一个回答正确队伍可获得额外积分，可灵活设置激励队伍的百分比及分数，提供产品功能截图证明；</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/b2281b624a82b1f9d29f3b9651fca8fa.png" alt="IMG_256"></p>
<p>奖励机制</p>
<p>功能参数设计为，系统支持夺旗赛的赛事活动组织与管理，包括线上和线下模式，线上模式能生成外网访问的随机地址。实现夺旗赛赛题环境的快速构建与管理，一键生成比赛环境。系统支持比赛一血积分激励机制，第一个回答正确的队伍获得额外积分，可灵活设置激励队伍的比例及分数。提供比赛自动开始与停止管理，禁止选手比赛前后进入环境或答题。支持比赛的手动提前开始、结束，暂停、恢复及延期。</p>
<p>系统实现分阶段开放赛题、定时开放赛题及赛题开放通知。支持非固定Flag赛题的作弊检测，违规队伍可自动或手动禁赛、恢复比赛。队伍可申请解题提示，提示后正确答题可扣分，支持提示的定时发放。实现两种盲打方式：选手不可查看排行榜和提交Flag后不知答题正确与否。支持比赛一血赛题的消息公告，配置针对赛题或比赛的提交报告。</p>
<p>攻防赛赛事活动定义，支持比赛队伍和选手管理，选手加入不同队伍参与比赛。快速生成攻防赛环境，包括路由器、交换机等，按网络拓扑自动生成，队伍环境相互隔离。提供比赛公告和私信管理，具备Flag验证、周期性更新、作弊检测、异常检测、积分计算、排行导出等功能。</p>
<p>针对攻防赛中赛题服务的检测及配置、管理功能，根据赛题类型设置检测内容，提供日志查看，启动、停止检测管理服务，根据服务状态自动算分。两种选手接入方式：Web接入或自带设备接入。支持比赛报告自动生成，包括具体比赛和队伍参与所有比赛的报告。比赛过程中支持周期分数重置，攻防赛Plus赛题设定不同分数，周期记分方式，比赛周期时长可自定义。</p>
<p>每个赛题配置防御检测脚本，选手提交防御补丁经检测成功后，获得队伍防御分数。攻击分数基于一次成功攻击，持续得分。选手上传防御包导致服务器异常时扣异常分数，支持赛题环境重置，配置重置次数超限扣重置分数。攻防赛Plus队伍得分统计包括总分、攻击得分、防守得分、防守失分、异常得分和失分。</p>
<p>知识赛组织与管理，设置赛题和选手，从题库挑选赛题，支持答题倒计时，比赛结束后查看答题结果。比赛环境的批量生成、部署、测试、流量采集、录屏监控等，环境需求的高层封装，自动计算填充部署参数。支持夺旗赛、攻防赛和攻防赛Plus模式下赛事相关要素的一键配置，展示配置进度和结果。根据赛题、队伍自动分配环境，生成队伍访问赛题的路由。支持赛前测试，重新开始还原比赛数据；比赛过程中监控答题过程，控制选手虚拟机，包括重启、重置等，进行禁赛、恢复管理；赛后提供队伍或个人得分查看，生成比赛报告。</p>
<p>性能参数设计为，系统支持50支队伍或200位选手同时参加比赛。竞赛实操（CTF）题目共600个，其中内置400个。</p>
<h4 id="方案设计-4"><a href="#方案设计-4" class="headerlink" title="方案设计"></a>方案设计</h4><p>1. 赛事活动组织与管理</p>
<p>支持线上夺旗赛模式，为外网访问生成随机地址；线下模式支持传统的物理场地设置。</p>
<p>支持夺旗赛、攻防赛和攻防赛Plus模式下赛事相关要素的一键配置，展示配置进度及结果。</p>
<p>支持比赛环境的批量生成、部署、测试、流量采集、录屏监控等功能。</p>
<p>支持环境需求的高层封装，自动计算填充比赛环境部署所需参数。</p>
<p>2. 赛题环境与赛事管理</p>
<p>支持赛题环境的快速构建与管理，一键生成比赛环境，自动分配队伍访问赛题路由，确保队伍间环境互不影响。</p>
<p>支持比赛自动开始与停止，禁止选手提前进入环境，比赛结束后禁止答题。</p>
<p>支持分阶段开放赛题、定时开放赛题，并发送赛题开放通知。</p>
<p>支持非固定Flag赛题的作弊检测，自动禁赛、手动禁赛以及恢复比赛的管理。</p>
<p>3. 积分与激励机制</p>
<p>支持一血积分激励机制，第一个回答正确的队伍可获得额外积分，激励队伍的百分比及分数可灵活设置。</p>
<p>支持攻防赛Plus中不同赛题设置不同分数，每个队伍设定相互独立且完全相同的答题环境。</p>
<p>支持比赛采用周期记分的方式，比赛周期时长可自定义，支持周期分数的重置。</p>
<p>4. 盲打与公告管理</p>
<p>支持至少两种盲打方式，选手不能查看排行榜或提交Flag后不知道答题是否正确。</p>
<p>支持比赛一血赛题的消息公告，配置针对赛题提交报告或针对比赛提交报告。</p>
<p>5. 攻防赛环境与队伍管理</p>
<p>支持攻防赛环境的快速生成，包括路由器、交换机等网络设备，按网络拓扑自动生成比赛环境，不同队伍环境相互隔离。</p>
<p>支持比赛队伍和选手管理，选手可加入不同的队伍进行不同场次的比赛。</p>
<p>支持攻防赛中赛题服务的检测及其配置与管理，赛题检测服务的日志查看功能，可启动、停止检测管理服务。</p>
<p>6. 接入与报告</p>
<p>支持两种选手接入比赛环境的方式：通过Web接入或选手自带设备接入。</p>
<p>支持针对具体比赛的比赛报告的自动生成；支持针对具体队伍参与的所有比赛的比赛报告的自动生成。</p>
<p>7. 防御与攻击得分</p>
<p>支持每个赛题配置防御检测脚本，选手提交赛题的防御补丁经检测成功通过后，获得队伍的防御分数。</p>
<p>支持每个赛题每个队伍获得攻击分数，一次攻击成功后在下个周期及后续周期持续得分。</p>
<p>8. 环境与监控管理</p>
<p>支持比赛过程中答题过程监控，对选手虚拟机进行控制，包括重启、重置等，对参赛队伍进行禁赛、恢复等管理。</p>
<p>支持赛前测试功能，重新开始会还原比赛数据。</p>
<p>9. 赛后管理</p>
<p>支持赛后队伍或个人的得分查看，生成比赛报告。</p>
<p>10. 竞赛实操题目</p>
<p>提供600个CTF题目，其中400个内置。</p>
<p>性能参数要求</p>
<p>支持50支队伍或200位选手同时参加比赛。</p>
<p>本方案提供了竞赛管理系统的详细架构，包括赛事的组织、赛题环境的管理、积分与激励机制、盲打与公告管理、攻防赛环境与队伍管理、接入与报告生成、防御与攻击得分机制、环境与监控管理、赛后管理，以及题目库的构建。性能参数保证了系统能够在高并发条件下稳定运行，满足大型赛事的需求。</p>
<h4 id="方案简介-2"><a href="#方案简介-2" class="headerlink" title="方案简介"></a>方案简介</h4><p>系统提供了全方位的知识竞赛组织和管理功能。用户可以自定义赛题和参赛人员，便捷地从题库选题来迅速组织比赛。比赛过程中，系统具备答题时间的倒计时功能，超时自动跳转至下一题。同时，支持以可视化的方式实时展示答题动态和排名情况。竞赛结束后，参赛者的答题详情能够被检索和审查。对于夺旗赛，系统同样提供了灵活的在线和现场赛事组织及管理功能，线上赛事可以通过网络访问系统生成的随机赛题环境路径。还支持一键式快速构建和管理夺旗赛的赛题环境，根据选择的队伍和赛题直接生成比赛环境，优化赛事的流畅性和参与者的体验。</p>
<p>支持比赛一血积分激励机制，可设置激励百分比及分数；支持比赛自动开始与停止管理功能，在竞技开始前禁止用户进入比赛详情，在竞技停止后禁止用户答题操作；支持分阶段生成比赛环境，支持分阶段放出赛题，支持放出题目时下发通知进行提示；支持对违规作弊的队伍进行禁赛与恢复管理；支持用户主动申请题目提示，对主动申请提示的队伍答对后进行相应的扣分处理；支持比赛过程中，下发题目提示，下发提示时进行消息通知；支持比赛开始后，用户登录到答题系统进行答题，比赛一血赛题的消息通知弹窗，支持赛后提交答题报告；支持夺旗比赛过程中的大屏可视化展示，可视化提供图表展示、包括比赛答题动态、比赛排名等；支持攻防赛事活动的定义，系统中包含了比赛队伍和人员管理功能，允许单个参赛者在不同的队伍里参与多场比赛。平台能够管理比赛公告和私信，同时配备了Flag验证和周期性更新机制，以及作弊和异常行为的检测功能。系统自动进行积分计算，并支持排行榜的导出，确保比赛的公正性和透明度；</p>
<p>支持竞赛可视化的快速定制。根据竞赛的类型，竞赛的规模大小，竞赛实时攻击的表现方式以及竞赛宣传的不同主题，采用可视化3D技术快速定制适合本次比赛的可视化界面。可视化提供的展示信息包含参赛团队的排行信息、参赛团队的实时攻击信息以及参赛团队的得分失分信息、攻击态势等。支持攻防赛中比赛流量的采集，能够按配置规则分析流量数据，评估并展示比赛态势；其中攻击态势以不同颜色弧线的方式展示各个队伍的攻防情况，队伍所在圆环的密度可以有效反应出当前攻击的激烈程度；系统能够自动创建特定比赛的报告，并同样支持自动生成特定队伍参与的所有比赛的综合报告。这些功能简化了赛后分析，为组织者和参赛者提供详尽的数据回顾。</p>
<p>系统支持夺旗赛赛事要素的一键配置，方便用户快速下发任务，并实时展示任务进度和结果。系统可以自动为选定的赛题和队伍分配环境，并生成独立的访问路由，以确保各队伍之间的环境不发生干扰。</p>
<p>比赛环境能够批量生成和部署，并支持测试、流量采集以及录屏监控的功能。高级的封装技术允许系统自动计算并填充部署所需的参数。</p>
<p>攻防赛环境的快速生成功能涵盖路由器、交换机、防火墙等网络设备，且能按照设定的网络拓扑自动生成环境，确保不同团队间的隔离。</p>
<p>比赛中，系统能检测和管理靶标服务，并根据靶标的类型自定义检测内容，同时提供日志查看和检测服务的管理功能。靶标服务状态还能自动进行计分或扣分。</p>
<p>系统支持竞赛人员以WEB接入或虚实互联的方式参与比赛。同时，提供对参赛队伍虚拟机的控制，包括启动、停止和重置操作，还支持对违规队伍的禁赛和恢复参赛的管理操作。如下图所示。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/68410411b8706427c8666be6307d329d.png"></p>
<p>测评竞赛</p>
<h1 id="智能汽车网络靶场数据采集分系统"><a href="#智能汽车网络靶场数据采集分系统" class="headerlink" title="智能汽车网络靶场数据采集分系统"></a>智能汽车网络靶场数据采集分系统</h1><h2 id="节点状态采集模块"><a href="#节点状态采集模块" class="headerlink" title="节点状态采集模块"></a>节点状态采集模块</h2><ul>
<li>支持目标网络环境内虚拟节点CPU利用率、内存利用率、磁盘利用率、磁盘IO读/写吞吐量、网卡出/入流量大小、网卡出/入丢包率等不少于6类节点状态信息进行采集，提供产品功能截图证明；</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/af3bc56d52828bed572ea62076619e56.png"></p>
<p>状态管理模块可通过灵活访问方式，对大规模网络仿真场景中的网络仿真节点进行监控。可及时发现网络仿真节点的部署状态、运行状态。提供快照功能，方便网络仿真节点从崩溃状态还原备份。保障了平台平稳运行，是实现大规模网络仿真的必要一步。</p>
<p>功能参数设计为，系统支持在目标网络环境内对虚拟节点的多项状态信息进行采集，包括CPU利用率、内存利用率、磁盘利用率、磁盘IO读/写吞吐量、网卡出/入流量大小、网卡出/入丢包率等六类节点状态。此外，系统还支持采集平台本身设备的运行状态，如CPU利用率、内存利用率、磁盘利用率等。系统能够通过脚本检测目标网络内服务的运行状态，并将结果进行有效反馈。</p>
<p>性能参数设计为，系统支持最多1400个虚拟节点状态信息的采集，确保能够高效处理大规模网络环境中的状态监控需求。这种设计能够为网络运维和安全监控提供全面的数据支撑，提高网络管理的效率和可靠性。</p>
<h4 id="方案设计-5"><a href="#方案设计-5" class="headerlink" title="方案设计"></a>方案设计</h4><h5 id="系统概述"><a href="#系统概述" class="headerlink" title="系统概述"></a>系统概述</h5><p>设计的竞赛管理系统将为组织者提供全面的赛事活动组织与管理能力，同时为参与者提供一个高效、公平和透明的竞赛环境。系统将包含以下核心功能模块：</p>
<p>赛事活动组织与管理</p>
<p>赛题环境与赛事管理</p>
<p>积分与激励机制</p>
<p>盲打与公告管理</p>
<p>攻防赛环境与队伍管理</p>
<p>接入与报告</p>
<p>防御与攻击得分</p>
<p>环境与监控管理</p>
<p>赛后管理</p>
<h5 id="赛事活动组织与管理"><a href="#赛事活动组织与管理" class="headerlink" title="赛事活动组织与管理"></a>赛事活动组织与管理</h5><p>系统将支持线上和线下夺旗赛模式，为线上赛事提供外网随机地址生成，确保每次比赛的独特性和安全性。此外，系统将提供一键配置功能，简化赛事设置过程，包括环境的批量生成、部署、测试、流量采集和录屏监控。环境需求的高层封装将自动计算填充所需的各种参数，以便快速搭建比赛环境。</p>
<h5 id="赛题环境与赛事管理"><a href="#赛题环境与赛事管理" class="headerlink" title="赛题环境与赛事管理"></a>赛题环境与赛事管理</h5><p>赛题环境的快速构建和管理是系统的关键特性之一。系统将支持一键生成比赛环境，以及自动分配队伍访问赛题的路由，确保队伍间环境的隔离。比赛的控制管理功能将包括自动开始与停止，分阶段开放赛题，定时开放赛题，并发送赛题开放通知。此外，系统将提供非固定Flag赛题的作弊检测和队伍禁赛管理。</p>
<h5 id="积分与激励机制"><a href="#积分与激励机制" class="headerlink" title="积分与激励机制"></a>积分与激励机制</h5><p>积分系统将支持一血积分激励机制，首个解题的队伍将获得额外积分，激励队伍的百分比及分数可以灵活设置。攻防赛Plus模式下，不同赛题将设置不同分数，每个队伍将拥有相互独立且完全相同的答题环境。比赛采用周期记分方式，周期时长可自定义，并支持周期分数的重置。</p>
<h5 id="盲打与公告管理"><a href="#盲打与公告管理" class="headerlink" title="盲打与公告管理"></a>盲打与公告管理</h5><p>系统将支持至少两种盲打方式，其中一种是选手不能查看排行榜，另一种是选手在提交Flag后不知道答题是否正确。同时，系统将支持比赛一血赛题的消息公告，配置针对赛题提交报告或针对比赛提交报告。</p>
<h5 id="攻防赛环境与队伍管理"><a href="#攻防赛环境与队伍管理" class="headerlink" title="攻防赛环境与队伍管理"></a>攻防赛环境与队伍管理</h5><p>攻防赛环境的管理将支持快速生成，包括路由器、交换机等网络设备，并根据网络拓扑自动生成比赛环境。系统将管理比赛队伍和选手，支持选手加入不同的队伍进行不同场次的比赛。同时，系统将提供攻防赛中赛题服务的检测及其配置与管理，赛题检测服务的日志查看功能，可启动、停止检测管理服务。</p>
<h5 id="接入与报告"><a href="#接入与报告" class="headerlink" title="接入与报告"></a>接入与报告</h5><p>系统将支持两种选手接入比赛环境的方式，包括通过Web接入或选手自带设备接入。针对具体比赛或队伍，系统将自动生成详细的比赛报告，包括得分、答题行为、使用的资源等信息。</p>
<h5 id="防御与攻击得分"><a href="#防御与攻击得分" class="headerlink" title="防御与攻击得分"></a>防御与攻击得分</h5><p>每个赛题将配置防御检测脚本，选手提交的防御补丁经检测成功通过后，获得队伍的防御分数。攻击分数的持续得分机制将确保一次攻击成功后，队伍在下个周期及后续周期持续得分。</p>
<h5 id="环境与监控管理"><a href="#环境与监控管理" class="headerlink" title="环境与监控管理"></a>环境与监控管理</h5><p>比赛过程中，系统将监控答题过程，并对选手虚拟机进行控制，包括重启、重置等。同时，系统将提供赛前测试功能，确保比赛数据的还原。</p>
<h5 id="赛后管理"><a href="#赛后管理" class="headerlink" title="赛后管理"></a>赛后管理</h5><p>赛后管理模块将支持得分查看和比赛报告的生成，为组织者和选手提供详细的赛事分析。</p>
<h5 id="性能设计"><a href="#性能设计" class="headerlink" title="性能设计"></a>性能设计</h5><p>系统将支持1400个虚拟节点状态信息的采集，包括CPU利用率、内存利用率、磁盘利用率、磁盘IO读/写吞吐量、网卡出/入流量大小、网卡出/入丢包率等信息。此外，系统还将支持平台本身设备运行状态的采集，包括CPU利用率、内存利用率、磁盘利用率等信息，并通过脚本检测目标网络内服务的运行状态，并将结果进行反馈。</p>
<p>系统将具备高度的自动化能力，能够实时监控和管理大规模的虚拟节点，确保竞赛的顺利进行。通过集成的监控和管理工具，系统将提供实时的反馈和报告，使组织者能够快速响应任何问题，保持竞赛的连续性和稳定性。</p>
<p>本竞赛管理系统设计方案旨在提供一个全面、可扩展和高度自动化的解决方案，以支持复杂的网络安全竞赛活动。通过综合利用现代化的技术和工具，系统将确保竞赛的高效运行，同时提供深度的数据分析和报告，以增强竞赛活动的价值和参与者的体验。</p>
<h4 id="方案简介-3"><a href="#方案简介-3" class="headerlink" title="方案简介"></a>方案简介</h4><p>状态管理模块现已实现以下功能：</p>
<p>系统的网络部署状态监控功能是针对复杂网络环境中各种资源的部署和管理的重要工具。这些功能允许管理员实时监控和管理网络部署的各个方面，包括：</p>
<p>1. 虚拟网络部署状态：监控整个虚拟网络的部署过程，包括子网的创建、VLAN配置、路由规则的应用等方面。</p>
<p>2. 虚拟节点部署状态：检测各个虚拟机或虚拟节点的部署情况，例如操作系统的加载、服务的启动、配置的应用等。</p>
<p>3. 网络节点和安防设备的部署状态：追踪网络中实体节点如交换机、路由器的部署状态，以及各类安防设备（如防火墙、入侵检测系统）的设置和运行状态。</p>
<p>为了使部署进程清晰可见，系统支持通过图形化界面展示部署进度。这通常涉及到进度条或图表，展示各个阶段的完成度，问题报告，以及任何需即时解决的关键事项。</p>
<p>界面显示可能会提供详细视图，如部署日志、资源利用率图、网络拓扑图等，便于管理员及时了解环境状态，并在必要时进行干预。管理员可以利用这些工具进行故障排除、性能优化和资源分配。</p>
<p>通过这种监控功能，系统确保网络环境的部署按照预定计划顺利进行，同时也提高了问题发现和解决的效率，保障网络环境的稳定性和可靠性。</p>
<p>对虚拟节点的运行状态进行实时监控，包括CPU利用率、内存利用率、磁盘IO和网卡流量等重要信息。通过监控工具，用户可以实时了解虚拟节点的性能指标和资源利用情况；支持虚拟机节点自动发现崩溃、无响应等状态，如下图所示；</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/b59c47cb99ae2d8224b3df71d42d1248.png"></p>
<p>虚拟节点监控</p>
<p>实现虚拟机从崩溃中自动恢复到初始状态或手动选择崩溃节点的处理方式，处理方式包括查看虚拟节点状态、重启、重置等操作；实现虚拟节点状态保存和恢复，并提供配置接口；每个虚拟机至少支持保存2个状态</p>
<p>支持通过Web桌面、远程桌面、Web SSH的方式接入网络节点，接入的方式支持VNC、RDP和SSH；支持对操作进行录屏；支持WINDOWS客户操作系统下USB存储的远程重定向，用户可在操作终端直接通过U盘存取虚拟主机中的信息；</p>
<p>支持利用虚拟机自省技术对虚拟机进行高速、无感的周期性和单次内部数据监控。支持多个虚拟机的并发的内部数据监控。支持Qemu2.9以上版本，监控过程中不能暂停虚拟机，虚拟机内部不能部署任何代码，不更改任何代码。周期性任务最小间隔时间少于5秒。Linux系统和Windows系统支持获取虚拟机的进程列表、进程命令行参数、进程运行目录、进程运行的环境变量、进程打开的句柄等。Linux系统还支持查看正在监听的端口，查看网卡信息，查看命令行日志，查看登录终端等。</p>
<p>带外采集系统支持windows系统和linux系统，使用了目前通用的Volatility和LibVMI。支持对多种命令的采集、并发采集。</p>
<p>性能参数如下：</p>
<ul>
<li>支持等于1400个虚拟节点状态信息采集。</li>
</ul>
<p>为了有效地监控目标网络部署状态，系统需具备以下几个关键功能：</p>
<p>1. 虚拟网络部署状态监控：</p>
<p>功能参数如下：能够实时跟踪和显示虚拟网络的创建和配置过程，包括子网设置、IP地址分配、网络连通性测试等。</p>
<p>功能参数如下：提供虚拟网络的拓扑视图，方便用户直观理解网络结构。</p>
<p>功能参数如下：报告网络部署过程中的任何异常，如配置失败、性能瓶颈等。</p>
<p>2. 虚拟节点部署状态监控：</p>
<p>功能参数如下：显示每个虚拟机或其他类型虚拟节点（如容器）的部署进度，包括操作系统启动、服务配置等。</p>
<p>功能参数如下：反馈虚拟节点磁盘、CPU和内存的利用情况，确保它们符合预设的资源分配策略。</p>
<p>功能参数如下：对于还未完成部署的节点，系统能够提供预计剩余时间和潜在问题的预警。</p>
<p>3. 网络节点和安防设备部署状态监控：</p>
<p>功能参数如下：对物理网络设备（如交换机、路由器）和安全设备（如防火墙、入侵检测/防御系统ID/IPS）的部署状态进行监控。</p>
<p>功能参数如下：实时检测硬件状态和配置的更改，确保所有设备均按预定方案运行。</p>
<p>功能参数如下：根据安全配置和策略实施情况，确保网络的安全性得到强化。</p>
<p>系统中的监控功能通常由以下几个部分组成：</p>
<p>- 实时数据仪表盘：提供关于当前部署状态的概览，包括哪些节点已上线，哪些正在进程中，以及遇到问题需注意的部分。</p>
<p>- 进度跟踪和历史记录：记录每次部署的详细历史，供进行问题追踪和性能分析。</p>
<p>- 警报和通知系统：在发生配置错误或设备故障时，系统会发送警报给管理员，以便及时干预。</p>
<p>通过综合这些工具和功能的系统，管理员能够确保部署过程符合技术和业务要求，同时及时发现并解决可能出现的问题。</p>
<p>neutron管理虚拟网络的配置情况，并将状态写入network db中,虚拟网络部署状态是horizon通过获取network db中信息进行实时更新。nova管理虚拟节点的配置情况，并将状态写入compute db中, 虚拟节点部署状态是horizon通过获取compute db中信息进行实时更新。网络节点和安防设备的部署状态通过horizon到对应的数据库中获取信息来实时更新状态。</p>
<p>实现对虚拟节点状态进行实时监控，网络流量监控默认是通过compute 的libvirt进行监控，记录网卡进入与出去流量统计，针对某个虚拟机的网卡，该方式记录所有网卡通过的流量统计。</p>
<p>网络bandwidth的采集是通过neutron-metering-agent 代理方式进行流量采集，然后push到oslo-messaging, ceilometer-agent-notification 通过监听消息队列来收取bandwidth信息。</p>
<p>同一子网下虚拟机互相访问不会统计，但不同子网间进过虚拟路由器的流量会被统计，虚拟机与外部网络互访也会统计（有floatingip)，实现虚拟机从崩溃中自动恢复到初始状态或手动选择崩溃节点的处理方式。</p>
<p>用sersync直接同步整个chroot环境，当成功创建一台虚拟机时，把存储上的对应业务文件传送到新实例上即可运行，不过就如上面所说，由于同步的是整个chroot环境，chroot环境本身也可能会很大，其中相当大一部分数据可能并不需要同步，项目经常会产生大量的日志文件，动辄上百G的日志文件，是没有必要同步的。不过确实方便配置管理。</p>
<p>重新启动的方式包括软重启和硬重启：使用nova api方式，软重启：nova reboot SERVER，硬重启方式：nova reboot –hard SERVER。</p>
<p>实现虚拟节点状态保存和恢复，并提供配置接口：虚拟节点的保存和恢复都是通过基础镜像以及镜像的增量来实现的。例如在实例文件instance-0000001a中有console.log disk disk.local libvirt.xml等三个文件，console.log 保存虚拟机启动的日志信息，disk 和 disk.local为虚拟机实例的镜像增量文件，libvirt.xml为配置文件。通过horizon可以提供修改这些配置文件的途径，通过修改配置文件，生成多个状态，以支持保存多个虚拟机状态。</p>
<p>实现对目标网络配置数据、虚拟机状态数据进行回放的接口：目标网络配置数据是horizon通过获取network db数据进行回放，虚拟机状态数据是horizon通过获取compute db数据进行回放，支持通过Web桌面、远程桌面、Web SSH的方式接入网络节点，通过虚拟机提供的vncserver 服务，每次点击远程桌面的时候，页面会传一个vm的标识到action中，action判断这个vm是否属于登录的这个用户，然后在数据库中取出这台vm的vnc服务的ip+port，写成一个配置文件target-config指定目录下，最后把websockets代理机器的ip+port以及vm vnc的password通过action传到vnc_auto.html中，远程桌面采用的是一种类似TELNET的技术，他是从TELNET协议发展而来的。通俗的讲他就是图形化的TELNET.</p>
<p>Web SSH的方式是利用web模拟ssh方式连接终端机：支持利用虚拟机自省技术对虚拟机进行高速、无感的周期性和单次内部数据监控，虚拟机自省技术对正在运行中的底层虚拟机的运行细节进行监视的功能，监视的功能是由观察内存细节，陷入硬件事件和读取CPU寄存器来完成的，下图表示这一过程。</p>
<p>LibVMI是一个标准C语言库，而且在vmi初始化的过程中就读取了guest的System.map，因此在这个文件中对符号名进行匹配就可以获取到符号的虚拟地址了，下面是这个过程的代码，可以看到，代码先是在sym–&gt;虚拟地址的缓存中进行查找，当没有找到后才去system.map中读取，并且将读取到的结果缓存到符号cache中。这样就获取到了一个符号的虚拟地址，接下来还要进行读取这个虚拟地址内容的过程。</p>
<h2 id="网络链路采集模块"><a href="#网络链路采集模块" class="headerlink" title="网络链路采集模块"></a>网络链路采集模块</h2><ul>
<li>具备对指定节点的流量进行采集能力，能够通过试验过程导调配置需要采集的节点及端口；采集后的流量支持通过交换机汇聚到流量存储和分析设备进行统一存储和分析，流量汇聚交换机需采用华为、华三等品牌的通用三层交换机，无需SDN等功能，提供产品功能截图证明；</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/f4847ef9c546dc2999c3a9112b927688.png" alt="1703513197056"></p>
<p>指定节点采集</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/7343a511591cd95af4c5be5d939a7ab4.jpeg" alt="nginx配置流量镜像以及验证方式_网站&amp;服务器&amp;网络安全_产品知识库_动易技术中心"></p>
<p>流量存储采集</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/67f06430c68196f00ac7b0c093d4d92e.png"></p>
<p>无需SDN的端口镜像汇聚</p>
<p>功能参数设计为，系统支持利用sFlow协议对虚拟网络流量进行采集，并能将采集的数据发送至Kafka，供其他分系统使用。系统具备对指定节点流量的采集能力，可通过试验过程导调配置需要采集的节点及端口。采集后的流量能通过通用三层交换机（如华为、华三品牌）汇聚到流量存储和分析设备进行统一存储和分析。此外，系统还支持通过流量镜像的方式，将虚拟机某端口的流量镜像到指定设备端口。</p>
<p>性能参数设计为，系统的流量采集速率达到10Gbps，能够支持200条链路的同时采集。这种设计确保了在大规模网络环境下高效、稳定的流量监控和分析能力，满足复杂网络环境中对流量管理和安全监控的高要求。</p>
<h4 id="方案设计-6"><a href="#方案设计-6" class="headerlink" title="方案设计"></a>方案设计</h4><p>功能参数设计为，系统支持利用sFlow协议对虚拟网络流量进行采集，并能将采集的数据发送至Kafka，供其他分系统使用。系统具备对指定节点流量的采集能力，可通过试验过程导调配置需要采集的节点及端口。采集后的流量能通过通用三层交换机（如华为、华三品牌）汇聚到流量存储和分析设备进行统一存储和分析。此外，系统还支持通过流量镜像的方式，将虚拟机某端口的流量镜像到指定设备端口。</p>
<p>性能参数设计为，系统的流量采集速率达到10Gbps，能够支持200条链路的同时采集。这种设计确保了在大规模网络环境下高效、稳定的流量监控和分析能力，满足复杂网络环境中对流量管理和安全监控的高要求。</p>
<h5 id="系统概要"><a href="#系统概要" class="headerlink" title="系统概要"></a>系统概要</h5><p>本竞赛管理系统将提供一个全面的流量监控与分析解决方案，以支持网络安全竞赛中对虚拟网络流量的采集、处理和分析。系统将采用sFlow协议进行流量采集，并利用Kafka进行数据传输，以实现流量数据的高效处理和分析。</p>
<h5 id="流量采集与传输"><a href="#流量采集与传输" class="headerlink" title="流量采集与传输"></a>流量采集与传输</h5><p>sFlow协议采集</p>
<p>系统将基于sFlow协议对虚拟网络的流量进行采集。sFlow是一个行业标准，适用于监控高速网络，它能够提供网络流量的实时采样。</p>
<p>采集的数据将发送至Kafka消息队列，Kafka作为高吞吐量的分布式消息系统，将为其他分系统提供实时数据流。</p>
<p>节点流量采集</p>
<p>系统将具备对指定节点的流量进行采集的能力，管理员可以通过试验过程导调配置需要采集的节点及端口。</p>
<p>采集后的流量数据将通过通用三层交换机（如华为、华三等品牌）汇聚到流量存储和分析设备进行统一存储和分析。</p>
<p>流量镜像</p>
<p>系统支持通过流量镜像的方式，将虚拟机某个端口的流量镜像到指定设备的端口。这允许管理员在不干扰主要网络流量的情况下，实时监控和分析网络数据。</p>
<h5 id="流量存储与分析"><a href="#流量存储与分析" class="headerlink" title="流量存储与分析"></a>流量存储与分析</h5><p>存储</p>
<p>系统将使用高性能的存储解决方案来存储采集的流量数据。这将确保即使在大规模数据采集情况下，数据也能被安全、可靠地存储。</p>
<p>分析</p>
<p>采集到的流量数据将被用于进一步的分析。分析工具将能够识别流量模式、潜在的安全威胁和网络性能问题。</p>
<p>系统将提供可视化工具，以帮助管理员理解流量数据，进行必要的调整或优化。</p>
<h5 id="性能设计-1"><a href="#性能设计-1" class="headerlink" title="性能设计"></a>性能设计</h5><p>流量采集速率</p>
<p>系统将能够处理高达10Gbps的流量采集速率，以满足高速网络环境下的监控需求。</p>
<p>链路采集能力</p>
<p>系统支持同时对200条链路进行流量采集，确保即使在多节点、高密度的竞赛环境中，也能够有效地监控网络流量。</p>
<h5 id="系统设计细节"><a href="#系统设计细节" class="headerlink" title="系统设计细节"></a>系统设计细节</h5><p>高性能交换机配置</p>
<p>流量汇聚交换机将配置必要的VLAN、ACL和路由规则，以确保数据的准确汇聚和传输。</p>
<p>交换机的端口将配置为镜像端口，以复制经过的流量到分析设备。</p>
<p>安全与合规</p>
<p>所有流量采集和分析操作将遵守相关的数据保护法规和隐私政策。</p>
<p>系统将实施适当的安全措施，以保护存储和传输的数据不被未经授权的访问。</p>
<p>可扩展性</p>
<p>系统设计将考虑未来的扩展性，支持更多节点的添加和更高速率的流量采集需求。</p>
<p>Kafka集群将配置以支持高可用性和扩展性，以应对大量数据流的需求。</p>
<p>本竞赛管理系统的流量监控与分析方案将为网络安全竞赛提供一个强大的支持工具，能够满足高速、大规模网络流量监控的需求。系统的设计将确保数据的高效采集、安全存储和深入分析，为竞赛管理员提供实时的网络状态信息，帮助他们有效地管理和监督竞赛过程。</p>
<h4 id="方案简介-4"><a href="#方案简介-4" class="headerlink" title="方案简介"></a>方案简介</h4><p>流量采集模块是针对网络攻防效果评测的重要方法，是网络仿真软件的关键环节。实现了多种链路的协同、高性能采集，可对大规模网络仿真场景有效地进行基于数据采集的效果评估。</p>
<p>根据虚拟主机间通信所处的计算节点位置不同，分为三种链路：同一计算节点内的虚拟主机之间的通信链路属于宿主机内的虚拟链路，不同计算节点内的虚拟主机之间的通信链路属于宿主机间的虚拟链路，计算节点内的虚拟主机与实物机之间的通信链路属于虚实互联链路，实物机靠网络节点连接的外网接入云平台中。</p>
<p>基于上述网络仿真系统，该数据采集与效果评估体系结构包括采集点映射模块、数据采集模块、数据存储模块以及效果评估模块共四个模块。其中采集点映射模块包括配置解析模块、IP地址解析模块和端口解析模块三个子模块，利用这三个子模块确定目标链路的目标端口，即采集点；数据采集模块是该体系的核心部分，完成对采集点的数据采集；数据存储模块分为本地存储和远程存储，本地存储是指将采集数据直接存在计算节点本地的数据库中，远程存储是将采集数据存入云平台之外的服务器的数据库中；效果评估模块基于实时采集的数据进行提取、分析和计算，完成对网络安全试验效果的评估。</p>
<p>传统的数据采集存储只提供了本地存储的功能，本软件采用的数据采集系统，实现了本地存储和远程服务器实时存储的双重功能，远程存储通过将采集数据复制备份到独立的服务器，实现了实验数据的安全隔离，为后续的进一步研究提供了数据保障。对采集点进行采集并实时对所采集数据进行存储的具体步骤为：</p>
<p>1、启动数据采集程序，使用监测进程对数据文件目录进行监听；</p>
<p>2、对生成的数据文件，采用压缩算法进行压缩；</p>
<p>3、将压缩文件发送给接收端服务器；</p>
<p>4、服务端接收到压缩文件，先进行解压缩，再将数据文件解析入库；</p>
<p>5、通过对数据库中的数据进行提取、分析、计算，完成试验效果评估。</p>
<p>通过试验验证，远程存储数据可以用来支持后面的效果评估。</p>
<p>使用案例：在OpenStack中构建虚拟网络，网络拓扑如下图所示，图中vm1，vm2，vm3表示虚拟主机，IP地址分别为11.0.0.4，13.0.0.5，11.0.0.5，vm5是实物机PC，通过虚实互联方式接入OpenStack平台，router是虚拟路由器，IP地址为11.0.0.3,13.0.0.3,15.0.0.3，net11，net13，net15代表虚拟网络，网络地址分别为11.0.0.0/24，13.0.0.0/24，15.0.0.0/24，其中vm1，vm2在同一计算节点（Compute1）上，vm3在另一计算节点（Compute2）上。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/44c897a4debb41b2bb829d1f12ba41db.png"></p>
<p>构建虚拟网络</p>
<p>选择上图三条链路：（vm1, vm2, Compute1），（vm3, Compute2, vm2, Compute1），（vm2, Compute1, vm5）。上述三条链路的通信都通过router，首先确定采集点，router有3个网卡，此处需要的是与router在 net11和net15的网卡相连的br-int的两个目标端口（端口1，端口2），获取router的采集点映射表，得出两个目标端口位于同一计算节点Compute1上，需要对这两个端口设置流量镜像。为验证流量镜像的有效性，用vm1，vm3， vm5分别向vm2发送10个ICMP数据包，结果从镜像口接收到60个ICMP数据包（ICMP数据包是双向的），验证流量镜像设置成功。</p>
<p>为验证该系统的链路数据采集性能，对上图中的链路（vm1, vm2, Compute1）进行测试，用vm1上的iperf发包工具向vm2发包，采集端口1，分别测试 libpcap（Linux自带的传统采集方法），pf_ring和该系统测试在捕获不同长度数据包时的采集速率，测试结果通过下图显示。</p>
<p>可以看出，随着帧长度增大，libpcap和本系统每秒钟收包速率均逐渐减小，pf_ring的收包速率趋于稳定，说明在数据传输过程中小包比较容易被接收，且利用本系统达到的采集速率明显优于libpcap和pf_ring的采集速率，采集速率相较于pf_ring最高提升了88.48%，验证了该采集系统的高效性。</p>
<p>采集效率</p>
<p>评判采集性能的重要指标还包括CPU占用率，程序运行时CPU占用率越小，程序性能越好。为了测试本系统的CPU占用率，将libpcap和pf_ring作为对照组，测试三种数据包捕获方法在捕获不同长度数据包时的CPU占用率，测试结果如下图所示。</p>
<p>三种抓捕方法的cpu占用率</p>
<p>可以看出，在帧长增大时，三种采集方法的CPU利用率有轻微波动，整体趋于稳定，libpcap 的CPU占用率在82%~83%，pf_ring的CPU占用率在80%~81%，二者在CPU负载平衡方面性能相当，而用本系统CPU占用率平均在43%，相较于libpcap和pf_ring，使用本系统，CPU占用率降低了45.29%，大大降低CPU使用率，有效提高了采集效率。</p>
<p>支持虚拟网络的流量对基于sFlow协议进行采集，采集的数据可以发送至Kafka供其他分系统使用；支持通过流量镜像方式从虚拟机某个端口流量镜像到指定设备的端口，如下图所示。</p>
<p>系统具备专门针对指定节点的流量采集功能，允许用户在实验或比赛过程中配置和选定特定的节点及其端口以进行流量捕获。一旦采集完毕，所捕获的流量数据可以通过交换机被汇聚到专门的流量存储和分析设施，以实现集中化的数据存储和后续分析。为了确保技术的兼容性和性能，所使用的流量汇聚交换机需选用华为、华三等知名品牌的通用三层交换机。界面如下图所示。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/8b306dbabe2a706a582dd4197292d786.png"></p>
<p>：流量采集</p>
<p>性能参数如下：</p>
<ul>
<li>流量采集速率不低于10Gbps；</li>
<li>支持等于200条链路同时采集。</li>
</ul>
<h2 id="多元网络安全知识库模块"><a href="#多元网络安全知识库模块" class="headerlink" title="多元网络安全知识库模块"></a>多元网络安全知识库模块</h2><ul>
<li>支持面向智能汽车网络安全知识的可视化数据管理，支持对智能汽车复杂攻击场景图谱方式呈现与拖拽查看，提供产品功能截图证明。</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/64915711cd449c314f049238d341de69.png"></p>
<p>拖拽式图谱</p>
<p>功能参数设计为，系统支持智能汽车漏洞知识、资产知识、基础攻击知识子图和复杂攻击知识子图的存储管理和快速检索功能。能够实现面向智能汽车网络安全知识的可视化数据管理，支持复杂攻击场景图谱的呈现与拖拽查看。系统还支持智能汽车知识数据管理，包括按模板批量导入、导出与删除漏洞知识、基础攻击子图和复杂攻击子图。</p>
<p>系统具备智能汽车网络安全知识模式实体管理功能，统一表示与管理漏洞、资产、基础攻击、复杂攻击知识体。智能汽车网络安全知识模式关系管理包括复杂攻击与基础攻击的包含关系、基础攻击与安全事件的实例关系、安全事件与漏洞的利用关系、漏洞与资产的存在影响关系。系统还支持多知识图谱的动态构建与管理，为每次试验构建具有时空特征的独立知识图谱。</p>
<p>性能参数设计为，系统支持高达10万条漏洞知识的存储管理，以及20万条资产知识的存储管理。这种设计能够满足大规模智能汽车网络安全知识的管理和应用需求，为智能汽车安全研究和应对提供强大的数据支持和知识基础。</p>
<h4 id="方案设计-7"><a href="#方案设计-7" class="headerlink" title="方案设计"></a>方案设计</h4><p>功能参数设计为，系统支持智能汽车漏洞知识、资产知识、基础攻击知识子图和复杂攻击知识子图的存储管理和快速检索功能。能够实现面向智能汽车网络安全知识的可视化数据管理，支持复杂攻击场景图谱的呈现与拖拽查看。系统还支持智能汽车知识数据管理，包括按模板批量导入、导出与删除漏洞知识、基础攻击子图和复杂攻击子图。</p>
<p>系统具备智能汽车网络安全知识模式实体管理功能，统一表示与管理漏洞、资产、基础攻击、复杂攻击知识体。智能汽车网络安全知识模式关系管理包括复杂攻击与基础攻击的包含关系、基础攻击与安全事件的实例关系、安全事件与漏洞的利用关系、漏洞与资产的存在影响关系。系统还支持多知识图谱的动态构建与管理，为每次试验构建具有时空特征的独立知识图谱。</p>
<p>性能参数设计为，系统支持高达10万条漏洞知识的存储管理，以及20万条资产知识的存储管理。这种设计能够满足大规模智能汽车网络安全知识的管理和应用需求，为智能汽车安全研究和应对提供强大的数据支持和知识基础。</p>
<h5 id="系统概览"><a href="#系统概览" class="headerlink" title="系统概览"></a>系统概览</h5><p>本设计方案旨在创建一个智能汽车网络安全知识管理系统，该系统将支持智能汽车漏洞知识、资产知识、基础攻击知识子图和复杂攻击知识子图的存储管理和快速检索功能。系统的核心功能将包括可视化数据管理、知识数据管理、实体与关系管理以及多知识图谱的动态构建与管理。性能参数将确保系统支持大规模的知识存储和管理需求。</p>
<h5 id="功能细化"><a href="#功能细化" class="headerlink" title="功能细化"></a>功能细化</h5><p>知识存储管理与检索</p>
<p>系统将支持智能汽车漏洞知识、资产知识、基础攻击知识子图和复杂攻击知识子图的存储管理。</p>
<p>通过高效的索引和查询优化，系统将提供快速检索功能，确保用户能够迅速获取所需的安全知识信息。</p>
<p>可视化数据管理</p>
<p>系统将支持面向智能汽车网络安全知识的可视化数据管理。</p>
<p>用户能够通过图谱方式呈现智能汽车复杂攻击场景，并支持拖拽查看细节，以便于理解和分析安全威胁。</p>
<p>知识数据管理</p>
<p>系统将支持智能汽车知识数据管理，包括按模板批量导入、批量导出与删除。</p>
<p>这包括漏洞知识、基础攻击子图和复杂攻击子图，从而提高数据处理的效率和准确性。</p>
<p>实体管理</p>
<p>系统将支持智能汽车网络安全知识模式实体管理。</p>
<p>这涉及对漏洞、资产、基础攻击、复杂攻击知识体的统一表示与管理，确保数据一致性和完整性。</p>
<p>关系管理</p>
<p>系统将支持智能汽车网络安全知识模式关系管理。</p>
<p>这包括管理复杂攻击与基础攻击的包含关系、基础攻击与安全事件的实例关系、安全事件与漏洞的利用关系、漏洞与资产的存在影响关系等。</p>
<p>多知识图谱管理</p>
<p>系统将支持多知识图谱的动态构建与管理。</p>
<p>对于每次试验，系统能够构建独立的、具有时空特征的知识图谱，以满足不同试验场景的需求。</p>
<h5 id="性能设计-2"><a href="#性能设计-2" class="headerlink" title="性能设计"></a>性能设计</h5><p>漏洞知识存储管理</p>
<p>系统将支持10万漏洞知识的存储管理，保证能够处理大量的漏洞信息。</p>
<p>资产知识存储管理</p>
<p>系统将支持20万资产知识的存储管理，确保资产信息的完整性和可用性。</p>
<h5 id="技术实现"><a href="#技术实现" class="headerlink" title="技术实现"></a>技术实现</h5><p>数据存储</p>
<p>采用分布式数据库技术，如NoSQL数据库，以支持高效的数据存储和快速检索。</p>
<p>数据库将优化索引结构，以加速查询性能。</p>
<p>可视化界面</p>
<p>利用现代Web技术如HTML5和SVG，提供丰富的用户界面，支持图谱的动态展示和用户交互。</p>
<p>可视化工具将支持自定义视图和图层，以适应不同用户的需求。</p>
<p>数据管理</p>
<p>提供一套完整的数据管理工具，支持数据的导入、导出、更新和删除。</p>
<p>数据模板将支持XML、JSON等格式，以便于数据的交换和集成。</p>
<p>实体与关系管理</p>
<p>开发实体关系管理模块，以支持复杂的知识表示和关系维护。</p>
<p>使用图数据库技术来表示和存储复杂的实体关系。</p>
<p>知识图谱构建</p>
<p>实现动态知识图谱构建引擎，支持知识的自动关联和图谱的生成。</p>
<p>知识图谱将支持时空特征，以适应不同的试验和分析场景。</p>
<h5 id="系统架构"><a href="#系统架构" class="headerlink" title="系统架构"></a>系统架构</h5><p>前端</p>
<p>前端将采用响应式设计，以支持不同设备和屏幕尺寸。</p>
<p>提供用户友好的导航、搜索和过滤功能。</p>
<p>后端</p>
<p>后端将采用微服务架构，以提供灵活的服务部署和扩展性。</p>
<p>实现API接口，以支持前端和其他系统的数据交互。</p>
<p>安全性</p>
<p>系统将实施严格的安全措施，包括数据加密、用户认证和访问控制。</p>
<p>定期进行安全审计和漏洞扫描，以确保系统的安全性。</p>
<p>本智能汽车网络安全知识管理系统设计方案提供了一个全面的解决方案，支持智能汽车网络安全知识的存储、管理、检索和可视化。系统的性能参数保证了大规模知识的处理能力，技术实现考虑了系统的可用性、可扩展性和安全性。通过该系统，用户可以有效地管理和分析智能汽车网络安全知识，以支持网络安全研究和教育。</p>
<h4 id="方案简介-5"><a href="#方案简介-5" class="headerlink" title="方案简介"></a>方案简介</h4><p>多元网络安全知识库主要支撑建立网络安全场景知识图谱，基于漏洞数据、弱点数据以及攻击数据，建立网络安全知识体系，结合漏洞、基础攻击、弱点和复杂攻击等知识构建网络安全知识图谱。并支持对攻击知识、弱点、漏洞、智能汽车资产管理，以及拥有基础攻击知识子图、复杂攻击知识子图、资产知识以及漏洞知识的高效检索与存储管理功能。</p>
<p>多元网络安全知识库是知识管理系统的多年应用基础上，综合了当前智能汽车网络安全知识领域的管理需求和业务需求，在网络安全有关专家的指导下，结合网络安全攻击行为分析、攻击检测等业务的扩展，设计与研发出的网络安全知识管理系统。基于多元网络安全知识库的需求分析和架构设计，实现系统的功能划分如下图所示。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/f734e829763ec036dc0156c8a5f05849.png"></p>
<p>知识库管理主要是管理智能汽车网络安全知识库实体管理，包括漏洞库、资产库、基础攻击知识库、复杂攻击知识库、知识图谱库的统一表示与管理。漏洞知识的存储管理高达12.8万条，资产知识的存储管理高达22.1万条。</p>
<p>知识全生命周期管理是针对知识产生、知识分类、知识存储、知识应用、更新迭代、停用删除进行管理。网络安全知识产生有三种方式单条新建、批量导入，单条新建是在系统中，线上进行网络安全知识录入，并提交多元网络安全知识库；批量导入是通过知识导入模板，线下进行知识梳理，将梳理结果批量导入多元网络安全知识库。知识分类是将产生的数据，按照一定的规则分类为资产、漏洞、攻击知识。知识存储是将知识存储到知识库，存储方式主要是数据库，存储的时候充分考虑知识的安全性、可访问性和可搜索性。知识应用是指将存储的知识应用于攻击检测、安全分析评估等实际问题解决、决策制定中。因知识不是静态的，它需要不断更新和迭代以保持其有效性和实用性，因此更新迭代模块是及时在知识库中添加新信息、修订过时的内容、跟踪最新的行业知识。针对不再需要的知识或过时的知识，通过停用删除模块进行停用和删除，从而减少知识库的混乱和信息冗余。支持按模板批量导入、批量导出与删除，包括复杂攻击子图、基础攻击子图以及漏洞知识。</p>
<p>知识访问控制是控制用户角色能够访问哪些知识资源以及在什么条件下可以访问，包括读取权限和写入权限。为了确保只有经过身份验证的用户可以访问知识，通常需要采用用户身份验证机制，如用户名和密码等，这有助于保护知识不受未经授权的访问。同时，会基于用户的角色或职责来管理的，不同角色的用户被授予不同级别的访问权限，如管理员可能具有更广泛的权限，而普通员工可能只能查看特定的知识。针对访问记录进行必要的日志记录，有利于监控和追踪知识的访问历史，以便在发生问题或安全事件时进行调查和审计。</p>
<p>知识统计是针对不同类型的知识进行不同维度统计，便于直观了解知识情况，比如数量统计、类型统计、分数统计、程度统计等。</p>
<p>知识备份主要应用于环境变化比如服务器搬迁等场景，将知识备份到另一位置，保证知识免受损坏、丢失等。</p>
<p>可进行多知识图谱的动态构建与管理，能够为每次试验构建独立的、具有时空特征的知识图谱。</p>
<p>多元网络安全知识库模块元素主要包括知识库和知识管理两大类别。其中知识库元素如下表所示：</p>
<table>
<thead>
<tr>
<th>序号</th>
<th>知识库名称</th>
<th>内容描述</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td>资产库</td>
<td>资产库包含汽车相关的硬件资产、操作系统资产、软件资产，资产元素主要包括资产类型、资产名称、资产IP等信息。</td>
</tr>
<tr>
<td></td>
<td>漏洞库</td>
<td>漏洞库中漏洞覆盖硬件漏洞、操作系统漏洞、软件系统漏洞，实现对漏洞数据的集中管理，包括漏洞CVE/CNVD/CNNVD编号、首发时间、危害等级、漏洞类型、威胁类型、漏洞描述。</td>
</tr>
<tr>
<td></td>
<td>弱点知识库</td>
<td>弱点知识库是对弱点数据的集中管理，包括CWE编号、弱点名称、描述、关系、适用平台、常见后果、利用可能性、缓解措施。</td>
</tr>
<tr>
<td></td>
<td>基础攻击库</td>
<td>基础攻击库是对基础攻击的集中管理，可将基础攻击分为探测类、攻击突破类、远程控制、窃取利用类等，描述了包括攻击描述、攻击可能性、威胁等级、技能要求、资源要求、先决条件、执行流程、后果、缓解措施、相关脆弱性、创建时间、修改时间等信息；</td>
</tr>
<tr>
<td></td>
<td>复杂攻击库</td>
<td>复杂攻击是对复杂攻击的集中管理，包括各个攻击步骤的基础攻击名称、利用的漏洞、使用的攻击工具等信息。</td>
</tr>
<tr>
<td></td>
<td>基础攻击子图库</td>
<td>基础攻击子图库是管理基础攻击子图，包括基础攻击与安全事件的关系、安全事件与漏洞的关系、漏洞与资产的关系。</td>
</tr>
<tr>
<td></td>
<td>复杂攻击子图库</td>
<td>复杂攻击子图库是管理复杂攻击子图，包括由哪些基础攻击子图组成。</td>
</tr>
</tbody></table>
<p>知识管理主要包括可视管理和后台管理。可视管理是将智能汽车相关知识采用图谱方式管理，通过节点（Nodes）和边（Edges）表示和描述图中的数据、实体和它们之间的关系，支持对智能汽车复杂攻击场景图谱方式呈现与拖拽查看。节点可以表示资产、漏洞、攻击知识，每个节点通常都有一个唯一的标识符，节点可以包含属性或标签用于描述节点的特征或属性。边可以表示这些知识之间的关联关系，边通常具有方向表示连接的起点和终点，边可以带有属性用于描述关系的特征或属性比如复杂攻击之间的空间属性。后端管理主要是针对知识进行统一删除、批量导入、批量导出、更新、展示等。边用来管理智能汽车网络安全知识模式关系，包括复杂攻击与基础攻击的包含关系、安全事件以及基础攻击之间的实例关系、漏洞以及安全事件之间的利用关系、资产以及漏洞之间存在影响关系。</p>
<h2 id="复杂攻击知识匹配流计算模块"><a href="#复杂攻击知识匹配流计算模块" class="headerlink" title="复杂攻击知识匹配流计算模块"></a>复杂攻击知识匹配流计算模块</h2><h4 id="方案设计-8"><a href="#方案设计-8" class="headerlink" title="方案设计"></a>方案设计</h4><p>功能参数设计为，系统支持智能汽车攻击子图模式的注册与管理，基于消息队列和子图状态。随着智能汽车攻击子图更新，流计算安全知识匹配加载模块同步更新。系统支持基于试验场景知识的智能汽车复杂攻击检测场景流式计算，覆盖车云协同业务场景。针对多试验并发的复杂攻击检测实现高并发流计算，确保不同试验并发计算任务互不干扰。智能汽车攻防演练结束后，根据试验状态注销相应的攻击子图。系统还支持实时流式接收智能汽车安全事件，进行在线知识匹配与关联分析。</p>
<p>性能参数设计为，系统支持复杂攻击实时计算的并发数量达100个，能够在12小时内进行数据流在线匹配关联分析。</p>
<h5 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h5><p>随着智能汽车技术的迅猛发展，车联网安全面临的威胁日益增多。为了保障智能汽车系统的安全性，本方案提出了一个网络安全实时监测与攻击检测系统。该系统将支持智能汽车攻击子图模式的注册与管理，流计算安全知识的匹配加载，复杂攻击的流式计算检测，以及实时的安全事件分析。</p>
<h5 id="系统设计要求概述"><a href="#系统设计要求概述" class="headerlink" title="系统设计要求概述"></a>系统设计要求概述</h5><p>本系统设计将实现以下关键要求：</p>
<p>攻击子图模式注册与管理</p>
<p>支持智能汽车攻击子图模式的注册与管理，基于消息队列和子图状态的模式注册。</p>
<p>流计算安全知识匹配加载模块更新</p>
<p>随智能汽车攻击子图的更新变化，流计算安全知识匹配加载模块将实时更新。</p>
<p>复杂攻击检测场景流式计算</p>
<p>支持基于试验场景知识的智能汽车复杂攻击检测场景流式计算，涵盖车云协同业务场景。</p>
<p>高并发流计算</p>
<p>支持针对多试验并发进行的复杂攻击检测高并发流计算，确保不同试验并发计算任务互相独立。</p>
<p>攻防演练结束后的攻击子图注销</p>
<p>支持智能汽车攻防演练结束后，根据试验状态注销试验对应的攻击子图。</p>
<p>实时流式安全事件接收与分析</p>
<p>支持实时流式接收智能汽车安全事件，并进行在线知识匹配与关联分析。</p>
<h5 id="性能"><a href="#性能" class="headerlink" title="性能"></a>性能</h5><p>复杂攻击实时计算并发</p>
<p>系统将支持复杂攻击实时计算并发100个。</p>
<p>在线匹配关联分析</p>
<p>系统支持12小时内的数据流在线匹配关联分析。</p>
<h5 id="系统设计详述"><a href="#系统设计详述" class="headerlink" title="系统设计详述"></a>系统设计详述</h5><p>攻击子图模式管理</p>
<p>系统将引入一个高效的注册与管理机制，用于智能汽车攻击子图模式。该机制将基于消息队列技术，如Kafka或RabbitMQ，实现子图状态的实时更新和注册。这将允许系统动态地添加、修改或删除攻击模式，以响应新的威胁和漏洞。</p>
<p>流计算安全知识更新</p>
<p>随着攻击子图的连续更新，系统内部的流计算模块将同步更新安全知识库。这一模块将利用流处理框架，如Apache Flink或Apache Storm，实现实时数据处理和复杂事件处理。</p>
<p>复杂攻击检测流式计算</p>
<p>系统将采用流式计算框架对智能汽车复杂攻击场景进行实时监控和检测。该功能将支持基于试验场景知识的计算，覆盖车云协同等多种业务场景，确保在多变的攻击环境中保持高效的检测能力。</p>
<p>高并发流计算设计</p>
<p>为了处理多试验场景下的并发计算需求，系统将设计高并发流计算架构。每个试验将在独立的计算资源上运行，确保计算任务之间的隔离性，防止资源争抢和数据干扰。</p>
<p>攻击子图注销机制</p>
<p>智能汽车攻防演练结束后，系统将提供一种机制，根据试验状态自动注销相关的攻击子图。这包括清理内存中的数据、更新数据库状态以及释放计算资源。</p>
<p>实时流式安全事件处理</p>
<p>系统将具备实时接收智能汽车安全事件的能力，并支持在线知识匹配与关联分析。这将利用复杂事件处理技术，结合安全知识库，实现对攻击行为的快速识别和响应。</p>
<h5 id="技术实现方案"><a href="#技术实现方案" class="headerlink" title="技术实现方案"></a>技术实现方案</h5><p>消息队列与流计算集成</p>
<p>系统将集成消息队列和流计算框架，以实现高效的数据传输和处理。消息队列将负责在系统各部分之间传递消息，而流计算框架将处理这些消息，执行实时的安全分析。</p>
<p>安全知识库</p>
<p>安全知识库将作为系统的核心组件，存储所有攻击模式、漏洞信息和安全事件。知识库将采用图数据库来存储复杂的关系数据，并支持快速的图查询。</p>
<p>并发控制</p>
<p>系统将采用容器化技术，如Docker或Kubernetes，来实现高并发计算任务的隔离和管理。每个容器将运行独立的试验场景，确保系统资源的有效利用。</p>
<p>安全事件接收与分析</p>
<p>实时数据流将通过网络传感器、日志收集器等方式接收，然后通过流计算框架进行处理。系统将利用机器学习和模式识别算法，提高安全事件的检测精度。</p>
<p>本系统设计方案提供了一个全面的智能汽车网络安全监测与攻击检测解决方案。通过集成先进的消息队列、流计算技术和图数据库，系统将能够实时监测并响应智能汽车网络的安全威胁。高并发流计算设计保证了系统在多试验场景下的性能，而实时流式安全事件处理功能能够快速匹配和关联安全事件，提供有效的安全保障。</p>
<h4 id="方案简介-6"><a href="#方案简介-6" class="headerlink" title="方案简介"></a>方案简介</h4><p>针对低延迟、高吞吐量和实时智能汽车相关复杂攻击检测，采用复杂攻击知识图谱流计算模块进行支撑，用于处理实时安全数据流。智能汽车攻击子图模式管理与注册是根据子图状态以及消息队列的模式注册。</p>
<p>随着攻击子图的变化与更新，能够实现流计算安全知识的匹配与加载更新。针对实时、持续、不间断、间隔不定的安全事件数据，通过流计算引擎将其接收，并利用知识匹配的方式，对其复杂攻击组成的攻击步骤进行组合分析，从而产生复杂攻击。智能汽车复杂攻击检测场景流式计算模式，将复杂攻击覆盖车云协同业务场景，流计算匹配流程如下图所示，实时流式接收智能汽车安全事件，进行在线知识匹配与关联分析，系统支持高并发流计算，可同时对多个试验进行复杂攻击检测，而不同试验的并发计算任务是相互独立的，复杂攻击的实时计算并发支持200个，且支持24小时内的数据流在线匹配关联分析。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/6e0243ce36bb8a3af4fae2a5901cd372.png"></p>
<p>复杂攻击知识匹配流计算主要特点包括以下：</p>
<ol>
<li>实时数据流：复杂攻击知识匹配流计算引擎处理连续不断生成的实时数据流，这些数据流主要来自于融合后的安全事件。<ol>
<li>事件驱动：复杂攻击知识匹配流计算引擎是基于安全事件驱动的，针对立即响应到达的安全事件数据进行处理，若无数据达到则不做处理。<ol>
<li>低延迟：复杂攻击知识匹配流计算引擎具有非常低的处理延迟，通常以毫秒或亚毫秒为单位，这样有利于实时生成复杂攻击结果，并流转到下一环节。<ol>
<li>高吞吐量：复杂攻击知识匹配流计算引擎高吞吐量的处理能力，针对靶场汽车相关应用比如安全竞赛、产品众测或攻防演练，通常应用规模较大，也会产生大量的安全事件数据，因此需要较高处理性能应对这一场景。</li>
<li>窗口操作：复杂攻击知识匹配流计算引擎使用窗口操作来处理数据，窗口可以根据时间、事件数量或其他标准对数据进行分组和聚合，以便进行更复杂的分析。</li>
<li>状态管理：复杂攻击知识匹配流计算引擎针对状态信息进行管理和维护，用于在处理数据流时跟踪和聚合信息。</li>
<li>容错性：复杂攻击知识匹配流计算引擎具备容错性，以确保在系统故障或错误发生时能够继续处理数据流，而不会丢失数据或引发不一致性。</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>复杂攻击知识匹配流计算主要包括三大模块元素：复杂攻击知识、复杂攻击场、汽车应用试验。</p>
<p>针对复杂攻击知识，支持进行模板下载，并基于下载好的模板，进行知识整理和文件上传，用于作为复杂攻击匹配的基础知识。复杂攻击场景主要应用于智能汽车场景、OTA升级场景、车云协同场景等汽车场景。汽车应用试验保证试验之间互相独立计算，并在试验结束后进行相关数据销毁，从而释放对应资源。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/d702c15898d2b0dc6d6af4e1e3292f60.png"></p>
<h2 id="多模态网络仿真数据库模块"><a href="#多模态网络仿真数据库模块" class="headerlink" title="多模态网络仿真数据库模块"></a>多模态网络仿真数据库模块</h2><ul>
<li>支持镜像、实物设备、工具、场景模板等元数据的关系数据存储，提供产品功能截图证明；</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/fa3966a363d59a07a7bfd2b082c7b778.png" alt="IMG_256"></p>
<h4 id="方案设计-9"><a href="#方案设计-9" class="headerlink" title="方案设计"></a>方案设计</h4><p>功能参数设计为，系统支持镜像、实物设备、工具、场景模板等元数据的关系数据存储。支持镜像大文件存储和工具、场景模板文件的存储，采用分布式对象存储。系统支持关系数据、文件数据、索引数据、时序数据等多种模态数据的存储和查询。能够将多模态数据映射成靶场标准数据结构，提供物理设备状态、虚拟节点状态和设备状态等时序数据的存储管理。支持试验过程中的配置数据、运行数据、系统配置和资源数据的高可靠存储服务。提供持续文本日志的原始数据存储和索引服务，支持日志数据的存储和快速检索。支持镜像文件、软件工具等大文件数据存储管理服务，确保大文件数据的高并发快速访存。</p>
<p>性能参数设计为，系统支持元数据存储数量达10万条，镜像存储空间为20TB，工具、场景模板等文件存储空间为5TB。</p>
<h5 id="引言-1"><a href="#引言-1" class="headerlink" title="引言"></a>引言</h5><p>随着网络安全实验需求的增加，对于靶场环境中数据的存储与管理提出了更高的要求。本设计方案旨在构建一个高效、可靠的靶场数据存储与管理系统，以支持复杂的网络安全试验场景。该系统将处理包括镜像、实物设备、工具、场景模板等在内的多模态数据，并提供高性能的数据存储、查询和管理服务。</p>
<h5 id="系统设计要求概述-1"><a href="#系统设计要求概述-1" class="headerlink" title="系统设计要求概述"></a>系统设计要求概述</h5><p>元数据关系数据存储</p>
<p>支持镜像、实物设备、工具、场景模板等元数据的关系数据存储。</p>
<p>大文件存储服务</p>
<p>支持镜像大文件存储，及工具、场景模板等文件的存储。</p>
<p>支持文件的分布式对象存储。</p>
<p>多模态数据存储与查询</p>
<p>支持关系数据、文件数据、索引数据、时序数据等多种模态数据的存储和查询。</p>
<p>数据结构映射与时序数据管理</p>
<p>支持将采集到的多模态数据映射成靶场标准的数据结构。</p>
<p>提供物理设备状态、虚拟节点状态和设备状态等时序数据的存储管理。</p>
<p>试验数据高可靠存储服务</p>
<p>支持对试验过程中的配置数据、运行数据、系统配置和资源数据的高可靠存储服务。</p>
<p>日志数据存储与检索</p>
<p>提供持续文本日志的原始数据存储和索引服务。</p>
<p>支持日志数据的存储、快速检索功能。</p>
<p>大文件数据存储管理服务</p>
<p>提供镜像文件、软件工具等大文件数据存储管理服务。</p>
<p>支持大文件数据的高并发快速访存。</p>
<h5 id="技术实施方案"><a href="#技术实施方案" class="headerlink" title="技术实施方案"></a>技术实施方案</h5><p>数据库集成</p>
<p>系统将集成多种数据库服务，每种服务针对其擅长处理的数据类型进行优化配置。这将包括关系型数据库服务、对象存储服务、搜索引擎服务和时间序列数据库服务。</p>
<p>数据映射引擎</p>
<p>数据映射引擎将使用ETL（提取、转换、加载）工具，如Talend或Apache NiFi，来实现数据的转换和标准化。这将确保不同来源的数据能够被系统正确理解和处理。</p>
<p>高可靠性存储架构</p>
<p>系统将采用RAID或分布式副本的方式来确保数据的高可用性和耐久性。这将防止硬件故障导致的数据丢失，并保证数据存储服务的连续性。</p>
<p>日志管理服务部署</p>
<p>日志管理服务将采用成熟的ELK（Elasticsearch, Logstash, Kibana）堆栈，以便于日志的收集、存储、分析和可视化。</p>
<p>大文件数据访问优化</p>
<p>对于大文件数据的存储管理，系统将采用分布式文件系统和CDN技术，以提高数据的传输效率和访问速度。同时，系统将实现智能的数据缓存策略，以减少数据访问延迟。</p>
<p>通过本设计方案，靶场数据存储与管理系统将提供一个全面的数据处理和管理解决方案，满足网络安全实验的需求。系统将支持高性能的数据存储、查询和管理服务，处理多模态数据，并确保试验数据的高可靠性。通过实施本方案，靶场环境将能够更高效地进行网络安全试验，并提供丰富的数据支持。</p>
<h4 id="方案简介-7"><a href="#方案简介-7" class="headerlink" title="方案简介"></a>方案简介</h4><p>在新业务场景和大数据分析等需求的驱动下，多模型数据管理成为近几年成为业界热点。在OLTP领域，自2012年以来相继出现多款多模原生数据库系统（multi-model database system），如OrientDB，ArangoDB等，而Oracle、PG、SQL Server等老牌关系型数据库系统，也陆续增加了对多模型的支持。 对于这种industry-driven的系统和问题， 使用该系统的必要性主要包括两点:一是传统单一的测量方式无法满足当今多样化的研究需求;二是该系统本身具有的一系列功能和优点。</p>
<p>随着网络功能的多样化,而传统单一的评价用户体验、可用性测试等的方法已无法满足具体的多样化的研究需求。多模态数据库用于网络仿真，可以具有多维度数据整合与分析、可视化数据分析界面、功能强大且易用、模块化设计，满足不同研究需求、应用领域极其广泛，传统方法所不具备的其它优势等。</p>
<h2 id="靶场信息库模块"><a href="#靶场信息库模块" class="headerlink" title="靶场信息库模块"></a>靶场信息库模块</h2><ul>
<li>提供靶场人员、靶场设备信息元数据存储和关系查询功能，提供产品功能截图证明；</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/57873fffb7bdb93ab0598635a753e5b8.png"></p>
<p>支持动态实时判定靶场剩余资源，并给出耗尽提示。支持展示靶场中现存的虚拟机、模板、路由器、防火墙等资源等统计信息。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/5ec72a143b5cc840f72232140ab62732.png"></p>
<p>虚拟交换机状态信息</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/b7e10f08b5356c0ae798b650d6de4190.png"></p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/6ecbfbcb499ebe2e3faca44c2e37c363.png"></p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/3c74ae3293ad08e47ae3a2d7fe3db5c2.png"></p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/78fcbd64d6a7471a20477c4dbf6a5512.png"></p>
<p>虚拟资源统计信息查询</p>
<p>支持通过内置云盘实现仿真场景环境与外部环境的文件安全交换功能，可查看内置云盘的使用及剩余空间信息，可查看云盘中现存文件列表，并对其进行分类筛选、搜索等操作。</p>
<p>功能参数设计为，系统提供靶场人员、靶场设备信息元数据存储和关系查询功能。支持靶场服务器CPU、内存、磁盘、网络使用状态等时序数据的存储和查询，包括CPU、内存和磁盘、网络使用状态的日期聚合查询。提供靶场虚拟计算服务器内虚拟交换机状态信息的存储和查询。支持靶场内虚拟资源利用情况的存储和查询，包括虚拟CPU、内存和硬盘的当前使用和超配信息。</p>
<p>性能参数设计为，系统提供50台靶场服务器状态存储和查询的能力，靶场服务器状态信息最低存储间隔支持不高于10秒设置。</p>
<h5 id="引言-2"><a href="#引言-2" class="headerlink" title="引言"></a>引言</h5><p>为了提高靶场的运维效率和资源利用率，本方案旨在构建一个靶场数据管理与监控系统。该系统将实现靶场人员、设备信息元数据的存储与查询，服务器及虚拟资源的时序数据监控，以及高效的状态聚合查询功能。通过该系统，靶场管理者可以快速获取设备状态，优化资源配置，确保靶场的高效运行。</p>
<h5 id="系统设计要求概述-2"><a href="#系统设计要求概述-2" class="headerlink" title="系统设计要求概述"></a>系统设计要求概述</h5><p>靶场人员与设备信息元数据存储和查询</p>
<p>提供靶场人员、靶场设备信息元数据存储和关系查询功能。</p>
<p>服务器状态时序数据存储和查询</p>
<p>提供靶场服务器CPU、内存、磁盘、网络使用状态等时序数据存储和查询。</p>
<p>提供CPU、内存、磁盘、网络使用状态按日期聚合查询功能。</p>
<p>虚拟交换机状态信息存储和查询</p>
<p>提供靶场虚拟计算服务器内虚拟交换机状态信息的存储和查询功能。</p>
<p>虚拟资源利用情况存储和查询</p>
<p>提供靶场内虚拟资源利用情况的存储和查询，包括虚拟CPU、内存和硬盘的当前使用和超配信息。</p>
<h5 id="系统设计详述-1"><a href="#系统设计详述-1" class="headerlink" title="系统设计详述"></a>系统设计详述</h5><p>元数据存储与查询功能</p>
<p>系统将采用关系型数据库管理系统（RDBMS），如PostgreSQL或MySQL，来存储靶场人员与设备信息的元数据。数据库将被设计为支持快速关系查询，以便用户能够通过一个简洁的图形界面查询相关信息。</p>
<p>系统将提供一个用户界面，用以展示靶场人员与设备的信息，并支持截图功能。该界面将允许用户通过筛选条件进行搜索，并将结果以表格或图形的形式展示。用户可以从界面上直接截图，以便于报告制作或记录保留。</p>
<p>服务器状态时序数据存储和查询</p>
<p>系统将集成时序数据库（TSDB），如InfluxDB，来存储服务器的CPU、内存、磁盘和网络使用状态等时序数据。时序数据库优化了时间戳数据的存储和查询，适合处理高频率的数据采集。</p>
<p>聚合查询功能</p>
<p>系统将提供一个聚合查询工具，该工具能够按照日期对服务器的CPU、内存、磁盘和网络使用状态进行分析和查询。这将帮助管理员了解资源的使用趋势，并进行相应的资源调整。</p>
<p>虚拟交换机状态信息存储和查询</p>
<p>系统将扩展其数据库模型，以包含虚拟交换机的状态信息存储和查询。这将允许管理员监控和管理虚拟计算环境中的网络流量和配置状态。</p>
<p>虚拟资源利用情况存储和查询</p>
<p>系统将能够存储和查询靶场内虚拟资源的利用情况，包括虚拟CPU、内存和硬盘的当前使用和超配信息。这些信息将帮助管理员优化虚拟资源的分配，避免资源浪费。</p>
<h5 id="技术实现方案-1"><a href="#技术实现方案-1" class="headerlink" title="技术实现方案"></a>技术实现方案</h5><p>数据库架构设计</p>
<p>关系型数据库：用于存储靶场人员和设备信息的元数据，以及提供关系查询功能。</p>
<p>时序数据库：用于存储服务器状态的时序数据，并支持高频率的数据写入和时间范围查询。</p>
<p>用户界面设计</p>
<p>设计一个直观的用户界面，用于展示和查询靶场数据。</p>
<p>界面将包括实时数据监控、历史数据查询、系统日志和报警系统。</p>
<p>数据采集和监控</p>
<p>部署数据采集代理在靶场服务器上，以收集CPU、内存、磁盘和网络使用状态信息。</p>
<p>采集的数据将以不高于10秒的间隔发送到时序数据库。</p>
<p>数据安全与备份</p>
<p>实施数据加密和访问控制，确保数据的安全性。</p>
<p>定期备份数据库，以防数据丢失。</p>
<p>性能优化</p>
<p>优化数据库索引，加快查询速度。</p>
<p>对时序数据实施数据降采样，以提高存储效率。</p>
<p>通过本设计方案，靶场数据管理与监控系统将为靶场管理员提供一个全面的数据管理和监控平台。系统将支持多种数据类型的存储和查询，包括元数据、时序数据和虚拟资源状态。同时，系统将保证高性能和数据安全性，确保靶场的高效和稳定运行。通过这一系统的实现，靶场运维人员将能够更加便捷地管理和监控靶场资源，提升靶场的运维效率。</p>
<h2 id="试验数据库模块"><a href="#试验数据库模块" class="headerlink" title="试验数据库模块"></a>试验数据库模块</h2><ul>
<li>支持高精准可靠的试验过程流量数据包存储，并发流处理性能2000万个以上，新建流处理性能不低于5万/秒，功能全开启情况下流量存储性能不低于10Gbps，数据包100%进行全包存储（写入机械硬盘）、无截断、无丢包。支持数据包压缩存储，全流量存储到硬盘时，可以选择压缩/不压缩，支持数据包加密存储，加密的方法支持选择SM4国密算法加密、AES(128,192,256)对称加密算法，以及CBC、ECB加密格式；存储容量不低于20TB，能够根据五元组等进行高速流检索和报文获取，数据包检索性能可达300TB/s，检索结果中应能体现详细信息，包括检索范围、检索耗时、检索到的数据包数和会话数量。</li>
</ul>
<p>为保障试验过程的精准度与可靠性，本系统搭载了能力强大的流量数据包存储功能。这个功能在确保高精度数据采集的同时，提供了超过2000万个并发流处理的性能。不仅如此，系统新建流处理的能力也相当强劲，性能不低于5万个流每秒，这样的速率足以应对高负载下的流量处理需求。</p>
<p>即使在功能全开启的情况下，系统的流量存储性能仍能达到10Gbps的高标准。重要的是，它能够实现对数据包的100%全包存储——这意味着每个数据包被完整地写入机械硬盘，既无截断也无丢失，确保流量数据的完整性与精准性。</p>
<p>系统提供了数据包压缩存储的选择，用于优化存储空间使用。用户可以根据需求选择开启或关闭压缩功能，在全流量存储到硬盘时按照需求进行操作。同时，为了提高数据安全性，系统还支持包含SM4国密算法在内的多种数据包加密存储方式。除此之外，还支持常用的AES(128,192,256)对称加密算法以及CBC和ECB等格式，为用户提供了多样化的安全选项。</p>
<p>为了满足数据检索与存储的高要求，系统的存储容量不低于20TB。它配备了高速流检索与报文获取功能，可以基于源/目标IP，源/目标端口，传输协议等五元组信息进行流检索，数据包检索性能达到卓越的300TB/s水平。</p>
<p>在检索结果中，系统能够提供详尽的信息，包括检索的范围、消耗的时间、检索到的数据包数量以及会话的数量。这一综合功能不仅大幅提升了网络试验的效率和质量，同时也使得分析人员在进行网络安全分析、故障诊断和性能评估时，拥有了足够的数据支持。</p>
<p>此系统以其高精准度和优异的可靠性，为现代试验过程中的流量数据包存储与处理设定了新标准，能够满足最苛刻测试环境的需求并确保信息安全，是汽车网络安全试验中不可或缺的重要组成部分。</p>
<h4 id="方案设计-10"><a href="#方案设计-10" class="headerlink" title="方案设计"></a>方案设计</h4><p>功能参数设计为，系统提供试验场景配置数据的存储，包括场景中节点配置信息、节点间连线关系、子网信息、端口信息等，并支持场景配置数据的快速查询。支持虚拟节点状态时序数据的存储管理。提供持续文本日志的原始数据存储和索引服务，支持日志数据的存储和快速检索。支持试验过程中流量数据的存储、监视和导出，支撑试后进行流量回溯和查询。支持根据特征数据（ASCII值、16进制、中文、正则表达式）对数据包进行搜索。支持将接收的网络流量进行实时转发，自定义转发规则，包括BPF、流规则，将符合规则的流量转发到物理网卡上，转发时支持增加GRE、VXLAN封装。支持将检索查询到的历史数据报文回放到指定的物理网卡上，回放过程支持增加GRE、VXLAN的隧道封装，增加、修改VLAN标识，支持设定回放速率，将原始流量按需加速或减速回放，回放速率支持配置包速率或字节速率。</p>
<p>性能参数设计为，系统支持高精准可靠的试验过程流量数据包存储，其并发流处理性能达2000万个以上，新建流处理性能5万/秒，功能全开启情况下流量存储性能10Gbps，数据包100%全包存储（写入机械硬盘）、无截断、无丢包。支持数据包压缩存储，全流量存储到硬盘时可选择压缩/不压缩，支持数据包加密存储，加密方法包括SM4国密算法加密、AES(128,192,256)对称加密算法，以及CBC、ECB加密格式。存储容量为20TB，能够根据五元组等进行高速流检索和报文获取，数据包检索性能可达300TB/s，检索结果中应体现详细信息，包括检索范围、检索耗时、检索到的数据包数和会话数量。支持以10Gbps速率进行转发，支持10Gbps网卡线速回放。</p>
<h5 id="引言-3"><a href="#引言-3" class="headerlink" title="引言"></a>引言</h5><p>在现代网络环境中，对网络流量的管理与分析需求愈发严格。本方案旨在设计一套综合网络流量管理与分析系统，以满足试验场景配置、虚拟节点状态管理、日志存储检索、流量监视导出、特征数据搜索、实时流量转发、历史数据回放等多样化的需求。系统将提供高精准的流量数据包存储与处理能力，确保试验数据的完整性与安全性。</p>
<h5 id="系统设计要求概述-3"><a href="#系统设计要求概述-3" class="headerlink" title="系统设计要求概述"></a>系统设计要求概述</h5><p>试验场景配置数据存储与查询</p>
<p>提供试验场景配置数据的存储，包括节点配置信息、节点间连线关系、子网信息、端口信息等，并支持快速查询。</p>
<p>虚拟节点状态时序数据管理</p>
<p>提供虚拟节点状态时序数据的存储管理。</p>
<p>文本日志数据存储与检索</p>
<p>提供持续文本日志的原始数据存储和索引服务，支持日志数据的存储、快速检索功能。</p>
<p>流量数据存储、监视与导出</p>
<p>提供试验过程中流量数据的存储、监视和导出功能，支持试后流量回溯和查询。</p>
<p>特征数据搜索</p>
<p>支持根据ASCII值、16进制、中文、正则表达式等特征数据对数据包进行搜索。</p>
<p>实时流量转发</p>
<p>支持将接收的网络流量进行实时转发，自定义转发规则，支持增加GRE、VXLAN封装。</p>
<p>历史数据报文回放</p>
<p>支持将检索查询到的历史数据报文回放到指定的物理网卡上，并支持多种回放配置。</p>
<h5 id="性能-1"><a href="#性能-1" class="headerlink" title="性能"></a>性能</h5><p>并发流处理性能：2000万个以上。</p>
<p>新建流处理性能：5万/秒。</p>
<p>流量存储性能：功能全开启下10Gbps。</p>
<p>全包存储：100%，不截断、无丢包。</p>
<p>数据包压缩存储：支持选择压缩/不压缩。</p>
<p>数据包加密存储：支持SM4、AES(128,192,256)、CBC、ECB。</p>
<p>存储容量：20TB。</p>
<p>数据包检索性能：可达300TB/s。</p>
<p>10Gbps网卡线速回放。</p>
<h5 id="系统设计详述-2"><a href="#系统设计详述-2" class="headerlink" title="系统设计详述"></a>系统设计详述</h5><p>试验场景配置数据存储与查询</p>
<p>系统将采用关系型数据库存储试验场景配置数据，支持复杂查询操作。数据库设计将考虑到查询效率，采用适当的索引策略以加快检索速度。</p>
<p>虚拟节点状态时序数据管理</p>
<p>时序数据库将用于存储虚拟节点的状态数据，允许用户根据时间点检索节点状态，以便于分析节点在试验过程中的性能变化。</p>
<p>文本日志数据存储与检索</p>
<p>文本日志将使用全文搜索引擎如Elasticsearch进行存储和索引，提供快速的检索能力，以便用户能够迅速定位到相关日志信息。</p>
<p>流量数据存储、监视与导出</p>
<p>系统将集成高性能的网络流量捕获工具，如Wireshark或tcpdump，以便于流量数据的存储和监视。同时，系统将支持流量数据的导出，以便于试验后的分析。</p>
<p>特征数据搜索</p>
<p>系统将提供一个强大的数据包搜索工具，允许用户根据不同的特征数据进行搜索，包括ASCII值、16进制、中文字符和正则表达式。</p>
<p>实时流量转发</p>
<p>系统将集成流量转发工具，如iptables或专用的网络处理框架，支持用户自定义的BPF、流规则，以及GRE、VXLAN封装的增加。</p>
<p>历史数据报文回放</p>
<p>系统将提供数据报文回放功能，支持在物理网卡上回放历史流量。回放功能将支持增加GRE、VXLAN封装，VLAN标识的修改，以及回放速率的配置。</p>
<h5 id="技术实施方案-1"><a href="#技术实施方案-1" class="headerlink" title="技术实施方案"></a>技术实施方案</h5><p>数据库与存储</p>
<p>关系型数据库用于存储静态配置数据。</p>
<p>时序数据库用于管理动态状态数据。</p>
<p>全文搜索引擎处理文本日志数据。</p>
<p>高性能存储系统用于流量数据包存储。</p>
<p>数据采集与监控</p>
<p>集成网络流量采集工具，实现数据包的捕获与存储。</p>
<p>实时监控工具用于观察网络流量和虚拟节点状态。</p>
<p>数据加密与压缩</p>
<p>提供数据包压缩存储选项，减少存储空间需求。</p>
<p>支持SM4、AES等加密算法，保障数据安全。</p>
<p>流量处理与回放</p>
<p>集成流量处理引擎，实现实时流量转发和过滤。</p>
<p>实现数据报文回放功能，包括回放速率和封装配置。</p>
<p>性能优化</p>
<p>优化存储和检索路径，实现高速数据包检索。</p>
<p>网络硬件和软件选择，确保10Gbps的线速处理和回放。</p>
<p>本系统设计方案提供了一个全面的网络流量管理与分析解决方案，以满足高精准、高性能的数据存储与处理需求。通过本系统的实施，用户将能够有效地管理试验场景配置、监控虚拟节点状态、存储和检索日志数据、分析流量数据，以及执行高速的数据包回放。这将为网络安全和性能分析提供强大的技术支持，确保试验数据的完整性与安全性。</p>
<h4 id="方案简介-8"><a href="#方案简介-8" class="headerlink" title="方案简介"></a>方案简介</h4><p>业务需求：通过建设网络原始流量审计分析系统，将网络中的网络原始流量数据进行获取与记录，提供相关网络安全事件的事后审计能力，完整真实的还原网络安全事件的原始场景，并提供与事件相关的原始报文检索与获取，满足分析需求；提供接口支持第三方系统检索、提取原始流量数据，为进行安全事件检测分析提供数据支撑和检索支撑。</p>
<p>技术需求：网络原始流量审计分析系统旁路部署在网络中，通过分光或者交换机镜像方式接入网络获取和记录数据，实现对网络原始流量的高效存储，同时提供系统接口和可视化操作界面，能够供其它业务系统及分析人员手动提取、检索原始网络报文数据。</p>
<p>系统需求：网络原始流量审计分析系统通过分光或者交换机镜像方式接入网络获取和记录数据，支持多路网络流量的接入，将线路上网络流量数据捕获存储到硬盘上；提供原始流量存储和高效检索功能，支持原始流量全量存储，支持按需提取网络原始流量数据包；提供系统接口和可视化操作界面，能够供其它业务系统或分析人员手动提取、检索原始网络报文数据。系统需包括报文获取、报文存储、磁盘数据管理、数据检索、检索接口、系统管理等功能。</p>
<p>功能指标：提供原始流量存储和高效检索功能，支持原始流量全量存储，支持多网卡输入，支持按需提取网络原始流量数据包，提供接口支持第三方系统检索、提取原始流量数据。</p>
<h5 id="产品功能及性能"><a href="#产品功能及性能" class="headerlink" title="产品功能及性能"></a>产品功能及性能</h5><h6 id="产品功能"><a href="#产品功能" class="headerlink" title="产品功能"></a>产品功能</h6><p>原始流量获取功能支持描述</p>
<ul>
<li>支持EthernetⅡ、PPPoE、Vlan等链路层协议</li>
<li>支持IPV4、IPV6协议</li>
<li>支持分光或者交换机镜像方式接入网络获取数据</li>
<li>支持4个接口数据接入</li>
</ul>
<p>原始流量存储功能</p>
<ul>
<li>支持按BPF规则过滤后存储原始数据包</li>
<li>支持流量写覆盖，当存储空间不足时，可以将最早的数据写覆盖</li>
<li>支持索引机制，提高检索效率</li>
<li>支持数据保序，可以实现报文级保序</li>
<li>支持PTP、NTP时钟同步</li>
<li>支持报文保序后按时间段存入硬盘，便于后续提取</li>
<li>支持流量数据存储、监视和导出功能，支撑试后进行流量回溯和查询；</li>
</ul>
<p>数据检索功能</p>
<ul>
<li>数据的检测支持通过源IP、目的IP、源端口、目的端口、协议号 五元的任意组合进行数据检索</li>
<li>支持检索过程实时展示检索状态，并支持进行多任务并发控制，加速检索及数据读取速度</li>
<li>支持RESTful接口检索控制，及数据读取</li>
<li>支持根据特征数据（ASCII值、16进制、中文、正则表达式）对数据包进行搜索。</li>
<li>支持将接收的网络流量进行实时转发，在数据报文捕获分析的同时，能够自定义转发规则，包括BPF、流规则，将符合规则的流量转发到物理网卡上，转发时支持增加GRE、VXLAN封装；</li>
<li>支持将检索查询到的历史数据报文回放到指定的物理网卡上。回放过程支持增加GRE、VXLAN的隧道封装，回放过程支持增加、修改VLAN标识，支持设定回放速率，将原始流量按需进行加速或者减速回放，回放速率支持配置包速率或字节速率。</li>
</ul>
<p>系统管理功能</p>
<ul>
<li>丰富的用户管理功能，支持增加、修改、删除用户，系统支持普通用户和管理员两个角色</li>
<li>支持用户操作日志记录，管理员可以对日志进行审计</li>
<li>支持设备集群管理、能添加设备、删除设备等操作</li>
<li>支持设备的基本管理：CPU、内存状态，磁盘使用状态，网卡流量统计等功能</li>
<li>支持对查询检索任务的管理：支持创建、停止、重启、删除、查询等功能</li>
<li>支持对查询检索任务的数据下载功能</li>
</ul>
<h6 id="产品性能"><a href="#产品性能" class="headerlink" title="产品性能"></a>产品性能</h6><ul>
<li>支持高精准可靠的试验过程流量数据包存储，并发流处理性能2000个以上，新建流处理性能不低于5万/秒，功能全开启情况下流量存储性能不低于10Gbps，数据包100%进行全包存储（写入机械硬盘）、无截断、无丢包。支持数据包压缩存储，全流量存储到硬盘时，可以选择压缩/不压缩，支持数据包加密存储，加密的方法支持选择SM4国密算法加密、AES(128,192,256)对称加密算法，以及CBC、ECB加密格式；存储容量不低于20TB，能够根据五元组等进行高速流检索和报文获取，数据包检索性能可达300TB/s，检索结果中应能体现详细信息，包括检索范围、检索耗时、检索到的数据包数和会话数量。</li>
<li>支持以10Gbps速率进行转发，支持10Gbps网卡线速回放。数据查询检索性能</li>
</ul>
<h5 id="产品技术方案"><a href="#产品技术方案" class="headerlink" title="产品技术方案"></a>产品技术方案</h5><h6 id="零层设计"><a href="#零层设计" class="headerlink" title="零层设计"></a>零层设计</h6><p>零层架构如下图所示：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/6670a3a102d4c58c0b6a56f4a49bd1b6.png"></p>
<p>设备使用通用X86服务器、操作系统使用linux系统及通用文件系统。</p>
<p>网络报文分析处理系统运行于OS与文件系统之上，通过WEB与RESTful接口统一进行管理，网络报文分析处理系统内部将设计多个模块，各个模块在一层设计中详细设计，每个模块将独立运行，通过消息队列，共享内存等方式传递数据。</p>
<h6 id="一层设计"><a href="#一层设计" class="headerlink" title="一层设计"></a>一层设计</h6><p>一层设计方案如下图</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/b762e684d406226c8bb8a0a6d0894d52.png"></p>
<p>报文从接口接收进入系统后，先通过BPF规则过滤，符合抓包条件的报文将进行缓存，当达到一定数据量时，启动索引建立，并将报文落盘。</p>
<p>WEB提供用户管理及配置：支持增加、修改、删除用户，系统支持普通用户和管理员两个角色；支持管理员对用户的操作进行审计管理；支持对系统所用的服务器进行增加、修改、删除；支持监控并展示服务器的可用状态、磁盘使用情况、网卡流量信息；支持任务的创建、停止、重新启动、删除、查询等操作；支持对检索得到的结果进行按需下载查看。</p>
<p>WEB管理中还支持对NTP的配置，可以指定NTP服务器的IP或域名，系统将会定时通过NTP协议获取当前时间。</p>
<p>并支持网卡的PTP时钟同步。</p>
<p>RESTful可以为第三方软件提供相关接口管理。</p>
<p>检索读取系统为用户提供高速数据检索引读取业务。</p>
<p>在模块技术描述中将重点对BPF过滤系统、索引系统、数据存储系统及检索读取系统做详细的技术描述。</p>
<h6 id="详细设计"><a href="#详细设计" class="headerlink" title="详细设计"></a>详细设计</h6><p>BPF过滤模块</p>
<p>柏克莱封包过滤器（Berkeley Packet Filter，缩写 BPF），是针对TCP/IP报文中<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82">数据链路层</a>，IP层，传输层的一种报文识别接口，能根据用户提供的接口进行有针对性的报文过滤。</p>
<p>BPF将是针对报文进行逐包分析，在二层头分析时，主要分析二层头的type标记内容以下几类：</p>
<ul>
<li>ether type = 0x0800或0x86DD时： 此为普通的二层报文，跳过14字节二层头</li>
<li>ether type = 0x0806时：此为ARP报文，跳过14字节二层头</li>
<li>ether type = 0x0806时：此为VLAN报文，跳过18字节二层头</li>
<li>ether type = 0x88A8时：此为QINQ报文，跳过22字节二层头</li>
<li>ether type = 0x8863或0x8864时： 此为PPPOE报文，跳过14字节二层头</li>
</ul>
<p>而对于三层头分析时，是在跳过二层头之后，分为普通IPV4头分析、存在扩展头的IPV4头分析、普通IPV6头分析，存在扩展头的IPV6头分析，分析方法与上述二展头分析类型，都是直接跳到指定位置读取内容确定类型，然后读取出源IP、目的IP等，然后跳过三层头，四层头也是这类方法。</p>
<p>此模块中提供两部分功能：</p>
<ol>
<li>收包时的BPF处理，用户可以配置自已想要捕获报文进行BPF配置（不配BPF代表全量捕获），进行报文缓存：</li>
<li>检索与读取时的BPF处理，在检索时，可以先通过五元组（源IP、目的IP、源端口、目的端口、协议类型）的任意组合查到所有符合条件的所有报文，然后逐包进行BPF过滤，符合BPF条件的就保留，否则丢弃。</li>
</ol>
<p>过滤报文时，需要进行报文协议分析，二层解析时可支持EthernetⅡ、PPPoE、Vlan等链路层协议，三层解析时支持IPV4、IPV6协议，获取网络报文方式为分光或者交换机镜像方式接入网络获取数据，最大可支持4个接口数据接入。</p>
<p>数据缓存模块</p>
<p>由于前端支持高效BPF过滤，然后缓存于内存中，写入硬盘时，可以将缓存集中写入，因而可以达到5Gbps的报文处理性能，及5Gbps的存储写入性能。</p>
<p>当数据通过BPF过滤后，确定需要缓存时，就会将报文送到缓存模块中。缓存模块将会申请一块足够大的内存，用于存储报文（当前为4G，一个4字节地址空间最大为4G，因而每次缓存4G后直接落盘一个大文件），所有缓存报文按时间顺序排序缓存，且按PCAP抓包格式存放，如下图：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/3c14b096eeffadeed9a29c7df5198534.png"></p>
<p>报文缓存系统中，有两个部分组成：数据包存储区和报文偏移表，如上图所示。每个数据包在写入缓存时，都会加入一个Pcap头，并都有一个顺序标识符pkt-id（上图中的packet XX）。报文偏移表数组将pkt-id映射到数据包跟踪中的偏移量，该偏移量标记相应数据包的开头。这样，当到达输入缓存的最大长度或在指定的最大数据包数之后，我们分别这两部分到硬盘中。读取时，可以通过报文偏移表快速定位到报文所在的位置。</p>
<p>每次将报文写入缓存区时，需要将这个报文对应的五元组信息（源IP、目的IP、源端口、目的端口、协议号）发送给索引管理模块，为索引管理模块提供建立索引的输入数据，具体的如何使用此五元组，以索引管理模块中详细描述。</p>
<p>而之前缓冲区使用4G大小的目的，是使报文偏移表中，每个节点的内容都可以使用4字节，32bit最大可以存储4G大小，不会导致溢出。</p>
<p>当落盘时，将这两部分整体写入硬盘中，分别存一个文件，将记录下这两个文件对应存储的最小报文时间，以及最晚报文时间，便于查询时分析是否要使用这两个文件进行查询处理。</p>
<p>在此模块中，主要的执行步骤如下：</p>
<ol>
<li>收报文时先在报文头部添加Pcap头</li>
<li>然后将报文全部写入缓存区</li>
<li>将报文对应的五元组信息（及此报文对应的pkt-id序号）发送给索引管理模块处理</li>
<li>为此报文在报文偏移表中写入此报文对应的偏移长度</li>
<li>判断缓冲区是否满，如果已满将缓存区写入硬盘、并将报文偏移表写入硬盘</li>
<li>记录这个文件所对应的报文起止时间</li>
</ol>
<p>索引管理模块</p>
<p>当每次写入一个报文时，会收到一个需要处理的五元组信息（及此报文对应的pkt-id序号），并进行索引文件的实时整理刷新，而当缓存区数据满，需要写入硬盘时，索引管理模块在处理完成所有收到的五元组信息时，将此索引文件写入硬盘中。形成每次落盘会有三个文件形成一组，三个文件分别对应：</p>
<ul>
<li>原始报文存储文件</li>
<li>报文偏移表文件</li>
<li>索引文件</li>
</ul>
<p>三个文件对应一组，当查询时如果查询条件中的时间范围中命中这组文件对应的时间时，将进行这组文件的检索。</p>
<p>索引的的建立方式将为每个元素建立一个bitmap表，元素与五元组强相关：</p>
<ul>
<li>PV4时：为源IP的4个字节分别建bitmap表，4个字节分别标记为第一位、第二位、第三位、第四位，目的IP与源IP相同，分别也建立4维的bitmap表</li>
<li>IPV6时，为源IP建立16个bitmap表，分别是第一位到第十六位的bitmap表，目的IP也相同</li>
<li>源端口与目的端口都将建两维的bitmap表</li>
<li>协议号建一维的bitmap表</li>
</ul>
<p>Bitmap表中，每个bit代表是一个pkt-id序号对应的标记，例如，当收一个包的源IP为192.168.0.1的报文时，我们将需要处理的对应的索引为：</p>
<ul>
<li>源IP第一位索引为192（每一位的索引最大有256个，当前处理192，其它的以此类批）</li>
<li>源IP第二位的索引处理为168</li>
<li>源IP第三位的索引处理为0</li>
<li>源IP第四位的索引处理为1</li>
</ul>
<p>具体的处理如下图：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/2877485d3bdd6011d6c12419ed73eed1.png"></p>
<p>如上图所示，当pkt-id为100的报文送过来的源IP为192.168.0.1时，我们为每一位的索引都将此ID的标记置上。</p>
<p>由此我们可以计算得出，总共的最大索引量为：</p>
<ol>
<li>IPV4时：源IP共 4 * 256个索引项、目的IP共4*256个索引项，源端口为2*256个索引项、目的端口为2*256个索引项，协议号为256个索引项</li>
<li>IPV6时：源IP共 16 * 256个索引项、目的IP共16*256个索引项，源端口为2*256个索引项、目的端口为2*256个索引项，协议号为256个索引项</li>
<li>因而在IPV4场景时，最大总索引项为3328个索引项</li>
<li>在IPV6场景时，最大总索引项为9472个索引项</li>
<li>每个索引项占用的空间为总包数的bit数，例如此存储文件共2000万包，那每个索引项最大占用2.5M</li>
</ol>
<p>以上计算的是理论是的最大值，但是现实使用时远远用不了这么多索引项，例如：</p>
<ul>
<li>使用场景中，当协议号只有UDP、TCP、ICMP时，那协议号的索引项只占用3个，并不是256个</li>
<li>而源IP如果只有192.168.0.0/24的网络范围IP时，那IP对应的第一位索引项、第二位索引项、第三位索引项分别都只有一个索引项。</li>
</ul>
<p>数据存储模块</p>
<p>数据存储模块主要负责两大块工作：</p>
<ul>
<li>硬盘的写入与读取工作，当缓存数据满时，会将数据交由数据存储模块完成。需要达到不低于5Gbps的写入性能</li>
<li>当硬盘空间不足时，需要能回收最老的数据，为新数据提供可用硬盘空间。回收果需要将报文数据区、报文偏移表区、索引文件一同回收</li>
<li>数据的读取工作，在检索完成后，可以得到需要读取数据的区域及位置，此模块需要能快速读取硬盘数据</li>
</ul>
<p>因而落盘的过程如下图：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/7c11a12c35d338e0b1d2be96583867a8.png"></p>
<p>在查询过程中，需要通过读取这几个文件进行查询分析，具体步骤如下：</p>
<ol>
<li>先读取出索引文件，分析符合条件的所有报文序号（详细的方案将在检索模块中描述）</li>
<li>再读取出偏移表文件，根据第一步查询出的所有报文序号，读取出所有报文对应的在数据文件的偏移位置</li>
<li>再打开数据文件，逐个报文的读取出数据</li>
<li>最后再将读取出的数据整合成一个PCAP文件写入硬盘</li>
</ol>
<p>具体的操作过程如下图：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/ef01c97fa6324314bc120bc279801e97.png"></p>
<p>检索模块</p>
<p>在输入检索条件后，整个过程分成三部分，前两部分是检索过程，最后一步是读取数据过程。三步分为：</p>
<ol>
<li>读取索引文件，找到哪些报文符合条件（检索过程）</li>
<li>读取偏移表文件，找到所有符合条件报文对应的偏移位置（检索过程）</li>
<li>通过所有报文的偏移位置，到文件位置中读取出所有报文（读取过程）</li>
</ol>
<p>完成以上三部分才完成整个检索及读取过程，如果用户还需要叠加BPF过滤，还需要将读取出来的所有报文通过BPF过滤，最终符合条件的报文才是需要输出的报文，此时再将这些报文整理一个完整的PCAP文件。</p>
<p>第一步的操作是读取索引文件，通过索引文件查找所有符合条件的报文，这里我们将查询条件为源IP：172.16.0.0/16，目的端口：80。具体的整个检索过程如下图所示：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/715b4ae4e6bde49e1be490024722e110.png"></p>
<p>如上图所示，由于源IP是16掩码，由于低两字节是掩码忽略，因而只需要查询第一索引位（172索引）与第二索引位（16索引），目的端口为80，因而第一索引位为0，第二索引位为80。因而总共需要将4个索引位进行与处理（如上图），将4个索引位进行与操作，最终得出有效的是100、200这两个pkt id对应的报文</p>
<p>第二步将是通过pkt id查找到应的偏移位置，如下图：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/434bb33842e08dcfb2712f048a83f6d1.png"></p>
<p>如上图所示，将100、200这两个包对应的偏移通过偏移表中找到对应的值，将计算出每个包的长度（100包的长度 = 101的偏移 – 100的偏移）</p>
<p>最后一步是通过偏移表读取出文件中对应的报文。</p>
<h1 id="智能汽车网络靶场态势分析分系统"><a href="#智能汽车网络靶场态势分析分系统" class="headerlink" title="智能汽车网络靶场态势分析分系统"></a>智能汽车网络靶场态势分析分系统</h1><h2 id="总体概述"><a href="#总体概述" class="headerlink" title="总体概述"></a>总体概述</h2><p>根据试验配置管理分系统的试验配置，基于目标网络管理分系统的试验场景网络拓扑结构和数据采集分系统采集的节点状态、网络流量，智能汽车网络靶场态势分析分系统对靶场内的网络和虚拟节点内信息进行全量分析，并基于TCP、UDP传输协议的syslog安全事件日志实时生成、融合安全事件，利用网络安全知识图谱技术实现实时基础攻击检测和智能汽车安全攻击场景的复杂攻击检测。态势分析数据以宏观可视化、微观可视化的形式将试验中的资产、队伍、人员、攻击等展示在界面上，将态势数据以用户易懂的方式予以呈现。</p>
<h2 id="系统架构-1"><a href="#系统架构-1" class="headerlink" title="系统架构"></a>系统架构</h2><p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/9f4caef8b290c98ec4f3490551926a86.png"></p>
<p>系统架构图如上所示，详细内容包括：</p>
<ul>
<li>前后端分离的企业级微服务架构</li>
<li>基于SpringCloudAlibaba</li>
<li>主要针对解决微服务和业务开发时常见的非功能性需求</li>
<li>深度定制SpringSecurity真正实现了基于RBAC、jwt和oauth2的无状态统一权限认证的解决方案</li>
<li>面向互联网设计，同时适合B端和C端用户</li>
<li>支持CI/CD多环境部署</li>
<li>提供应用管理，方便第三方系统接入，支持多租户(应用隔离)</li>
<li>引入组件化的思想实现高内聚低耦合并且高度可配置化</li>
<li>注重代码规范，严格控制包依赖，每个工程基本都是最小依赖</li>
</ul>
<h2 id="态势分析控制管理模块"><a href="#态势分析控制管理模块" class="headerlink" title="态势分析控制管理模块"></a>态势分析控制管理模块</h2><p>支持试验相关数据概括呈现，包括试验关联队伍、靶标、设备相关数据和试验资产漏洞、基础攻击、有效攻击、复杂攻击等相关安全攻防数据统计与直观展示，需提供产品功能截图证明。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/1d1cdddf78604325aa49f166f9693e86.png" alt="企业微信截图_6e2605f8-a886-43b7-9c5f-1125f1cffa5c"></p>
<p>功能参数设计为，系统支持智能汽车应用试验基础信息的自动与手动同步管理，涵盖夺旗赛、攻防赛、红蓝对抗、综合演练等，依此索引开展任务。监测并管理汽车应用试验分析状态，基于试验操作指令自动转换状态。</p>
<p>试验前配置资产漏洞探测策略，包括探测范围。试验前资产漏洞探测启停指令控制，可重复探测。配置靶向检测策略，针对试验前攻击子图生成与注册控制。试验相关数据概括呈现，包括试验关联队伍、靶标、设备数据和安全攻防数据统计与展示。同步管理应用关联靶标信息，修改补充靶标信息。</p>
<p>统一同步并管理参与试验的队伍信息。统一同步并管理试验拓扑内节点设备，进行重构与管理。试验中基础攻击与复杂攻击数据采集数量统计。试验中靶向检测数据采集运行状态与数据接收时间统计。试验中流量分析数据统计。试验中有效攻击检测数据数量统计。试验结束后进行回放处理，选择时间段、回放速度进行态势数据回放。回放时间段选择试验开始与结束间任意时间段。支持数据快放、慢放处理。回放任务的启停控制。支持靶场多试验任务并行处理与分析。</p>
<p>性能参数设计为，系统支持100个试验并行控制管理。</p>
<h5 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h5><p>本方案旨在构建一个高效、精准的汽车应用试验综合管理系统，用于实现试验基础信息的同步管理、试验状态的监测与管理、试验前配置、数据概括呈现、靶标信息管理、试验拓扑管理、数据采集与统计、试验回放处理以及多试验任务并行处理与分析等多种功能。系统将支持高达100个试验任务的并行控制管理，满足高并发的网络安全试验场景需求。</p>
<h5 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h5><p>基础信息同步管理</p>
<p>自动与手动同步管理：系统将支持自动与手动同步试验的基础信息，覆盖夺旗赛、攻防赛、红蓝对抗、综合演练等多种模式，确保试验任务的准确性和及时性。</p>
<p>试验状态监测与管理</p>
<p>状态监测与转换：系统可基于试验操作指令自动进行状态转换，流畅地过渡试前、试中、试后的各个阶段，确保试验的连续性和有效性。</p>
<p>试验前配置</p>
<p>资产漏洞探测策略：用户可配置资产漏洞探测策略，包括探测范围，以便精确识别潜在风险。</p>
<p>漏洞探测指令控制：支持试验前资产漏洞探测的启动与停止指令控制，允许反复进行探测以确保准确性。</p>
<p>靶向检测策略：用户可根据需要配置靶向检测策略，包括攻击类型等，以便针对性地进行攻击检测。</p>
<p>攻击子图生成与注册：基于试验资产漏洞探测数据与网络安全攻击知识，系统将自动生成试验相关的场景知识图谱，并将攻击子图注册到有效的攻击检测系统中。</p>
<p>数据概括呈现</p>
<p>试验相关数据展示：系统将支持试验相关数据的概括性呈现，涵盖试验关联队伍、靶标、设备相关数据，以及安全攻防数据的统计与直观展示。</p>
<p>靶标信息管理</p>
<p>靶标信息同步管理：系统将支持应用关联靶标信息的自动与手动同步统一管理，确保信息的准确性和一致性。</p>
<p>靶标信息修改补充：用户可对靶标信息进行修改和补充，包括虚拟靶标信息的同步展示以及实物靶标和单位靶标的新增、编辑和删除操作。</p>
<p>试验参与队伍管理</p>
<p>队伍信息管理：系统将统一同步并管理参与试验的队伍信息，支持队伍信息的新增、编辑、删除、批量导入&amp;导出功能。</p>
<p>试验拓扑管理</p>
<p>节点设备管理：支持统一同步并管理试验拓扑内的节点设备，包括虚拟设备和实物设备的信息同步展示，以及实物设备的新增、编辑和删除操作。</p>
<p>拓扑结构重构与管理：系统将支持基于动态变化的试验拓扑数据，进行节点与关系结构的重构与管理。</p>
<p>数据采集与统计</p>
<p>攻击数据统计：系统将支持试验中基础攻击与复杂攻击数据的采集数量统计。</p>
<p>靶向检测数据统计：支持靶向检测数据采集的运行状态与最近数据接收时间的统计。</p>
<p>流量分析数据统计：系统将支持试验中流量分析数据的统计，包括协议占比等。</p>
<p>有效攻击检测数据统计：支持试验中有效攻击检测数据数量的统计。</p>
<p>试验回放处理</p>
<p>试后回放：系统将支持试后数据的回放处理，以供用户对试验过程进行复盘分析。</p>
<p>回放时间段与速度选择：用户可选择任意试验时间段进行态势数据的回放，并可根据需求调整回放速度。</p>
<p>回放时间段选择：支持在试验开始时间与试验结束时间间的任意时间段选择进行数据回放。</p>
<p>快放处理：系统将支持数据的快放处理，倍速包括1.5x、2x、3x、4x。</p>
<p>慢放处理：支持数据的慢放处理，慢放倍速为0.5x。</p>
<p>回放控制操作：用户将能够控制回放任务的启动与停止。</p>
<p>多试验任务并行处理与分析</p>
<p>并行处理与分析：系统将支持靶场多试验任务的并行处理与分析，确保每个试验任务的独立性和系统整体的高效运作。</p>
<h5 id="性能-2"><a href="#性能-2" class="headerlink" title="性能"></a>性能</h5><p>并行控制管理：系统支持100个试验任务的并行控制管理，确保能够处理大规模的试验需求。</p>
<p>本方案提出的汽车应用试验综合管理系统，通过其全面的功能和高性能的设计，将极大地提升试验的效率和精确度。系统的实施将为汽车网络安全试验提供强有力的技术支持，确保试验的高效进行和结果的准确性。</p>
<h4 id="方案简介-9"><a href="#方案简介-9" class="headerlink" title="方案简介"></a>方案简介</h4><p>针对每一个试验任务，智能汽车网络靶场态势分析分系统需建立一个对应的态势分析任务，提供态势分析任务的管理界面，支持试验基础信息自动与手动同步管理，包括夺旗赛、攻防赛、红蓝对抗、综合演练等。支持对试验态势分析任务、参与队伍、成员及网络拓扑节点的集中管理，至多支持200个试验并行管理。支持试验分析状态的监测与管理，包括试前、试中、试后的转换，状态转换是根据试验操作指令自动进状态转换。且支持基于syslog安全事件日志自主修改安全事件融合与格式解析规则。</p>
<p>试验开始前，根据试验配置管理分系统同步的任务信息，可配置资产漏洞探测策略，涵盖探测范围。也可配置靶向检测策略，涵盖攻击类型。也可对靶标信息进行修改补充信息，从目标网络同步虚拟靶标信息进行展示、并且能够添加、修改以及删除单位靶标以及实物靶标。还可配置当前分系统的态势分析任务的人员信息和试验类型，除了传统的试验场景之外，对智能汽车业务仿真场景也支持相关态势分析配置与控制。应用关联靶标信息自动与手动同步统一管理，其中涵盖了单位靶标、实物靶标以及虚拟靶标。统一同步并管理参与试验的队伍信息，支持对试验的参与队伍进行添加、修改、删除、批量导入和导出的功能。统一同步并管理试验拓扑内的节点设备，包括虚拟设备和实物设备。支持从目标网络同步设备信息进行展示，且能够对添加、修改和删除实物设备。系统具备生成攻击子图的能力，并且支持相应的注册控制,基于网络安全攻击知识以及试验资产漏洞探测数据,系统可以产生试验相关场景知识图谱,并将攻击子图自动注册到有效攻击检测。可以动态变化的试验拓扑数据，进行试验拓扑节点与关系结构重构与管理。基于不同试验类型的场景，可规划态势的子任务，其中包括网络场景的流量检测、漏洞扫描、资产探测等，可进行资产漏洞探测启动与停止指令控制，态势分析的数据基础基于试前所配置的子任务，由用户自主选择单个试验需要采集、分析的数据。试验进行时，基于试前分配的子任务，实时基于采集数据进行态势分析检测，且支持在过程中控制分析的暂停或启动状态。靶场的多个试验环境是相互隔离进行的，数据采集、数据分析也是独立进行的。分系统支持多个试验并行处理分析及态势可视化展示，确保靶场多任务正常进行。可进行靶向检测数据采集运行状态、流量分析数据统计、基础攻击采集数量统计、最近数据接收时间统计、有效攻击检测数据数量统计以及复杂攻击数据采集数量统计等。</p>
<p>试验进行时，基于试前分配的子任务，实时基于采集数据进行态势分析检测，且支持在过程中控制分析的暂停或启动状态。靶场的多个试验环境是相互隔离进行的，数据采集、数据分析也是独立进行的。分系统支持多个试验并行处理分析及态势可视化展示，确保靶场多任务正常进行。可进行基础攻击与复杂攻击数据采集数量统计、最近数据接收时间统计、流量分析数据统计、靶向检测数据采集运行状态、有效攻击检测数据数量统计等。</p>
<p>试验结束后，可查看所有试验任务数据的态势可视化展示，掌握检测设备在线状态，试验相关数据概括呈现，包括靶标、基础攻击、有效攻击、复杂攻击、试验资产漏以及设备相关数据和试验关联队伍等。该模块还可支持试后回放,能够选择时间段、回放速度对态势数据进行回放,涵盖了复杂攻击的回放以及基础攻击的回放,试验开始时间与试验结束之间的任意时间段都可以进行回放,分快放和慢放,快放倍速为:1.5倍速、2倍速、3倍速、4倍速,慢放倍速为:0.5倍速,可进行启动以及停止回放。</p>
<p>基于态势分析控制管理模块的功能划分，该模块的主要元素包括试验管理和数据统计与展示管理，其中试验管理包含了试验状态控制和相关信息的管理，数据统计与展示管理包括数据采集和可视化展示的功能。所有在该模块配置的内容，均会直接关系到智能汽车网络靶场态势分析任务的实施与分析。</p>
<p>多试验任务处理子模块具备同时处理和分析靶场中多个试验任务的能力，确保高效而独立的任务执行。最高可进行150个试验的并行管理与控制。</p>
<p>详细子模块如下所示:</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/c7f50dd9c3f91c6f1e6648ba29510d5c.png"></p>
<h2 id="网络安全场景知识图谱模块"><a href="#网络安全场景知识图谱模块" class="headerlink" title="网络安全场景知识图谱模块"></a>网络安全场景知识图谱模块</h2><p>可基于网络安全知识图谱中的知识，结合靶场汽车应用试验关联的节点、资产、漏洞数据，构建应用试验相关的试验场景图谱，支撑攻击检测分析与扩展研究，知识图谱关联的节点至少应包含被测车辆、零部件、虚拟化MCU、虚拟化MPU等4种类型，关联的资产至少应包含整车品牌、车型、车辆、车型项目（年款）、包含的零部件的硬件平台、操作系统内核版本信息、固件版本、中间件版本、应用程序版本等9类信息，漏洞数据至少包含漏洞名称、CVE编号、涉及平台、危害级别、漏洞类型、公开日期等6类信息。以上信息均可在同一个子图中以可视化的形式展现；</p>
<p>基于网络安全知识图谱的丰富知识，结合与靶场汽车应用试验关联的多个要素，可以构建出强大而全面的应用试验相关的试验场景图谱。这个知识图谱将为攻击检测分析和进一步的扩展研究提供坚实的基础。在这个知识图谱中，将聚焦于多种类型的关联节点，涵盖了汽车领域的关键组成部分。</p>
<p>以下是知识图谱关联的主要节点类型，每种节点类型都以可视化的方式展现：</p>
<ol>
<li>包含了汽车的标识信息、车型和车辆特性等。</li>
<li>可以清晰地显示被测车辆的属性和特征。</li>
<li>涵盖了车辆中各个组件的信息，如引擎、制动系统、安全气囊等。</li>
<li>提供了零部件的类型、型号和技术规格等详细信息。</li>
<li>包括了虚拟化MCU的配置和性能参数要求，用于车辆电子系统的控制。</li>
<li>可视化展示虚拟化MCU的组成和功能。</li>
<li>包括了虚拟化MPU的信息，这是车辆计算平台的核心。</li>
<li>提供了虚拟化MPU的性能规格和操作系统信息。</li>
</ol>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/c118e0eb35ebf833bac3e512637518e2.png" alt="1703529971945"></p>
<p>试验场景图谱</p>
<p>在知识图谱的节点之间，还包括了关联的资产信息，这些信息涵盖了广泛的领域，如：</p>
<ol>
<li>识别汽车的制造商和品牌信息，以便确定车辆的制造背景。</li>
<li>确定车辆的具体型号和车型名称，以区分不同类型的汽车。</li>
<li>提供关于每辆车辆的详细信息，包括车辆的VIN号、注册信息等。</li>
<li>包括车型的不同年份版本，以跟踪车型的发展历程。</li>
<li>描述车辆零部件的硬件平台和技术规格。</li>
<li>提供车辆系统使用的操作系统内核的版本信息，以便安全性分析。</li>
<li>记录车辆各个组件的固件版本号，以便检测潜在漏洞。</li>
<li>包括车辆中使用的中间件的版本和配置信息。</li>
<li>提供车辆中运行的应用程序的版本和相关信息。</li>
</ol>
<p>最后，还将整合漏洞数据，其中包括漏洞的名称、CVE编号、涉及平台、危害级别、漏洞类型和公开日期等关键信息。这些数据将与其他节点相互关联，以帮助系统分析漏洞对车辆和零部件的潜在威胁。整个知识图谱将为智能汽车网络靶场提供全面的视图，帮助分析和解决安全挑战。</p>
<p>功能参数设计为，系统支持从互联网公开渠道获取智能汽车相关结构化和非结构化数据，自动抽取知识要素。基于CVSS3标准进行漏洞分数与漏洞危害等级关联映射。基于关键词识别漏洞描述，进行漏洞类型分类关联补全。从漏洞信息中抽取汽车漏洞实体与资产实体间关系。多维数据关联分析知识体系建立统一知识表示规范。联网自动进行汽车知识获取、抽取与更新。外网IP情报知识离线获取与更新，关联IP所属国家区域属性。基于抽取知识构建汽车网络安全知识图谱，支持知识更新。管理资产知识、漏洞知识、攻击知识，构建应用试验相关试验场景图谱。靶场试验场景图谱支持知识子图表示，快速联邦靶场间知识共享。基础攻击知识子图与复杂攻击知识子图注册到流计算引擎，支持复杂攻击检测。</p>
<p>性能参数设计为，资产知识对公开CPE覆盖率95%，漏洞知识对公开CVE覆盖率95%，攻击知识对公开CAPEC覆盖率95%，复杂攻击知识子图50种。</p>
<h4 id="方案设计-11"><a href="#方案设计-11" class="headerlink" title="方案设计"></a>方案设计</h4><p>随着智能汽车技术的迅猛发展，网络安全已成为汽车行业关注的焦点。为了有效防御针对智能汽车的网络攻击，构建一个全面的网络安全知识图谱是至关重要的。本方案旨在通过自动化技术支持智能汽车相关数据的获取、漏洞知识的抽取、资产知识的管理、攻击知识的构建及其更新，从而为智能汽车提供坚实的网络安全知识支持。</p>
<p>数据获取与知识抽取</p>
<p>智能汽车相关数据获取：支持从互联网公开渠道获取结构化和非结构化智能汽车相关数据，包括CVE、CNNVD、CNVD等，支持JSON、XML等多种数据文件格式。</p>
<p>知识要素自动抽取：支持基于标准规范模板从大规模多源信息中自动抽取智能汽车漏洞知识、资产知识、攻击知识等要素。</p>
<p>漏洞分数与等级映射：支持基于CVSS3标准进行漏洞分数与漏洞危害等级的关联映射，并支持调整配置参数进行手动修正。</p>
<p>漏洞类型分类关联补全：支持基于关键词对漏洞描述进行识别，进而进行漏洞类型的分类关联补全。</p>
<p>漏洞与资产关系抽取：支持从漏洞信息中抽取出汽车漏洞实体与汽车资产实体之间的关系，以及基于攻击信息进行攻击与漏洞之间的关系抽取。</p>
<p>多维数据关联分析：支持基于多维数据关联分析知识体系建立统一的知识表示规范，用于关联攻击、漏洞与资产之间的关系。</p>
<p>知识自动获取与更新：支持联网情况下，自动进行汽车知识的获取、抽取与更新。</p>
<p>IP情报知识离线获取与更新：支持外网IP情报知识离线获取与更新，关联IP所属国家与区域等属性，支持分析与可视化展示。</p>
<p>知识图谱构建与管理</p>
<p>汽车网络安全知识图谱构建：支持基于抽取得到的资产知识、漏洞知识、攻击知识，构建汽车网络安全知识图谱，并支持知识的持续更新。</p>
<p>资产知识管理：支持资产知识的管理，包括操作系统、应用程序对应的产品名称、版本、关联厂商等信息。</p>
<p>漏洞知识管理：支持漏洞知识的管理，包括漏洞CVE编号、危害等级、漏洞类型、威胁类型、漏洞描述等信息。</p>
<p>汽车漏洞知识覆盖：支持汽车漏洞知识的全面覆盖，包括车端网联零部件相关的多种漏洞类型，资产包括TBOX、网关、车机等，数量达到2000个。</p>
<p>漏洞知识批量管理：支持对漏洞知识的批量新增、更新、删除，并支持基于属性的条件模糊查询。</p>
<p>漏洞知识统计：支持对漏洞知识按年份、CVSS分数、漏洞类型和威胁程度进行统计。</p>
<p>漏洞知识关联查询：支持漏洞知识关联受影响的操作系统、硬件、软件表示，并支持模糊查询。</p>
<p>弱点知识管理：支持弱点知识管理，包括CWE编号、描述、关系、适用平台等信息。</p>
<p>漏洞与弱点知识关联：支持漏洞知识与弱点知识基于弱点编号引用进行关联。</p>
<p>基础攻击知识管理：支持基础攻击知识管理，包括攻击编号、名称、可能性等信息，覆盖多种攻击分类。</p>
<p>基础攻击知识批量管理：支持对基础攻击知识的批量新增、更新、删除，并支持基于属性的条件模糊查询。</p>
<p>复杂攻击知识管理：支持复杂攻击知识管理，包括攻击步骤、利用的漏洞等信息。</p>
<p>汽车攻击场景复杂攻击知识管理：支持汽车攻击场景的复杂攻击知识管理，包括攻击类型、漏洞等信息。</p>
<p>复杂攻击知识批量管理：支持对复杂攻击知识的批量新增、更新、删除，并支持基于属性的条件模糊查询。</p>
<p>知识实体属性与关系表示：支持对资产、攻击、漏洞等知识实体的属性和相互关系的表示，并以结构化数据进行组织。</p>
<p>试验场景图谱构建：可基于网络安全知识图谱中的知识，结合靶场汽车应用试验关联的节点、资产、漏洞数据，构建应用试验相关的试验场景图谱，支撑攻击检测分析与扩展研究。</p>
<p>知识子图表示：靶场试验场景图谱支持知识子图的表示，快速实现联邦靶场之间的知识共享，支持在线同步。</p>
<p>基础攻击知识子图：表示包括基础攻击类型与安全事件的实例关系，基础攻击类型与漏洞的利用关系，漏洞与资产的存在关系。</p>
<p>攻击子图分类表示：包括探测型、破坏型、控制型、资源消耗型攻击子图表示。</p>
<p>探测型攻击子图内容：包含漏洞软件扫描、资源泄漏暴露等。</p>
<p>破坏型攻击子图内容：包含对象注入、协议篡改等。</p>
<p>攻击子图模糊查询与展示：支持基于攻击名称对某类型攻击子图进行模糊查询，并以图谱方式展示。</p>
<p>复杂攻击知识子图：由基础攻击知识子图的正确组合构成，表示基础攻击的时序关系和空间关系。</p>
<p>复杂攻击子图表示：包括APT攻击、僵尸网络、DDoS等，并进行可视化展示。</p>
<p>APT攻击子图表示：包含海莲花攻击、夜龙攻击等APT攻击子图表示。</p>
<p>智能汽车网络靶场攻击子图表示：支持车云业务入侵攻击等智能汽车网络靶场联网业务攻防演练场景攻击子图表示。</p>
<p>攻击子图注册与检测支持：支持将基础攻击子图与复杂攻击子图注册到流计算引擎，支撑进行复杂攻击检测与有效攻击检测。</p>
<h3 id="方案简介-10"><a href="#方案简介-10" class="headerlink" title="方案简介"></a>方案简介</h3><p>基于实际试验任务环境资产、漏洞等信息，将场景知识图谱结合业务环境，具备从全局视角分析攻击，从宏观层面检测攻击的能力，从而避免大量的误报。利用知识图谱的知识抽取、知识融合、知识自主更新、知识推理等特点实现自动抽取网络安全知识、准确检测攻击还原攻击链的功能，功能中包括：基于标准规范模板从大规模多源的信息中，自动抽取知识要素；漏洞危害等级和漏洞分数是根据CVSS3标准进行对应,可自行修改相关参数调整关联;还可以进行漏洞类型的分类关联补全，这是根据关键词对漏洞描述进行识别的；可进行多维数据关联分析知识体系建立统一的知识表示规范处理，用于关联攻击、漏洞与资产之间的关系。在联网情况下，可以从互联网公开渠道获取结构化和非结构化智能汽车相关数据如CVE、CNNVD、CNVD，包括JSON、XML等数据文件格式，自动进行汽车知识获取、抽取与更新，同时进行离线获取和更新外网IP情报知识，关联IP的国家和区域等属性，以辅助分析并通过可视化方式展示。能够根据攻击信息进行漏洞以及攻击之间的关系抽取，也能够根据漏洞信息中抽取出汽车资产实体以及汽车漏洞实体之间的关系。CPE的覆盖率高达98.2%，CVE的覆盖率95.5%，CAPEC的覆盖率97.1%。还可以根据资产知识管理，包括操作系统、应用程序对应的产品名称、版本、关联厂商。</p>
<p>为了建立汽车靶场的知识图谱体系，提供针对汽车攻防场景相关的攻击资源库，其中包含与汽车攻防相关的漏洞资源库、弱点资源库、基础攻击资源库和复杂攻击资源库，资源库各类知识相关的资产主要分为硬件、软件和操作系统。漏洞分类包括硬件漏洞、软件漏洞和操作系统漏洞，基础攻击分类基于攻击方式主要包括探测类、攻击突破类、远程控制和窃取利用类等。可将抽取得到的资产知识、漏洞知识、攻击知识，构建汽车网络安全知识图谱，并支持知识更新，并且可以进行资产知识、漏洞知识管理，其中涵盖了包括漏洞描述、威胁类型、漏洞类型、漏洞CVE编号、危害等级。</p>
<p>汽车漏洞知识数量大于2000个，涵盖类型包括车端网联零部件相关的漏洞：</p>
<ol>
<li>内存溢出</li>
<li>目录穿越</li>
<li>整数溢出</li>
<li>解析错误</li>
<li>HTTP响应伪造</li>
<li>越权访问</li>
<li>ShellCode</li>
<li>HTTP请求伪造</li>
<li>SQL注入</li>
<li>代码执行</li>
<li>任意文件创建</li>
<li>缓存区过读</li>
<li>远程密码修改</li>
<li>暴力破解</li>
<li>远程溢出</li>
</ol>
<p>漏洞影响资产包括：</p>
<ol>
<li>远程控车</li>
<li>数字钥匙</li>
<li>中央处理单元</li>
<li>各类域控制器</li>
<li>TBOX</li>
<li>网关</li>
<li>车机以及</li>
<li>OTA</li>
<li>AVP</li>
</ol>
<p>可对漏洞知识的批量删除、更新、添加，并支持基于属性按条件模糊查询，并且将按威胁程度、漏洞类型、年份以及CVSS分数进行统计，漏洞知识还会关联受影响的操作系统、硬件、软件表示，支持条件查询、模糊查询。同时，可进行弱点资源库管理，每一条信息包括利用可能性、描述、关系、常见后果、适用平台、CWE编号、缓解措施等，同时漏洞知识基可以于弱点编号引用，也就是CWE编号进行关联。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/5c9c74bf7baa1e19064de1d1742f5794.png" alt="IMG_256"></p>
<p>在汽车攻防资源库中的知识支撑下，网络安全知识图谱中的知识结合靶场汽车应用试验关联的资产、漏洞、节点数据构建汽车场景的网络安全知识图谱，支撑攻击检测分析与扩展研究，知识图谱基于本体及本体关系的构建，支持表示实体属性及相互关系的表示，包括漏洞与资产型号的存在关系、基础攻击类型与漏洞的利用关系、基础攻击类型与攻击事件的从属关系。在同一个子图中以可视化形式中，虚拟化MPU、零部件、被测车辆、虚拟化MCU等4种类型的节点与知识图谱关联，关联的资产会包含应用程序版本、车型项目（年款）以及固件版本与中间件版本、操作系统的内核版本信息、车辆型号和车辆和整车品牌以及零部件的硬件平台等9类信息，漏洞的信息涵盖公开日期、漏洞的名称、危险级别、涉及的平台（如Windows或Linux）、漏洞类型、CVE编号等6类信息。以上信息均可在同一个子图中以可视化的形式展现。</p>
<p>基础攻击详细属性涵盖了相关脆弱性、缓解措施、先决条件、执行流程、威胁等级、技能要求、攻击名称、资源要求、后果、攻击可能性、攻击编号。基础攻击分类包括超危窃取利用类、高危远程控制、低危扫描探测类、中危攻击突破类。基础攻击页面上可以批量删除、更新、添加，并支持基于属性按条件模糊查询相关知识。同样的，也可对复杂攻击知识进行管理，包括各个攻击步骤的基础攻击编号、利用的漏洞、使用的工具、时空关系，可批量删除、更新、添加。</p>
<p>试验场景图谱中，知识子图涵盖了复杂攻击知识子图以及基础攻击知识子图，可以和分布式联邦靶场在线同步知识，快速在靶场与靶场之间实现知识共享，将子图注册到流计算引擎，可以利用该引擎进行有效攻击检测，也可利用流计算引擎进行复杂攻击检测。除此之外，还存在专门针对智能汽车网络的车载云服务的入侵攻击。除此之外，还存在一种专门针对智能汽车网络的入侵攻击，这被称为车云业务。这种攻击形式涉及联网业务汽车的攻防演练场景，特别是在智能汽车网络靶。</p>
<p>基础攻击知识子图，涵盖了资产以及漏洞之间的存在关系，漏洞以及基础攻击类型之间的利用关系，安全事件以及基础攻击类型之间的实例关系，这些类型涵盖了资源消耗型、探测型、控制型、破坏型攻击子图等。</p>
<p>其中探测型基础攻击子图包含：</p>
<ol>
<li>漏洞软件扫描</li>
<li>资源泄漏暴露</li>
<li>目录索引</li>
<li>未公开的网页检测</li>
<li>信息启发</li>
<li>TCP连接扫描</li>
</ol>
<p>破坏型基础攻击子图包含：</p>
<ol>
<li>对象注入</li>
<li>协议篡改</li>
<li>鱼叉式网络钓鱼</li>
<li>身份认证滥用</li>
<li>功能绕过</li>
<li>过度资源分配</li>
<li>跨站脚本（XSS）攻击</li>
<li>点击劫持</li>
<li>SQL盲注</li>
<li>代码注入</li>
<li>XML注入</li>
<li>TCP泛洪</li>
</ol>
<p>可以使用攻击名称进行模糊查询，查找特定类型的攻击子图。查询结果将以图谱形式展示所选攻击子图，呈现漏洞以及操作系统（或软件）的相互联系、漏洞以及基础攻击的相互联系、安全事件以及弱点相互联系、基础攻击以及安全事件之间相互联系。</p>
<p>复杂攻击知识子图是由按照一定关系基础攻击知识子图组合而成的，能够呈现基础攻击之间的时序关系，并且能够展现这些基础攻击在空间上的关联关系。简而言之，它是基础攻击知识的有序组合，用以表示攻击在时间和空间上的交互关系。其中包含蠕虫攻击、APT攻击、DDoS、僵尸网络等67种攻击子图表示，并以图谱的方式进行可视化展示。APT攻击类复杂攻击子图包含常见的NetTraveler APT、Luckycat APT、Heartbea APTt、Turla APT、夜龙 APT、Ke3chang APT、MiniDuke APT、海莲花 APT等APT攻击子图。</p>
<p>界面展示上以图标表示实体，连线代表关系，每一种实体采用不同颜色区分：红色代表复杂攻击、橙色代表基础攻击、黄色代表安全事件、紫色代表漏洞、玫红色代表弱点、蓝色代表资产。</p>
<p>知识图谱包括基础攻击子图和复杂攻击子图，在界面列表中在相关试验下展示，点击试验的图谱数量，展开或收起图谱详情，单击图谱在画布中进行内容切换。试验列表支持根据试验名称进行模糊检索。</p>
<p>基础攻击子图通过按攻击类型分类，展示了基础攻击与安全事件、漏洞利用、相关弱点之间的关系。而复杂攻击子图则是通过组合基础攻击子图构建而成，主要呈现了在汽车攻击场景中的复杂攻击知识，包括时空关系、攻击步骤以及漏洞利用等方面的信息。在画布中单击实体节点，弹窗显示对应实体详情。各实体的详情字段见下表。</p>
<table>
<thead>
<tr>
<th>实体</th>
<th>详情字段</th>
</tr>
</thead>
<tbody><tr>
<td>资产</td>
<td>资产IP</td>
</tr>
<tr>
<td></td>
<td>资产名称</td>
</tr>
<tr>
<td></td>
<td>资产类型</td>
</tr>
<tr>
<td></td>
<td>重要程度</td>
</tr>
<tr>
<td></td>
<td>资产描述</td>
</tr>
<tr>
<td>漏洞</td>
<td>漏洞编号</td>
</tr>
<tr>
<td></td>
<td>首发时间</td>
</tr>
<tr>
<td></td>
<td>危害等级</td>
</tr>
<tr>
<td></td>
<td>漏洞类型</td>
</tr>
<tr>
<td></td>
<td>威胁类型</td>
</tr>
<tr>
<td></td>
<td>漏洞描述</td>
</tr>
<tr>
<td>弱点</td>
<td>弱点编号</td>
</tr>
<tr>
<td></td>
<td>弱点名称</td>
</tr>
<tr>
<td></td>
<td>描述</td>
</tr>
<tr>
<td></td>
<td>关系</td>
</tr>
<tr>
<td></td>
<td>适用平台</td>
</tr>
<tr>
<td></td>
<td>常见后果</td>
</tr>
<tr>
<td></td>
<td>利用可能性</td>
</tr>
<tr>
<td></td>
<td>缓解措施</td>
</tr>
<tr>
<td>安全事件</td>
<td>安全事件ID</td>
</tr>
<tr>
<td></td>
<td>检测时间</td>
</tr>
<tr>
<td></td>
<td>源IP</td>
</tr>
<tr>
<td></td>
<td>源端口</td>
</tr>
<tr>
<td></td>
<td>目的IP</td>
</tr>
<tr>
<td></td>
<td>目的端口</td>
</tr>
<tr>
<td></td>
<td>源MAC</td>
</tr>
<tr>
<td></td>
<td>目的MAC</td>
</tr>
<tr>
<td></td>
<td>协议</td>
</tr>
<tr>
<td></td>
<td>描述</td>
</tr>
<tr>
<td>基础攻击</td>
<td>规则ID</td>
</tr>
<tr>
<td></td>
<td>攻击名称</td>
</tr>
<tr>
<td></td>
<td>攻击可能性</td>
</tr>
<tr>
<td></td>
<td>威胁等级</td>
</tr>
<tr>
<td></td>
<td>技能要求</td>
</tr>
<tr>
<td></td>
<td>资源要求</td>
</tr>
<tr>
<td></td>
<td>先决条件</td>
</tr>
<tr>
<td></td>
<td>执行流程</td>
</tr>
<tr>
<td></td>
<td>后果</td>
</tr>
<tr>
<td></td>
<td>缓解措施</td>
</tr>
<tr>
<td></td>
<td>相关脆弱性</td>
</tr>
<tr>
<td></td>
<td>创建时间</td>
</tr>
<tr>
<td></td>
<td>修改时间</td>
</tr>
<tr>
<td></td>
<td>攻击描述</td>
</tr>
<tr>
<td>复杂攻击</td>
<td>攻击名称</td>
</tr>
<tr>
<td></td>
<td>基础攻击步骤</td>
</tr>
<tr>
<td></td>
<td>基础攻击检测时间</td>
</tr>
<tr>
<td></td>
<td>基础攻击利用漏洞</td>
</tr>
<tr>
<td></td>
<td>基础攻击使用工具</td>
</tr>
<tr>
<td></td>
<td>复杂攻击空间关系</td>
</tr>
</tbody></table>
<h2 id="攻击检测研判模块"><a href="#攻击检测研判模块" class="headerlink" title="攻击检测研判模块"></a>攻击检测研判模块</h2><p>功能参数如下：</p>
<ol>
<li>支持基础攻击去重，基于基础攻击类型知识体系中不同攻击类型的去重策略进行去重，去重策略包括二元组、三元组、四元组。</li>
<li>支持对基础攻击数据进行可链标记，用于后续复杂攻击关联分析。</li>
<li>支持基于试验的资产漏洞探测结果，对漏洞安全事件进行有效攻击检测。</li>
<li>支持基于“资产-漏洞-攻击”多维关联关系，进行有效基础攻击检测。</li>
<li>支持试验中将安全事件融合产生的基础攻击数据与试验的脆弱性进行关联分析，生成有效攻击，过滤无效攻击。</li>
<li>支持基于攻击突破类、远程控制与窃取利用类攻击类别，进行有效攻击检测验证，生成有效攻击数据。</li>
<li>支持分析生成的有效基础攻击，根据攻击数据中的源目IP、端口、VLAN识别攻击数据来源队伍（或选手）、攻击目标。</li>
<li>支持将生成的基础攻击数据发送并存储到大数据平台。</li>
<li>支持接收融合后的安全事件流数据，进行内存缓存用于攻击检测匹配分析。</li>
<li>支持接收试验攻击子图并注册到流计算引擎中，并支持动态更新。</li>
<li>支持接收试验停止指令，清除试验相关子图信息。</li>
<li>支持利用攻击之间时间与空间关系特征，对安全事件流数据进行关联分析。</li>
<li>支持基于流计算分析技术和滑动时间窗口，实时进行多步攻击序列分析。</li>
<li>支持基于可链基础攻击数据与流计算生成的多步攻击序列数据，关联组合生成多节点、跨多域的复杂攻击。</li>
<li>支持APT攻击、DDoS攻击等类型多步复杂攻击事件检测。</li>
<li>支持基于智能汽车安全攻击场景的复杂攻击检测，检测结果包括攻击类型、攻击源、被攻击靶标，靶标包括OTA靶标、TBOX靶标、网关靶标、车身域控制器靶标、底盘域控靶标、动力域控靶标等。</li>
<li>支持阈值类攻击检测，用户可自由设置检测间隔、阈值等参数，可实现webshell远程控制、暴力破解、扫描探测、web站点漏洞扫描等类型的攻击检测。</li>
<li>支持基于试验成果推导生成复杂攻击，基于成果信息关联分析获得复杂攻击步骤生成复杂攻击。</li>
<li>支持复杂攻击的有效性判断，关联有效基础攻击数据进行有效复杂攻击识别。</li>
<li>支持将生成的复杂攻击数据发送并存储到大数据平台。</li>
<li>支持基于网络靶场的多试验并行处理与分析。</li>
<li>支持基础攻击数据展示，包括攻击类型、源IP地址、目的IP地址、源端口、目的端口、攻击描述等。</li>
<li>支持基于去重后的基础攻击数据，索引找到其原始事件。</li>
<li>支持多条件搜索基础攻击数据，搜索条件包括检测时间、攻击类型、源IP地址、目的IP地址等。</li>
<li>支持复杂攻击数据展示，包括攻击名称、源IP地址、目的IP地址、对应的基础攻击步骤及链路详情。</li>
<li>支持基于试验任务进行基础攻击与复杂攻击数据管理与搜索。</li>
</ol>
<p>性能参数如下：</p>
<ol>
<li>复杂攻击检测性能超过2000条/秒。</li>
</ol>
<h3 id="方案设计-12"><a href="#方案设计-12" class="headerlink" title="方案设计"></a>方案设计</h3><p>功能参数设计为，系统支持基础攻击去重，标记基础攻击数据可链用于后续复杂攻击关联分析。基于试验资产漏洞探测结果进行有效攻击检测。多维关联关系基于“资产-漏洞-攻击”进行有效基础攻击检测。将安全事件融合产生基础攻击数据与试验脆弱性关联分析，生成有效攻击。分析生成有效基础攻击，源目IP、端口、VLAN识别攻击来源队伍或选手、目标。发送基础攻击数据至大数据平台。接收安全事件流数据，内存缓存攻击检测匹配分析。接收试验攻击子图注册到流计算引擎，动态更新。接收试验停止指令，清除子图信息。利用攻击时间空间关系特征关联分析安全事件流数据。基于流计算分析技术实时多步攻击序列分析。基于可链基础攻击数据与流计算生成复杂攻击。支持APT攻击、DDoS攻击等多步复杂攻击事件检测。基于智能汽车安全攻击场景的复杂攻击检测。阈值类攻击检测，可自定义设置检测间隔、阈值。基于试验成果推导生成复杂攻击。复杂攻击有效性判断，关联有效基础攻击数据识别有效复杂攻击。发送复杂攻击数据至大数据平台。基于网络靶场多试验并行处理分析。展示基础攻击数据，基于去重后基础攻击数据索引原始事件。多条件搜索基础攻击数据。展示复杂攻击数据。基于试验任务进行基础攻击与复杂攻击数据管理搜索。</p>
<p>性能参数设计为，复杂攻击检测性能超过2000条/秒。</p>
<h4 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h4><p>本方案旨在设计并实施一个智能汽车网络安全攻击检测与分析系统，该系统将利用先进的数据处理技术和算法，对智能汽车网络安全攻击事件进行深入分析与检测。系统将支持攻击数据的去重、链标记、有效攻击检测、攻击来源识别、数据存储、实时分析、复杂攻击检测等多种功能，并能够处理多试验任务的并行分析。系统的性能设计将确保复杂攻击检测性能超过2000条/秒。</p>
<h4 id="功能响应"><a href="#功能响应" class="headerlink" title="功能响应"></a>功能响应</h4><p>攻击数据处理</p>
<p>基础攻击去重：系统支持基于不同攻击类型知识体系中的去重策略（二元组、三元组、四元组）进行基础攻击数据的去重。</p>
<p>基础攻击数据链标记：为基础攻击数据添加可链标记，为后续复杂攻击关联分析提供支持。</p>
<p>有效攻击检测</p>
<p>资产漏洞探测结果分析：基于试验的资产漏洞探测结果，进行有效攻击检测。</p>
<p>多维关联攻击检测：支持基于“资产-漏洞-攻击”多维关联关系，进行有效基础攻击检测。</p>
<p>安全事件与脆弱性关联分析：试验中将安全事件产生的基础攻击数据与试验的脆弱性进行关联分析，生成有效攻击，过滤无效攻击。</p>
<p>攻击类别检测验证：支持基于攻击突破类、远程控制与窃取利用类攻击类别，进行有效攻击检测验证，生成有效攻击数据。</p>
<p>攻击数据来源识别：分析生成的有效基础攻击，根据攻击数据中的源目IP、端口、VLAN识别攻击数据来源队伍（或选手）、攻击目标。</p>
<p>数据存储与流处理</p>
<p>基础攻击数据存储：将生成的基础攻击数据发送并存储到大数据平台。</p>
<p>安全事件流数据内存缓存：接收融合后的安全事件流数据，进行内存缓存用于攻击检测匹配分析。</p>
<p>试验攻击子图注册与更新：接收试验攻击子图并注册到流计算引擎中，并支持动态更新。</p>
<p>试验停止指令处理：接收试验停止指令，清除试验相关子图信息。</p>
<p>复杂攻击检测</p>
<p>安全事件流关联分析：利用攻击之间时间与空间关系特征，对安全事件流数据进行关联分析。</p>
<p>实时多步攻击序列分析：基于流计算分析技术和滑动时间窗口，实时进行多步攻击序列分析。</p>
<p>复杂攻击关联组合生成：基于可链基础攻击数据与流计算生成的多步攻击序列数据，关联组合生成多节点、跨多域的复杂攻击。</p>
<p>多步复杂攻击事件检测：支持APT攻击、DDoS攻击等类型多步复杂攻击事件检测。</p>
<p>智能汽车安全场景复杂攻击检测：基于智能汽车安全攻击场景的复杂攻击检测，检测结果包括攻击类型、攻击源、被攻击靶标等。</p>
<p>阈值类攻击检测：支持阈值类攻击检测，用户可设置检测间隔、阈值等参数，实现webshell远程控制、暴力破解等攻击检测。</p>
<p>复杂攻击推导生成：基于试验成果推导生成复杂攻击，关联分析获得复杂攻击步骤生成复杂攻击。</p>
<p>复杂攻击的有效性判断：进行有效复杂攻击识别，关联有效基础攻击数据进行判断。</p>
<p>复杂攻击数据存储：将生成的复杂攻击数据发送并存储到大数据平台。</p>
<p>并行处理与分析</p>
<p>多试验并行处理与分析：支持基于网络靶场的多试验并行处理与分析。</p>
<p>数据展示与管理</p>
<p>基础攻击数据展示：支持基础攻击数据的展示，包括攻击类型、源IP地址、目的IP地址等。</p>
<p>去重后数据索引：支持基于去重后的基础攻击数据，索引找到其原始事件。</p>
<p>基础攻击数据多条件搜索：支持多条件搜索基础攻击数据，搜索条件包括检测时间、攻击类型等。</p>
<p>复杂攻击数据展示：支持复杂攻击数据展示，包括攻击名称、源IP地址、目的IP地址等。</p>
<p>攻击数据管理与搜索：支持基于试验任务进行基础攻击与复杂攻击数据的管理与搜索。</p>
<h4 id="性能响应"><a href="#性能响应" class="headerlink" title="性能响应"></a>性能响应</h4><p>复杂攻击检测性能：系统的复杂攻击检测性能应超过2000条/秒。</p>
<p>通过实现本方案，我们将建立一个能够高效检测和分析智能汽车网络安全攻击的系统。该系统将为智能汽车网络安全提供全面的技术支持，从基础攻击的识别到复杂攻击的构建，确保了网络安全的实时监控和快速响应。此外，系统的高性能设计和多试验任务的并行处理能力将大大提高智能汽车网络安全攻击检测的效率和准确性。</p>
<h3 id="方案简介-11"><a href="#方案简介-11" class="headerlink" title="方案简介"></a>方案简介</h3><p>网络靶场的多试验支持并行处理与分析，攻击检测支持并行处理与分析靶场多个试验的采集数据，根据态势分析任务管理模块配置的子任务，态势分析基于子任务采集的数据，结合知识图谱注册的攻击模板进行攻击检测研判，分析出流量中的基础攻击和复杂攻击，并于态势可视化模块进行界面展示。</p>
<p>攻击检测研判首先需要采集TCP、UDP传输协议的syslog安全事件日志，这些日志由数据采集分系统通过Kafka消息数据交互给智能汽车网络靶场态势分析分系统进行转换工作。</p>
<p>分系统可以提供对国内一些常见大众的安全厂商检测设备产品日志标准化的支持，可将其转换为标准格式处理生成安全事件，基于安全事件、基础攻击及其关系的知识体系实时融合安全事件生成基础攻击实现实时攻击检测。通过安全事件融合生成的基础攻击数据，对相关信息进行整合，将其与试验的脆弱性(CWE)进行关联分析，从而产生有效的攻击，同时，对于那些无效的攻击，系统将进行过滤处理，确保最终呈现的数据集具有高度的准确性和实用性。可以通过试验任务ID进行基础攻击数据的管理和搜索，界面上提供多条件搜索基础攻击数据，搜索条件包括了检测时间、攻击类型、源IP地址、目的IP地址等多个方面，这一功能设计旨在帮助用户更便捷地了解和分析系统中的攻击情况，提供有效的数据管理和检索工具。生成的基础攻击，呈现的数据包括攻击描述、目的端口（简称DPORT）、源端口（简称SPORT）、攻击类型、源IP地址（简称SIP）、目的IP地址（简称DIP）等内容信息。同时，数据将发送并存储到大数据平台。融合后的安全事件流数据会进行内存缓存用于攻击检测匹配分析，同时还具备支持实时动态更新的功能，在接收试验攻击子图的同时，系统会将其有效地注册到流计算引擎中，当试验结束时，会根据停止指令，清除试验相关子图信息。</p>
<p>基础攻击去重是基于基础攻击类型知识体系中不同攻击类型的去重策略进行去重，去重策略包括二元组去重，也就是根据源目IP进行去重；三元组去重，也就是根据源目IP和目的端口进行去重；四元组去重，也就是根据源目IP和源目端口进行去重。根据试验的资产漏洞探测结果，对漏洞安全事件进行有效攻击检测，有效攻击检测包含资产与漏洞的关联，漏洞与攻击的关联，最后达到资产与攻击的关联等多维关联关系。去除重复后的基础攻击数据，可以通过索引查找到相应的原始事件。并进行可链标记，用于后续复杂攻击关联分析。超危窃取利用类、高危远程控制类、中危攻击突破类，能够对其进行有效攻击检测验证，并产生有效攻击数据。还可以通过阈值类攻击检测对基础攻击进行相应检测，用户可自由设定检测周期间隔、阈值相关等参数要求，可实现web站点漏洞扫描、扫描探测、暴力破解、webshell远程控制等类型的攻击检测。并且能够识别攻击数据来源(队伍或是选手)、攻击目标是通过攻击数据中的源目IP、端口、VLAN。</p>
<p>利用攻击数据之间的时间以及空间关系特征，关联分析安全事件流数据。采用流计算分析技术和滑动时间窗口，实时进行多步攻击序列分析，多步攻击序列数据是由流计算以及可链基础攻击数据生成的，关联组合生成多节点、跨多域的复杂攻击。此外，还可以根据试验成果推导生成生成复杂攻击步骤，最终产生复杂攻击，将生成的复杂攻击数据发送并储存至大数据平台。</p>
<p>复杂攻击的有效性判断，是通过关联有效基础攻击数据，自动判定为有效复杂攻击。复杂攻击包括APT攻击、DDoS攻击等类型多步复杂攻击事件检测，以及智能汽车安全攻击场景的复杂攻击检测，检测结果涵盖了被攻击靶标、攻击源以及攻击类型，靶标涵盖了动力域控靶标、底盘域控靶标、车身域控制器靶标、网关靶标、TBOX靶标以及OTA靶标等。可根据试验任务ID进行复杂攻击数据管理与搜索。复杂攻击检测对于安全事件实时处理能达到2500条/秒。复杂攻击数据展示涵盖了链路详情、对应的基础攻击步骤、目的IP地址（简称DIP）、源IP地址（简称SIP）以及攻击名称等信息。</p>
<p>从各试验采集到的日志数据，经过解析处理转换为安全事件，分系统提供攻击检测界面，对融合后安全事件、基础攻击和复杂攻击检测结果分页签进行展示。</p>
<p>攻击研判的处理流程如下图：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/9b324fc18bf356d0618db0fcead589d0.png"></p>
<p>安全事件页签展示从各试验的日志数据解析得到的安全事件，包括数据来源、安全事件ID、检测时间、攻击源、攻击目的、源端口、目的端口、协议、源mac、目的mac，支持单击事件ID查看原始日志，支持根据数据来源和检测时间精确筛选，支持根据安全事件ID、攻击源、攻击目的、源端口、目的端口、协议、源mac、目的mac模糊检索。</p>
<p>基础攻击页签展示从各试验的安全事件融合得到的基础攻击，包括数据来源、检测时间、攻击类型、威胁等级、协议、目的端口、有效性、目的IP、源IP、源端口、规则ID，并且可以单击详情显示基础攻击关联的队伍、队员、节点等详细信息，并且可以单击弹窗显示所有相关原始日志，支持根据数据来源、检测时间和有效性精确筛选，支持根据攻击类型、威胁等级、规则ID、源IP(SIP)、目的IP(DIP)、源端口(SPORT)、目的端口(DPORT)、源mac、目的mac、协议模糊检索。</p>
<p>复杂攻击页签展示从各试验的基础攻击基于时空关系组链得到的复杂攻击，包括数据来源、检测时间、复杂攻击名称、源IP、目的IP、有效性，支持单击基础攻击步骤查看步骤详情，包括基础攻击名称、检测时间利用漏洞、步骤序号以及使用工具等详细信息，支持根据数据来源和有效性精确筛选，支持根据复杂攻击名称、源IP、目的IP模糊检索。</p>
<h2 id="态势可视化展示模块"><a href="#态势可视化展示模块" class="headerlink" title="态势可视化展示模块"></a>态势可视化展示模块</h2><ul>
<li>支持在微观拓扑中展示对应汽车靶标节点信息，包括车联网业务管理后台、TBOX、网关、车机、域控制器等类型，节点名称可编辑，需提供产品功能截图证明。</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/ac0169e9b76ab1ef195b11550bcd6c31.png"></p>
<h4 id="方案设计-13"><a href="#方案设计-13" class="headerlink" title="方案设计"></a>方案设计</h4><p>功能参数设计为，系统提供可视化效果图设计，资产展示、漏洞展示、流量展示等。实现宏观可视化与微观可视化两种展示方式，支持不同应用场景的可视化展示。对汽车进行3D建模展示，包括对应的靶标及攻击信息。宏观可视化包括地图模式，支持动态生成与加载各种中国、省、市地图。基于汽车靶标的基础攻击、有效攻击与复杂攻击的动态飞线等可视化展示。</p>
<p>试验信息统计展示，包括实时攻击数据、攻击趋势、受攻击排行等。微观可视化展示包括拓扑、动画连线、图表等形式。在微观拓扑中展示汽车靶标节点信息，节点名称可编辑。3D树形拓扑可视化图形自动生成。实时接收APT等复杂攻击数据，呈现拓扑中，同时信息面板展示对应步骤基础攻击信息。</p>
<p>对汽车攻防演练场景复杂攻击行为进行回放展示。选择指定时间、攻击的复杂攻击展示其攻击过程、路径、详情。通过鼠标快速放大缩小。基础攻击的统计分析与查看管理，复杂攻击的查看分析管理。复杂攻击子图查看，有效攻击的查看分析管理。默认配置和自定义配置。模板配置、微观模板配置。</p>
<p>系统大屏可视化配置，仪表组件库的内容配置。组件配置、标题、地图层级等内容配置。模型库管理，模型图片变换旋转角度自动截图保存。</p>
<p>性能参数设计为，支持100种地图的灵活配置生成，2000个节点的网络拓扑形式微观可视化展示。</p>
<h5 id="项目概述"><a href="#项目概述" class="headerlink" title="项目概述"></a>项目概述</h5><p>本项目旨在开发一套智能汽车网络安全可视化系统，该系统将通过高效、直观的可视化手段，展现智能汽车网络安全的各项关键数据和安全事件。系统将支持资产、漏洞、流量、攻击等多维度的数据展示，并结合宏观与微观视角，为不同应用场景提供精准的可视化服务。通过3D建模、地图模式等先进技术，系统能够清晰地展示汽车网络安全态势，帮助用户快速理解和响应网络安全事件。</p>
<h5 id="功能-1"><a href="#功能-1" class="headerlink" title="功能"></a>功能</h5><p>可视化效果图设计</p>
<p>效果图设计与评审：在实施前，提供系统的可视化效果图设计，并通过方案评审。</p>
<p>数据展示功能</p>
<p>资产展示：支持展示资产数量、资产类型分布等信息。</p>
<p>漏洞展示：支持漏洞类型数量分布、漏洞危险程度占比分布等信息的可视化展示。</p>
<p>流量展示：支持流量协议统计分布、流量趋势等信息的展示。</p>
<p>可视化展示方式</p>
<p>宏观与微观可视化：支持宏观可视化与微观可视化两种展示方式。</p>
<p>应用场景可视化：支持夺旗赛、攻防赛、红蓝对抗、综合演练等不同应用场景的可视化展示。</p>
<p>3D建模与展示：支持对汽车进行3D建模与展示，包括靶标及攻击信息。</p>
<p>地图模式宏观可视化：支持地图、图表、动画连线等宏观可视化展示。</p>
<p>地图动态生成与加载：支持各种中国、省、市地图的灵活动态生成与加载。</p>
<p>攻击数据可视化</p>
<p>动态飞线展示：支持基于汽车靶标的基础攻击、有效攻击与复杂攻击的动态飞线等可视化展示。</p>
<p>试验信息统计展示：支持试验信息的统计展示，包括实时攻击数据、攻击趋势、受攻击排行等。</p>
<p>外网IP情报知识展示：支持基于IP地址自动加载外网IP情报知识，并进行实时攻击的地理位置展示。</p>
<p>微观可视化展示</p>
<p>微观可视化：支持拓扑、动画连线、图表等形式的微观可视化展示。</p>
<p>拓扑中汽车靶标节点展示：支持在微观拓扑中展示汽车靶标节点信息。</p>
<p>拓扑节点统计信息标注：支持在拓扑节点上标注展示资产、安全事件等统计信息。</p>
<p>3D树形拓扑可视化：支持基于试验环境拓扑数据自动生成全局3D树形拓扑可视化图形。</p>
<p>攻击行为展示与回放</p>
<p>复杂攻击数据展示：实时接收APT等复杂攻击数据，并通过拓扑画线方式呈现。</p>
<p>复杂攻击回放展示：支持对汽车攻防演练场景复杂攻击行为进行回放展示。</p>
<p>指定攻击过程展示：支持选择指定时间、攻击进行复杂攻击的展示。</p>
<p>交互与管理功能</p>
<p>可视化交互功能：支持通过鼠标快速进行放大缩小等交互操作。</p>
<p>基础攻击统计分析：支持基础攻击的统计分析与查看管理。</p>
<p>复杂攻击分析管理：支持复杂攻击的查看分析管理。</p>
<p>复杂攻击子图查看：支持复杂攻击子图的查看。</p>
<p>有效攻击分析管理：支持有效攻击的查看分析管理。</p>
<p>配置与模板管理</p>
<p>配置管理：支持默认配置和自定义配置，包括模板配置、内容配置和拓扑编辑。</p>
<p>模板库管理：支持宏观和微观模板库。</p>
<p>可视化配置：支持系统大屏可视化配置。</p>
<p>仪表组件库配置：支持仪表组件库的内容配置。</p>
<p>组件配置：支持选择不同形式的组件进行配置。</p>
<p>地图配置：支持进行标题、地图层级等内容配置。</p>
<p>模型与拓扑编辑</p>
<p>模型库管理：支持模型库的管理。</p>
<p>模型图片编辑：支持模型图片变换旋转角度进行自动截图保存。</p>
<p>拓扑编辑界面：支持用户通过拓扑编辑界面对拓扑进行编辑。</p>
<p>拓扑结构生成：拓扑编辑基于试验活动拓扑数据。</p>
<p>背景调整：支持修改天空盒子和地面背景图。</p>
<p>模型节点编辑：支持对模型节点进行编辑。</p>
<p>模型节点批量编辑：支持通过框选方式对模型节点进行批量编辑操作。</p>
<p>模型节点操作：支持对模型节点进行旋转、移动、复制/粘贴操作。</p>
<p>快捷键控制：支持通过键盘快捷键控制工具栏操作切换。</p>
<p>连线样式编辑：支持在模型节点之间添加连线。</p>
<p>攻击线配置：支持攻击线配置。</p>
<p>区域标记编辑：支持拓扑地面任意位置添加区块进行区域标记。</p>
<p>拓扑编辑动作撤销恢复：支持对拓扑编辑动作进行撤销、恢复操作。</p>
<h5 id="性能-3"><a href="#性能-3" class="headerlink" title="性能"></a>性能</h5><p>地图配置能力：支持100种地图的灵活配置生成。</p>
<p>网络拓扑展示能力：支持2000个节点的网络拓扑形式微观可视化展示。</p>
<p>通过实现本方案，我们将为智能汽车网络安全领域提供一个全面、高效的可视化工具。该系统将支持从宏观到微观的多维度数据展示，辅以3D建模、地图模式和复杂攻击回放等高级功能，为用户提供精确、直观的安全态势感知。系统的高性能设计将确保处理大规模数据的能力，满足不同用户和场景的需求。</p>
<h4 id="方案简介-12"><a href="#方案简介-12" class="headerlink" title="方案简介"></a>方案简介</h4><p>基于采集获取的安全事件信息，经由攻击检测研判的实时攻击，态势可视化模块分为外部攻防安全视角和内部攻防安全视角两种视角，应用场景包括网络安全比赛、安全演练、评测等。</p>
<p>态势可视化外部攻防安全视角，支持自定义显示中国、省、市地图背景，可以根据需要进行灵活配置，生成不少于100种不同的地图。此外，还能够支持自动加载外部IP情报知识，根据IP地址和地图坐标，将实时攻击的源和目标IP地址映射到地理位置，以直观展示因特网上攻击发生的具体地点。可视化根据攻击源和靶标的地理位置信息在地图中标记呈现，以攻击源、攻击目的为数据基础在定点间用不同颜色样式的动画飞线展示不同攻击，并突出显示靶标被攻击状态，实时播报攻击情况。可视化界面两侧展示态势数据统计，统计项包括资产统计、漏洞统计、流量趋势统计、靶标统计等，其中资产统计涵盖了资产类型、资产数量分布，攻击统计方面，系统提供了多维度的信息，包括攻击类型漏洞危险程度占比分布、数量分布、攻击类型统计和趋势统计。同时，还包括流量趋势统计，其中涵盖流量协议统计分布和流量趋势分布等详细数据。系统支持对这些统计数据进行持久化展示，用户可方便地查询详细的基础攻击信息以及对应的复杂攻击子图。这些详细信息包括关联漏洞、相关安全事件以及攻击步骤信息，为用户提供全面的攻击分析视角。此外，系统为用户提供了查看、分析和管理有效攻击的功能，包括有效的基础攻击和有效的复杂攻击。这一功能组合使用户能够深入了解攻击情况，快速采取有效的安全应对措施。</p>
<p>内部攻防安全视角以网络场景拓扑图为主体，基于2D目标网络拓扑数据自动生成态势可视化微观3D拓扑图展示试验任务进行中的实时攻击，且可进行超过2000个节点的网络拓扑展示，在拓扑节点上还可展示该节点对应的资产、安全事件等统计信息。并能通过绘制线条的方式，以线条在拓扑中展示复杂攻击路径，并且会在同步展现对应复杂攻击中步骤的详细基础攻击信息。根据实时攻击在拓扑图中进行基础攻击和复杂攻击的攻击步骤、攻击路径的展示，且能够及时接收APT、蠕虫攻击等复杂攻击数据。</p>
<p>该模块可回放并展示汽车攻防演练场景中的复杂攻击行为。用户可以自主选择特定的时间点和攻击事件，以呈现它们的攻击细节、攻击路径以及攻击过程。此外，在可视化场景中支持使用鼠标轻松进行画面的缩小以及放大操作，以满足多种场景下可视化界面。</p>
<p>此外，态势可视化界面支持队伍信息、排名、攻击行为、地理区域信息、选手实时界面、选手接入情况、虚拟机网络行为、攻击流程回溯的展示。支持不同参与人员的操作屏幕切换，支持活动现场监控设备的状态查看。可视化大屏支持展示信息的显示/隐藏和布局编排。</p>
<p>可视化界面通过websocket推送数据进行展示，支持通过http接口和kafka接口从界面获取攻击数据，支持基础攻击和复杂攻击两种路径类动效。</p>
<p>系统提供了多种配置方式，包括默认配置和自定义配置，以满足用户对可视化展示的不同需求。系统初始配置包含预设的可视化模板，而用户可以通过模板配置、内容调整和拓扑修改进行自定义配置，以实现灵活的展示效果。</p>
<p>在可视化方面，用户可以进行系统大屏的自定义配置，包括分辨率选择和不同角色下的模板组合，以满足不同场景的展示需求。系统还拥有微观模板库和宏观模板库。微观模板支持拓扑可视化，用于展示详细的攻防行为信息。</p>
<p>除此之外，系统还配备了仪表组件库，涵盖多样风格的组件，如气泡图、列表、柱状图、数据卡片、折线图、饼状图等，用户可以根据需要选择并配置这些组件，展示各种信息，如网络安全量化指数、攻击类型统计、基础攻击、有效攻击和复杂攻击以及攻击趋势等，通过简单的拖拽方式进行布局。</p>
<p>在拓扑修改方面，系统利用试验活动拓扑数据，采用系统内置的优化自研算法生成树形拓扑结构。用户可以轻松修改天空盒子和地面背景图，以满足拓扑修改的背景要求。此外，系统还提供了丰富的节点修改功能，包括添加、修改、删除模型节点，以及修改模型颜色、缩放比例、名称、坐标位置以及模型类型、旋转角度、名称标签显示配置。还能够支持模型图片变换旋转角度并进行自动截图保存。支持用户通过拓扑修改界面对拓扑进行修改，支持重置拓扑可视化展示。</p>
<p>用户可以使用框选功能来一次性修改多个模型节点。支持旋转、移动、复制/粘贴等多种操作，并提供快捷键和键盘快捷键，以方便用户进行各种修改工作。拓扑修改还可以绘制线条插在模型节点之间，用户可以自定义线条样式，包括颜色、速度、样式以及粗细。此外，用户还能够在拓扑界面随意添加区块，之后进行的区域标记包括修改文字配置、颜色以及边框样式，文字配置包括字号、内容对齐方式、字体和文字方向、显示文字内容等。</p>
<p>态势可视化界面中心展示实时攻击数据，包括外部攻防安全视角和内部攻防安全视角两种视角，支持视角切换。其中，外部攻防安全视角默认以中国地图为地图，将检测到的实时基础攻击和复杂攻击，根据攻击源的IP归属地和靶标录入的位置信息在地图中采用飞线动画区分显示，并对攻击源目加入攻击和被攻击的动画效果。界面两侧对攻击数据进行统计分析展示，包括有效攻击占比，攻击趋势，队伍排名、受攻击排行等。另外，在地图右上角采用播报条实时呈现攻击数据。且可视化页面可持续运行7×24小时无卡顿。</p>
<p>界面右上角支持视角切换，内部攻防安全视角将试验获取的环境2D拓扑数据渲染为3D微观拓扑呈现，在大屏中心播放从攻击源到攻击目的的实时攻击数据。单击攻击线可在界面底部查看攻击的详细信息，包括攻击名称、攻击步骤、源IP、目的IP等。此外微观可视化的展示，还包括使用拓扑图、动画连线和图表等多种形式。在微观拓扑中，可以查看与汽车靶标节点相关的信息，包括域控制器、车机、网关、TBOX、车联网业务管理后台等不同类型的节点。这些节点的名称可以根据需要进行修改。且在拓扑图中可对拓扑的修改进行撤销、恢复等操作，可撤销操作最高支持十步。</p>
<h2 id="安全分析评估模块"><a href="#安全分析评估模块" class="headerlink" title="安全分析评估模块"></a>安全分析评估模块</h2><ul>
<li>支持图谱路径查询，可指定起始节点、目标节点、方向进行路径查询与展示，需提供产品功能截图证明。</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/7520345467b4bc4c8cacb1e8787efaa8.png"></p>
<p>功能参数设计为，系统支持基于时间进行攻击统计分析，以热力图呈现攻击趋势。攻击者用户特征分析，目标分析，利用的漏洞分析，利用的工具分析。技术分析，包括复杂攻击链路和基础攻击信息。基于网络流量的基础安全指数计算评估，基于漏洞信息的脆弱安全指数评估，基于攻击行为的威胁安全指数评估。</p>
<p>综合安全指数评估。根据试验资产、漏洞、攻击数据生成试验统计分析报告。根据试验漏洞和攻击数据生成统计报告。用户自定义选择攻击数据进行图谱方式呈现，图谱筛选器管理，路径查询与展示，图谱统计分析展示，图谱快照管理，内容动态添加。不同图谱布局方式，图谱节点固定大小，边颜色设置，节点和边展示标签字段。图谱分析中两节点间不同边聚合展示。</p>
<p>基于试验任务生成试验数据统计信息及目录。用户按需进行试验数据提取查询，批量导出数据，脱敏算法处理导出数据，数据导出记录管理。</p>
<p>性能参数设计为，支持2000个节点的图谱分析展示。</p>
<h4 id="项目背景"><a href="#项目背景" class="headerlink" title="项目背景"></a>项目背景</h4><p>在智能汽车网络安全领域，对攻击事件的分析与统计是至关重要的。本系统旨在通过图谱分析技术，提供对攻击数据的深度分析与可视化展示，帮助安全分析师理解攻击者的行为特征、利用的工具和技术，以及攻击目标的脆弱性。系统将支持从数据提取到图谱的动态展示，以及从基础安全指数到综合安全指数的计算评估，为智能汽车网络安全防御提供有力的数据支持。</p>
<h4 id="功能-2"><a href="#功能-2" class="headerlink" title="功能"></a>功能</h4><p>攻击统计分析</p>
<p>时间基攻击统计：支持基于时间进行攻击统计分析，以热力图方式展示攻击趋势。</p>
<p>用户特征分析：支持攻击者的用户特征分析，包括设备浏览器特征等。</p>
<p>攻击目标分析：支持攻击者作用的目标分析，包括攻击利用路径、利用的端口、攻击应用等。</p>
<p>漏洞利用分析：支持攻击者利用的漏洞分析，包括漏洞编号、危险等级、漏洞描述。</p>
<p>工具利用分析：支持攻击者利用的工具分析，包括恶意文件MD5等。</p>
<p>技术分析：支持攻击者的技术分析，包括复杂攻击链路和基础攻击信息。</p>
<p>安全指数计算评估</p>
<p>基础安全指数：支持基于网络流量的基础安全指数计算评估。</p>
<p>脆弱安全指数：支持基于漏洞信息的脆弱安全指数计算评估。</p>
<p>威胁安全指数：支持基于攻击行为的威胁安全指数计算评估。</p>
<p>综合安全指数：支持基于三维安全指数的综合安全指数计算评估。</p>
<p>统计报告生成</p>
<p>试验统计报告：支持根据试验资产、漏洞、攻击数据生成试验统计分析报告。</p>
<p>漏洞与攻击报告：支持根据试验漏洞和攻击数据生成统计报告。</p>
<p>图谱分析与展示</p>
<p>图谱自定义展示：支持用户自定义选择攻击数据进行图谱展示。</p>
<p>图谱筛选管理：支持基于筛选器管理进行图谱筛选。</p>
<p>图谱路径查询：支持图谱路径查询与展示。</p>
<p>图谱统计分析：支持图谱统计分析与展示。</p>
<p>图谱快照管理：支持图谱快照管理。</p>
<p>图谱内容动态添加：支持图谱内容的动态添加。</p>
<p>图谱布局方式：支持不同的图谱布局方式。</p>
<p>图谱节点大小：支持图谱中的节点固定大小。</p>
<p>图谱边颜色设置：支持图谱中边的颜色设置。</p>
<p>图谱标签字段设置：支持设置展示的标签字段。</p>
<p>图谱边聚合展示：支持图谱边的聚合展示。</p>
<p>试验数据管理</p>
<p>试验数据统计目录：支持基于试验任务生成试验数据统计信息及目录。</p>
<p>试验数据提取查询：支持用户按需进行试验数据提取查询。</p>
<p>数据批量导出：支持用户选择数据类型批量导出。</p>
<p>数据脱敏处理：支持对导出数据进行脱敏处理。</p>
<p>数据导出记录管理：支持数据导出记录管理。</p>
<h4 id="性能-4"><a href="#性能-4" class="headerlink" title="性能"></a>性能</h4><p>图谱分析展示能力：支持2000个节点的图谱分析展示。</p>
<p>本系统提供了一个全面的智能汽车网络安全图谱分析与统计平台，能够帮助安全分析人员深入理解网络攻击的各个方面。通过系统的分析与评估，可以更好地指导智能汽车网络安全防御策略的制定与执行。系统的高性能设计确保了即使在大规模数据面前也能保持流畅的分析与展示能力。通过图谱的可视化展示，复杂的安全数据被转换为直观易懂的信息，极大地提高了安全事件的响应效率和准确性。</p>
<h3 id="方案简介-13"><a href="#方案简介-13" class="headerlink" title="方案简介"></a>方案简介</h3><p>安全分析评估模块基于攻击数据（基础攻击、复杂攻击、有效攻击数据）、防守成果数据、情报数据、网络流量数据，结合实验数据、资产数据、漏洞数据，使用规则配置、自主决策方式进行数据分析、对比分析、多维度分析，为确保数据的隐私和安全，该模块提供了数据脱敏功能，同时支持导出数据和记录导出历史。用户可以灵活地将分析结果导出，方便进一步深入研究、分享或归档分析成果。这一功能组合为用户提供了全面而灵活的数据分析与管理手段。同时为了审计管理，数据导出的信息涵盖了数据类型、导出时间、人员等。</p>
<p>该综合安全态势可视化模块还提供了深入的攻击者分析功能。它支持攻击者的用户特征分析，以帮助用户更好地理解攻击者的身份和特点，其中涵盖但不限于设备和浏览器特征等。同时，该模块还支持攻击者作用的目标分析，包括攻击的利用路径、利用的端口以及攻击应用等方面的信息，从而揭示攻击者的策略和目标。</p>
<p>此外，综合安全态势可视化模块还具备攻击者利用的漏洞分析功能，包括漏洞描述、危险等级、漏洞编号，有助于安全团队了解攻击者利用的漏洞情况。系统还提供对攻击者使用的工具进行深入分析，涵盖涉及恶意文件的MD5等详细信息。此外，系统还支持对攻击者的技术进行全面分析，涵盖基础攻击信息以及复杂攻击链路的细致解析。</p>
<p>最后，综合安全态势可视化模块可以通过攻击数据、试验资产、漏洞来产生试验统计分析报告，以及根据试验攻击数据、漏洞产生统计报告，这些报告可供防御方参考，用于系统加固和决策制定。这一系列分析功能有助于深入了解攻击事件的细节，提高网络安全的整体水平。</p>
<p>评估功能模块数据是基石，该模块支持基于网络流量的基础安全指数计算评估，基于漏洞信息的脆弱安全指数计算评估，以及基于攻击行为的威胁安全指数计算评估。最终，这些评估可以综合为基于基础、脆弱、威胁三维安全指数，为用户提供全面的安全评估。数据的收集包括入侵检测系统（IDS）和入侵防御系统（IPS）的日志、情报数据导入、网络流量数据、实验靶标数据、历史防守成功数据、操作系统数据和应用程序日志数据等。确保数据包括时间戳、源IP地址、目标IP地址、攻击类型、攻击方法等关键信息。</p>
<p>安全分析评估总体流程图如下所示:</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/66731fd3bb5e90f1a25002f01be85b25.png"></p>
<p>数据分析方法：</p>
<ul>
<li>攻击趋势分析：分析攻击数据的时间趋势，以确定是否存在季节性或周期性的攻击活动。</li>
<li>攻击来源和目标分析：确定攻击活动的来源和目标，以识别潜在的受攻击系统或网络。</li>
<li>攻击类型分析：分析不同类型的攻击，例如恶意软件传播、拒绝服务攻击、身份验证尝试等。</li>
<li>攻击向量分析：确定攻击者使用的攻击向量，例如恶意软件、漏洞利用等。</li>
<li>受害程度评估：评估攻击的受害程度，包括数据泄露、系统瘫痪、服务不可用等。</li>
</ul>
<p>通过分析攻击数据，识别潜在的漏洞或系统弱点，可能导致攻击成功。检查当前的安全策略和控制措施，以确定其有效性和完整性。分析数据可以帮助确定是否需要进一步改进策略。将外部的威胁情报信息、实验靶标数据、防守成功数据与分析结果结合，以提高评估的准确性和深度。这包括黑名单IP地址、已知攻击者情报、漏洞信息等。生成安全评估报告，包括当前的安全状况、发现的漏洞和威胁、建议的改进措施和风险评估。定期根据数据分析进行安全评估，以跟踪安全状况的变化，并根据新的威胁和漏洞不断生成新的评估报告与改进安全策略和控制措施。</p>
<p>1.数据支撑和存储模块元素：</p>
<p>数据支撑：该模块提供了与各种数据源连接的接口，包括防火墙、IDS/IPS、日志收集器、防守成果、实验靶标等。用户可以自定义选择攻击数据，其中涵盖了威胁数据、基础攻击数据、脆弱性数据、有效攻击数据、基础设施数据以及复杂攻击数据，以作为知识库库数据用于后续分析。</p>
<p>数据存储：安全评估模块需要一个存储系统，用于保存采集到的攻击数据以供后续分析。此存储系统还支持图谱内容的动态添加，可增量选择攻击数据添加到图谱中，并能够生成图谱快照，以管理数据的版本。</p>
<p>2.数据分析和挖掘模块元素：</p>
<p>攻击分析引擎：这个引擎允许用户可以自由选择攻击数据，并以图谱的形式进行展示，以便进行关联分析研究。它还支持图谱路径查询，用户可以通过选择方向、起始节点以及目标节点来执行路径展示以及查询。此外，它也可以执行图谱统计分析，包括节点出入度统计、关系数量以及节点数量。图谱可自由选择边的颜色，无论是相同颜色还是根据攻击复杂度而异的颜色都可以选择。此外，用户还能够在图谱的节点和边上添加自定义标签字段，以更好地传达关键信息。系统还提供了图谱分析功能，使用户能够将两个节点之间的多个不同边汇聚显示，以简化复杂关系的可视化，使数据更容易理解。在图谱展示中可展示最大可达2100个节点的图谱分析。</p>
<p>数据报表工具：生成图表、图形和仪表板，以可视化分析结果，同时可展示多种图谱布局，其中有流程图、力导、聚类以及同心圆布局等，以及节点能够通过数据变化大小来展示也可根据固定大小展示。</p>
<p>可视化列表工具：支持基于筛选器管理的图谱筛选，根据节点和边进行筛选，并生成列表查询，支持导出excel、脱敏、规则配置和生成导出记录。</p>
<p>统计分析工具：用于执行统计分析，如攻击趋势分析和攻击来源分析，以进一步加深对攻击数据的理解。</p>
<p>3.威胁情报整合模块元素：</p>
<p>威胁情报接口：该接口连接外部威胁情报源，如公共威胁情报提供商，用于获取最新的威胁情报数据，例如黑名单IP地址和已知漏洞。这些数据将用于更新数据支撑中的威胁数据。</p>
<p>威胁情报数据库：存储已知的威胁情报信息，如黑名单IP地址和已知漏洞，以供安全评估模块使用，用于识别威胁。</p>
<p>4.漏洞识别和脆弱性评估模块元素：</p>
<p>漏洞探测设备：用于扫描网络中的系统和应用程序，识别已知漏洞。扫描结果将与数据支撑中的漏洞知识数据库进行比对和更新。</p>
<p>漏洞知识数据库：存储已知漏洞的信息，以便与扫描结果进行比对和更新，以提供更全面的脆弱性评估。</p>
<p>5.安全评估报告生成模块元素：</p>
<p>报告生成引擎：利用数据支撑中的攻击数据、漏洞数据和威胁情报数据，生成安全评估报告，包括当前的安全状况、发现的漏洞和威胁、建议的改进措施和风险评估。报告也可以包括图谱方式呈现的分析结果。</p>
<p>报告模板：可基于试验任务定义报告的格式和内容，以满足用户的需求，包括试验数据统计信息和目录。用户还可以选择查询或选择数据类型并导出数据，采用批量导出方式以供进一步研究分析。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/d8bb165c3bac2dba40be12926f6da93f.png"></p>
<h2 id="资产漏洞探测模块"><a href="#资产漏洞探测模块" class="headerlink" title="资产漏洞探测模块"></a>资产漏洞探测模块</h2><ul>
<li>支持对探测设备进行条件查询，包括名称、IP、型号等模糊查询，需提供产品功能截图。</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/2d3b4b31dfb87497f91a181efb77050e.jpeg" alt="39e1e3b8a49ac8b21d9a98706a77f122(1"></p>
<ul>
<li>支持对探测结果进行解析，生成资产IP、漏洞ID、漏洞分数、漏洞类型、漏洞描述等信息，需提供产品功能截图证明。</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/f2ebea3140b7af72282bbfc179e6164f.png"></p>
<ul>
<li>可探测漏洞数量不低于30000个，需提供产品功能截图证明，截图中需有具体的漏洞数量并能清晰识别。</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/ec1a3f365da0eb7e21cd97b995e26bcb.png"></p>
<p>功能参数设计为，系统支持对探测设备进行管理，探测设备信息管理。探测设备条件查询，接收试验探测指令解析。协同试验拓扑数据确定探测范围，生成探测任务。探测调度接收探测任务控制命令与配置信息。连接试验网络与分析网络，自动调度探测设备进行探测。探测完毕后将探测数据发送到探测数据管理模块，探测数据动态增量更新。靶场攻防对抗试验中多队伍私有场景探测加速优化。探测任务记录及状态监控。探测结果解析，探测数据适配，探测数据查看管理。探测数据条件查询，关联试验环境探测结果数据与知识库中资产漏洞知识。文件导入方式探测结果批量补全，文件导入结果监控。多选方式批量删除异常或错误数据。</p>
<p>性能参数设计为，可探测漏洞数量30000个，资产漏洞探测准确率90%。</p>
<h4 id="项目概述-1"><a href="#项目概述-1" class="headerlink" title="项目概述"></a>项目概述</h4><p>本项目旨在开发一套智能汽车网络安全探测设备管理系统，用于高效管理和调度探测设备，以及处理和分析探测数据。该系统将支持设备的基础管理、探测任务的生成与执行、探测数据的接收与解析，并确保探测活动的高效与准确性。通过此系统，用户可以轻松管理探测设备，快速响应试验需求，并将探测结果与知识库数据关联，以提高漏洞探测的准确率。</p>
<h4 id="功能-3"><a href="#功能-3" class="headerlink" title="功能"></a>功能</h4><p>探测设备管理</p>
<p>设备管理操作：支持对探测设备进行新增、修改、删除操作。</p>
<p>设备信息管理：支持对探测设备信息进行详细管理。</p>
<p>设备条件查询：支持对探测设备进行名称、IP、型号等模糊查询。</p>
<p>探测任务处理</p>
<p>试验探测指令解析：支持接收并解析试验探测指令。</p>
<p>探测范围确定：协同试验对应拓扑数据确定探测范围。</p>
<p>探测任务调度：支持探测任务的控制命令与配置信息处理。</p>
<p>网络连接与数据传输：支持同时连接试验网络与分析网络。</p>
<p>探测数据传输：支持探测数据的发送与动态增量更新。</p>
<p>探测效率优化</p>
<p>多队伍探测优化：支持靶场攻防试验中多队伍的探测加速优化。</p>
<p>探测任务监控：支持探测任务记录及状态监控。</p>
<p>探测数据解析与管理</p>
<p>探测结果解析：支持对探测结果数据进行详细解析。</p>
<p>探测数据适配：支持探测数据的标准化适配。</p>
<p>探测数据查看管理：支持探测数据的查看管理。</p>
<p>探测数据条件查询：支持对探测数据进行条件查询。</p>
<p>数据补全与融合</p>
<p>探测结果与知识库关联：支持关联试验环境探测结果与资产漏洞知识。</p>
<p>批量数据补全：支持文件导入方式进行探测结果批量补全。</p>
<p>文件导入监控：支持对文件导入结果进行监控。</p>
<p>异常数据批量删除：支持多选方式进行批量删除异常或错误数据。</p>
<h4 id="性能-5"><a href="#性能-5" class="headerlink" title="性能"></a>性能</h4><p>漏洞探测数量：可探测漏洞数量达到30000个。</p>
<p>探测准确率：资产漏洞探测准确率达到90%。</p>
<p>通过实施本方案，我们将提供一个全面的探测设备管理和数据处理平台，以支持智能汽车网络安全的漏洞探测工作。系统的设计考虑到了从设备管理到数据处理的全过程，确保了探测活动的高效性和准确性。此外，系统的优化措施将提高探测效率，减少冗余数据，提高数据分析的质量。通过本系统，用户可以实现对智能汽车网络安全态势的快速评估和响应。</p>
<h3 id="方案简介-14"><a href="#方案简介-14" class="headerlink" title="方案简介"></a>方案简介</h3><p>资产漏洞探测模块的目标是实现网络漏洞探测任务的高效管理与执行。它提供了一系列功能，包括探测设备管理，灵活的条件查询，以及探测任务的协同调度和数据管理。</p>
<p>资产安全漏洞探测旨在识别和修复组织资产（如服务器、网络设备、应用程序等）中的漏洞和弱点，以降低潜在的安全风险。资产探测设备首先会识别组织内部的所有资产，包括服务器、工作站、网络设备、应用程序、数据库等。一旦资产被识别，资产探测设备会对这些资产进行系统性的扫描，以检测已知漏洞和弱点。扫描可以基于已知的漏洞数据库（知识库）进行，将检测到的漏洞进行分类，根据漏洞的严重性和优先级进行评估。通常，漏洞被分为不同的级别（如高、中、低）以便能够优先处理最危险的漏洞。</p>
<p>首先，该模块允许用户对探测设备进行管理，包括设备的添加、修改和删除。用户可以维护关键设备信息，如访问信息、厂商、设备名称、端口、型号以及连接地址。此外，用户可以轻松地快速找到所需的设备信息，根据设备信息进行条件查询。</p>
<p>其次，系统支持接收试验探测指令并进行解析。它能够根据协同试验的拓扑数据确定探测范围，生成探测任务，并自动安排探测设备执行漏洞探测，且可探测漏洞数量至少为30000个，准确率不低于90%。系统能够同时连接试验网络和分析网络，智能地管理探测设备与试验之间的连接，确保探测任务的高效执行和结果的及时传输。</p>
<p>探测数据经过解析后，会被发送到探测数据管理模块，支持动态增量更新，同时还提供了优化靶场攻防对抗试验中多个队伍私有场景的探测速度，以提升效率。用户可以随时监控探测任务的记录和状态，涵盖了探测状态、任务类型以及试验名称。</p>
<p>一旦探测任务完成，系统支持对探测结果进行解析，生成关于资产IP、漏洞ID、漏洞分数、漏洞类型和漏洞描述的详细信息。探测数据可以按照统一的数据格式进行适配和管理，以便后续的数据查看和分析。用户可以以列表方式查看探测信息，并进行条件查询，以快速定位所需数据。此外，系统还能够关联试验环境的探测结果数据与知识库中的资产漏洞知识，实现信息的完整性。</p>
<p>对于探测结果的批量补全，用户可以选择使用文件导入方式。导入的数据将根据关键信息进行去重和融合处理，同时提供了监控功能，以便跟踪文件导入结果，包括成功导入数量、失败导入数量和详细的失败导入信息。</p>
<p>最后，用户还可以通过多选方式轻松批量删除异常或错误数据，以维护数据的质量和整洁性。</p>
<p>探测任务使用资产探测设备可进行自动化扫描，定期扫描网络和系统，以确保新的漏洞没有被引入，同时还能检测到已知漏洞的修复情况。</p>
<p>探测任务可生成详细的漏洞报告，包括发现的漏洞、漏洞的描述、影响级别、建议的修复措施以及漏洞的证据。这些报告帮助了解其漏洞情况与修复措施。</p>
<p>探测任务具有可配置性，可以根据具体的需求进行自定义，同时也能够关联实验结果数据与知识库知识漏洞进行系统集成，以实现自动化响应和修复。</p>
<p>资产安全漏洞探测由资产管理、探测设备管理、探测任务管理、探测数据管理组成，其组成示意图如下所示：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/53dc6f1cc5959082e743b9ed2dc07025.png"></p>
<p>1.探测设备管理：</p>
<p>提供设备的添加、修改和删除功能。</p>
<p>管理设备信息，包括名称、连接地址、端口、厂商、型号和访问信息。</p>
<p>2.探测任务调度：</p>
<p>解析试验探测指令并生成相应的探测任务。</p>
<p>支持协同试验对应拓扑数据的探测范围确定。</p>
<p>自动调度探测设备执行探测任务，包括开始、停止和探测范围的配置。</p>
<p>3.探测数据管理：</p>
<p>接收和存储探测完毕后的探测数据。</p>
<p>支持动态增量更新。</p>
<p>监控探测任务记录和状态，包括试验名称、任务类型和探测状态。</p>
<p>4.探测结果解析模块：</p>
<p>解析探测结果，生成漏洞描述、资产IP、漏洞类型、漏洞分数以及漏洞ID等信息。</p>
<p>对探测数据进行适配，统一数据格式。</p>
<p>5.探测数据查看和管理模块：</p>
<p>提供探测数据的列表查看和条件查询功能，包括资产IP、漏洞编号、漏洞类型等模糊条件搜索。</p>
<p>支持关联试验环境探测结果数据与知识库中的资产漏洞知识，进行信息补全。</p>
<p>6.文件导入和数据批量补全：</p>
<p>支持文件导入方式进行探测结果的批量补全。</p>
<p>导入数据基于关键信息进行去重和融合处理。</p>
<p>监控文件导入结果，包括成功导入数量、失败导入数量和失败导入的详细信息。</p>
<p>7.表单工具：</p>
<p>用于创建配置自定义表单，该表单支持对数据进行增改查、用于实现资产设备、资产扫描设备的自定义配置实现。</p>
<p>8.表格工具：</p>
<p>用于窗配置自定义列表，该表格支持基于数据自定义高级查询、excel导入导出、列表显示等。用于配置资产设备列表、资产扫描设备列表、探测数据列表、探索任务列表功能。</p>
<p>9.漏洞数据库：</p>
<p>资产探测设备使用漏洞数据库来比对已知的漏洞。这些数据库包含了各种已知漏洞的详细信息，包括漏洞描述、危害级别、受影响的软件版本等。</p>
<p>9.主动和被动扫描：</p>
<p>使用探测任务基于探测设备的安全漏洞扫描可以分为主动和被动两种方式。主动扫描是指主动地发送请求和测试系统以寻找漏洞。被动扫描则是监视系统的通信流量和行为，以检测潜在的问题。</p>
<p>10.自动化和手动审查：</p>
<p>使用探测任务基于探测设备的自动化漏洞扫描工具能够快速识别已知漏洞，但可能会产生误报或遗漏一些漏洞。因此，手动审查也是重要的，以深入检查系统，发现新的漏洞或特定于环境的问题。</p>
<p>11.定期扫描：</p>
<p>使用探测任务基于探测设备的安全漏洞扫描是一个持续性的过程，应该定期进行，以便捕获新的漏洞和确保已知漏洞已经修复。</p>
<h2 id="安全事件检测模块"><a href="#安全事件检测模块" class="headerlink" title="安全事件检测模块"></a>安全事件检测模块</h2><ul>
<li>支持流量抓包任务的控制操作，包括启动、停止、下载、删除，需提供产品功能截图证明。</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/70b066d1bc4a2b590bd569cdd22ca57d.png"></p>
<p>功能参数设计为，系统支持接收汽车网络攻防流量数据进行安全事件检测分析。支持多种攻击检测，包括扫描探测、攻击突破、远程控制、窃取利用类型。最近一小时安全事件实时数据攻击类型统计、危害等级统计、攻击趋势统计和列表信息展示。安全事件详情查看，基于时间段筛选查看安全事件历史数据。安全检测事件外发，日志外发服务器配置。基于检测规则的靶向检测策略配置。接收攻击类型靶向检测策略指令，自动关联规则进行批量启用与停用。接收试验环境漏洞靶向采集策略指令。规则限权管理，规则查看与查询。基于规则包定期升级规则并展示升级记录。原始流量协议解析与大小分析。流量分析结果发送到大数据平台存储。流量分析结果管理与展示，流量分析结果统计分析。原始流量抓包分析，流量抓包任务控制操作。流量接收网络接口管理。</p>
<p>性能参数设计为，单个流量分析抓包任务文件大小200MB，关联漏洞信息的靶向检测规则20000条，系统内置安全事件检测规则40000条。</p>
<h3 id="方案简介-15"><a href="#方案简介-15" class="headerlink" title="方案简介"></a>方案简介</h3><p>安全事件检测依赖于对系统、网络流量用程序的实时监控。通过数据的监控，分析出各种安全事件，其中包括：</p>
<ol>
<li>漏洞扫描</li>
<li>TCP SYN扫描</li>
<li>端口扫描</li>
<li>路径遍历</li>
<li>资源泄漏暴露</li>
<li>缓冲区溢出</li>
<li>XSS攻击</li>
<li>暴力破解</li>
<li>文件下载</li>
<li>代码注入</li>
<li>命令注入</li>
<li>窃取利用</li>
</ol>
<p>安全事件检测整体框架如下图所示：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/c06195a49060af47cddbb74e71567e62.png"></p>
<p>使用外部威胁情报源的信息，可以帮助安全事件检测更好地识别已知的威胁指标，如恶意IP地址、已知攻击签名等。</p>
<p>安全事件检测使用事先定义的分析规则和检测规则来分析收集到的事件数据。这些规则可以基于模式匹配、异常检测、行为分析等技术。当检测到潜在威胁或异常行为时，系统应该能够生成实时警报，通知管理员采取适当的响应措施。</p>
<p>安全事件检测不仅仅是识别威胁，还包括采取措施应对它们。包括阻止攻击流量、隔离受影响系统、更新防御策略等。安全事件检测是一个不断改进的过程。通过分析事件和响应数据，可以识别攻击趋势和攻击模式，并不断优化检测规则和防御策略。</p>
<p>该模块支持接收汽车网络攻防流量数据，将其用于后续的安全事件检测和分析。这包括原始流量的捕获和存储，以及对流量数据进行协议解析和大小分析，以提供全面的网络情报。安全事件的实时统计和列表展示是模块的核心功能，提供攻击类型、危害等级和趋势分析，使安全团队能够快速识别并响应潜在威胁。用户可以查看每个安全事件的详细信息，包括时间、规则ID、源IP、目的IP、协议等，以便进行深入的调查和分析，并且支持对安全事件历史数据的筛选查看，以便了解攻击趋势和历史威胁情况，从而采取更有针对性的防御措施。该模块还提供规则管理功能，包括添加、修改、删除、查看、查询和升级规则，以确保安全策略的灵活性和实效性，并且支持系统内置安全事件检测规则至少为40000条。</p>
<p>该模块提供了安全事件外发功能，支持Syslog和Kafka两种形式的日志外发，以便与其他安全系统集成和协作。可以配置靶向检测策略，包括攻击类型和关联漏洞信息的靶向配置，支持关联漏洞信息的靶向检测规则至少20000条。</p>
<p>为了深入调查安全事件，模块支持原始流量抓包分析，包括任务创建和控制，以获取更多的网络细节，其中每一次进行流量抓包，所生成的文件最大可达到300MB。且管理流量接收的功能涵盖了速率、连接状态以及名称的监测和管理，以确保流量传输的可靠性。</p>
<p>数据源接口：安全事件检测模块需要与流量镜像接口连接，用于收集原始流量数据。</p>
<p>事件分析引擎：使用基于规则的事件分析引擎来检测异常或潜在的威胁。包括基于规则的检测、行为分析和模式匹配等技术。检查规则策略可自定义配置以适应检查过程、结果的优化和持续演进。</p>
<p>事件外发：使用基于非对称加密技术将安全事件数据加密共享外发到指定的服务器（消息中心、数据中心、知识库等），这些数据可用于其他信任系统、用户进行分析和同步。</p>
<p>实时警报生成：当检测到潜在威胁或异常事件时，安全事件检测模块应能够生成实时警报，以通知安全团队或管理员采取适当的行动。</p>
<h2 id="安全数据融合"><a href="#安全数据融合" class="headerlink" title="安全数据融合"></a>安全数据融合</h2><ul>
<li>支持通过文件上传、下载实现日志源设备的批量导入、批量导出，可快速、便捷地进行设备管理，需提供产品功能截图证明。</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/4d8ae83c76467621de2a9fb89cb7339a.png"></p>
<p>功能参数设计为，系统支持日志源设备管理，设备信息管理。文件上传下载实现日志源设备批量导入导出。日志源设备日志解析测试。基于TCP和UDP的syslog方式和Kafka消息队列方式日志数据接入。接收安全事件检测产生的多源异构日志数据，进行数据汇聚、清洗与转发。接收汽车攻防演练场景安全日志，进行数据清洗、解析与融合。多源异构安全事件解析处理，转换为标准格式安全事件。快速零代码编程实现不同厂商设备日志数据解析。管理多种异构日志解析规则。新增日志解析规则管理，解析规则配置管理。基于正则表达式日志数据解析。解析日志字段与目标字段映射关系配置。基础攻击类型知识体系维护与管理。安全事件与攻击类型映射关系维护。基于设备型号关系维护，关键词分类方式安全事件组织。关键词与基础攻击类型映射关系维护。基于试验任务拓扑信息等，进行虚拟局域网与网络IP地址关系抽取与管理。基于融合生成基础攻击数据中VLAN和IP地址，自动关联应用试验任务。</p>
<p>性能参数设计为，支持国内主流安全厂商检测设备产品日志收集、转换、解析、融合，覆盖类型20种，融合生成基础攻击性能5000条/秒，融合安全事件类型50000种。</p>
<h4 id="项目背景-1"><a href="#项目背景-1" class="headerlink" title="项目背景"></a>项目背景</h4><p>随着智能汽车网络的复杂性增加，对网络攻防活动的监控与分析变得越来越重要。本系统旨在实现对智能汽车网络中的安全事件进行实时检测与分析，能够处理各类攻击类型，并通过流量分析提供深入的网络安全态势感知。系统将支持事件检测、流量抓包、协议解析、安全事件外发等功能，确保网络安全防护的及时性和有效性。</p>
<h4 id="功能-4"><a href="#功能-4" class="headerlink" title="功能"></a>功能</h4><p>安全事件检测分析</p>
<p>攻防流量数据接收：支持接收汽车网络攻防流量数据进行安全事件检测分析。</p>
<p>攻击类型检测：支持扫描探测、攻击突破、远程控制、窃取利用类型攻击检测。</p>
<p>攻击检测细分：支持具体攻击类型的详细检测。</p>
<p>实时安全事件统计：支持最近一小时安全事件实时数据的统计与展示。</p>
<p>安全事件详情查看：支持查看安全事件的详细信息。</p>
<p>安全事件历史数据查看：支持基于时间段筛选查看安全事件历史数据。</p>
<p>安全检测事件外发：支持安全检测事件的外发。</p>
<p>检测策略与规则管理</p>
<p>靶向检测策略配置：支持基于检测规则的靶向检测策略配置。</p>
<p>靶向检测策略执行：支持接收系统下发的靶向检测策略指令。</p>
<p>规则限权管理：支持对检测规则的权限管理。</p>
<p>规则查看与查询：支持规则的查看与查询。</p>
<p>规则包升级：支持基于规则包的定期升级。</p>
<p>流量分析与管理</p>
<p>原始流量协议解析：支持对原始流量进行协议解析。</p>
<p>流量分析结果管理：支持对流量分析结果进行管理与展示。</p>
<p>流量统计分析：支持对流量分析结果进行统计分析。</p>
<p>流量抓包分析：支持进行原始流量抓包分析。</p>
<p>流量抓包任务管理：支持流量抓包任务的控制操作。</p>
<p>流量接收网络接口管理：支持流量接收网络接口的管理。</p>
<h4 id="性能-6"><a href="#性能-6" class="headerlink" title="性能"></a>性能</h4><p>流量抓包任务文件大小：支持单个流量分析抓包任务文件大小为200MB。</p>
<p>靶向检测规则数量：支持关联漏洞信息的靶向检测规则20000条。</p>
<p>内置安全事件检测规则数量：支持系统内置安全事件检测规则40000条。</p>
<p>本系统为智能汽车网络安全提供了一个全面的事件检测与流量分析解决方案。通过实时监控和分析网络流量，系统能够及时发现并响应各类安全事件，同时提供详细的事件信息和历史数据查看功能。系统的外发功能能够将重要事件信息及时传递到其他安全系统中，确保安全防护的连贯性。此外，系统支持的靶向检测策略和规则管理功能，使得安全防护更加灵活和精确。通过高性能的流量分析和抓包功能，系统能够处理大规模的数据，满足智能汽车网络安全监控的需求。</p>
<h3 id="方案简介-16"><a href="#方案简介-16" class="headerlink" title="方案简介"></a>方案简介</h3><p>面对不同的安全数据来源比如防火墙、IDS、IPS、WAF、EDR等安全设备，这些数据通常具有不同格式、结构和粒度，需要对这些数据进行去除重复数据、处理缺失数据、解决数据不一致性等处理，并将数据结构和数据内容多样的数据解析并整合成统一的数据集，便于后续攻击检测研判、安全分析评估等理解与使用。</p>
<p>系统提供了强大的功能，能够对国内一些常见大众的安全厂商检测设备产品日志进行全面处理，包括融合、解析、收集以及转换析等关键操作。性能上，系统每秒能够融合生成至少5000条基础攻击数据，并且能够融合的安全事件类型数量高达52000种。此外，系统还可以处理超过20种不同类型的检测设备，覆盖了常见厂商，如启明星辰、深信服、绿盟科技、奇安信、新华三以及天融信等。这一系列强大的功能将大幅简化安全数据处理的复杂性，使安全团队能够更轻松地理解和利用这些多样化的安全数据。</p>
<p>该模块提供了一套完整的安全事件管理和组织体系。首先，用户可以根据事件信息对安全事件进行基础攻击类型的组织，使安全事件更有条理性和可理解性。其次，系统支持基础攻击类型知识体系的维护与管理，这一体系按层次分类，其中第一层分类超危窃取利用类、高危远程控制、低危扫描探测类、中危攻击突破类。此外，系统还能够维护安全事件和基础攻击类型之间的关系知识体系，涵盖了维护源目地址是否交换、事件描述、基础攻击ID以及安全事件ID等信息。系统的功能还包括支持基于设备型号进行关系维护，用户可以方便地添加、修改、删除和查询规则，同时支持批量导入、导出和删除的管理操作。另外，系统提供了基于关键词分类方式的安全事件组织功能，这有助于在无法完全覆盖安全事件与攻击类型映射关系的情况下进行组织和融合。最后，系统还允许用户维护关键词与基础攻击类型之间的映射关系，包括管理关键词组和攻击类型等相关信息。在关键词管理中，用户可灵活使用多种通配符和逻辑运算符。通配符方面，支持使用’?’表示任意一个字符，’*‘表示N个任意字符，’’表示转义符，放置于特殊符号前可将其转换为普通符号。逻辑运算符涵盖与(&amp;)、或(|)、非(!)，同时允许使用括号()来组合关键字并能够区分优先级。</p>
<p>安全数据获取及对应文件标准化格式如下示意，从安全防护设备中实时获取安全数据。将从安全防护设备中获得的原始数据日志输入到系统中。其中安全防护设备日志文件包含“源IP/源端口/目的IP/目的端口/警告类型”等信息，对日志数据使用“/”作为每一项信息的分隔符对重要信息进行存储，形成标准化日志格式。例如：防火墙处的日志格式为“12.XX.XX.XX/设备X1/时间t1/行为日志等”，IDS处的日志格式为“源IP/入侵检测IP/时间戳/事件等”，WAF处的日志格式为“源IP/访问时间戳/是否阻断等”，EDR处的日志格式为“源IP/时间戳/目标IP/认证结果等”。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/13ca50808fe2085653019cba248e4e6c.png"></p>
<p>系统能够不同数据源的多源异构日志数据，将安全防护设备获得的标准化日志数据进行整合，创建统一数据库及数据库表，其数据列包括源IP、源端口、目的IP、目的端口、时间戳、事件行为、告警类型等信息。其中对日志文件中的事件行为、告警类型等文本信息采用分类等技术对日志进行事件及告警分类，提取事件行为要素。对于多条数据记录，采用聚类等技术将相似来源、相似行为、相似目的数据记录从不同角度进行聚类，并基于聚类结果进一步提取安全数据要素。如下图所示，对不同行为日志进行文本分类，从而提取三条行为日志中的行为要素A,行为要素B和行为要素C等，再利用聚类技术将三条记录进行聚类。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/05c11c361a12d343aebde62157e19e3d.png"></p>
<p>安全数据融合体系结构如下所示：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/dcb145cf30e88d1ad48f65a69bfffccd.png"></p>
<p>数据采集：从各种数据源收集原始数据，包括各位安全设备，确保采集的数据包括所需的关键信息，并记录数据源和时间戳。</p>
<p>数据清洗：对原始数据进行清洗和预处理，包括去除重复项、处理缺失数据、解决异常值、规范化数据格式等，以提高数据质量。</p>
<p>数据整合：将来自不同源头的数据整合到一个一致的数据集中，包括数据结构的转换、字段映射、数据合并等操作。</p>
<p>数据融合：将数据转换为融合到统一知识体系中，适用于后续分析与应用。融合方式包括基于关键字的融合和基于事件类型的映射。</p>
<p>数据融合主要包含以下模块元素。系统需要对数据源设备进行管理，包括添加、修改、删除，且可通过上传下载文件的方式进行批量导入与导出，设备信息包括名称、厂商、类型、型号和地址。数据采集方式能够在界面配置基于TCP和UDP的syslog方式以及kafka方式进行日志数据接入。此外，支持快速零代码编程，实现不同厂商、不同设备的日志数据解析。数据解析方面可以在界面添加、修改与删除解析规则，针对某一具体规则，系统提供了配置选项，涉及到日志样本、相应的解析方式、对应的分隔符以及过滤符号等多个方面的配置。解析方式方面，系统支持两种解析方法，即键值对和固定分隔符，用户可以根据需要选择。键值分隔符则提供了等号、冒号、空格等不同的设置选项，字段分隔符内置了多种选项，如分号、逗号、通道符、tab键等，以满足用户对于日志样本解析的多样化需求。用户可根据实际需求进行灵活配置。此外，还支持基于正则表达式来解析日志数据，以适应的不同日志格式，并能通过描述、CVE漏洞信息、目的端口、源端口、目的IP地址、源IP地址、事件ID以及时间等字段映射具体内容。最后通过界面上维护的安全事件和关键字，将其融合到统一知识体系。同时该模块可以自动将融合后的基础攻击数据与VLAN以及IP地址相关联，进而自动生成相应的应用试验任务，随之产生基础攻击相关的靶标、队伍以及设备信息。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/457326bf066b644d8c6843113aa1aac8.png"></p>
<h2 id="关键功能截图"><a href="#关键功能截图" class="headerlink" title="关键功能截图"></a>关键功能截图</h2><ol>
<li>可基于网络安全知识图谱中的知识，结合靶场汽车应用试验关联的节点、资产、漏洞数据，构建应用试验相关的试验场景图谱，支撑攻击检测分析与扩展研究，知识图谱关联的节点至少包含被测车辆、零部件、虚拟化MCU、虚拟化MPU等4种类型，关联的资产至少包含整车品牌、车型、车辆、车型项目（年款）、包含的零部件的硬件平台、操作系统内核版本信息、固件版本、中间件版本、应用程序版本等9类信息，漏洞数据至少包含漏洞名称、CVE编号、涉及平台、危害级别、漏洞类型、公开日期等6类信息。以上信息均可在同一个子图中以可视化的形式展现。</li>
</ol>
<p><strong>响应方案:</strong></p>
<p>基于网络安全知识图谱的丰富知识，结合与靶场汽车应用试验关联的多个要素，可以构建出强大而全面的应用试验相关的试验场景图谱。这个知识图谱将为攻击检测分析和进一步的扩展研究提供坚实的基础。在这个知识图谱中，将聚焦于多种类型的关联节点，涵盖了汽车领域的关键组成部分。</p>
<p>以下是知识图谱关联的主要节点类型，每种节点类型都以可视化的方式展现：</p>
<ol>
<li>包含了汽车的标识信息、车型和车辆特性等。</li>
<li>可以清晰地显示被测车辆的属性和特征。</li>
<li>涵盖了车辆中各个组件的信息，如引擎、制动系统、安全气囊等。</li>
<li>提供了零部件的类型、型号和技术规格等详细信息。</li>
<li>包括了虚拟化MCU的配置和性能参数要求，用于车辆电子系统的控制。</li>
<li>可视化展示虚拟化MCU的组成和功能。</li>
<li>包括了虚拟化MPU的信息，这是车辆计算平台的核心。</li>
<li>提供了虚拟化MPU的性能规格和操作系统信息。</li>
</ol>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/c4828a17fbbab94021530d335b79ed40.png" alt="IMG_256"></p>
<p>在知识图谱的节点之间，还包括了关联的资产信息，这些信息涵盖了广泛的领域，如：</p>
<ol>
<li>识别汽车的制造商和品牌信息，以便确定车辆的制造背景。</li>
<li>确定车辆的具体型号和车型名称，以区分不同类型的汽车。</li>
<li>提供关于每辆车辆的详细信息，包括车辆的VIN号、注册信息等。</li>
<li>包括车型的不同年份版本，以跟踪车型的发展历程。</li>
<li>描述车辆零部件的硬件平台和技术规格。</li>
<li>提供车辆系统使用的操作系统内核的版本信息，以便安全性分析。</li>
<li>记录车辆各个组件的固件版本号，以便检测潜在漏洞。</li>
<li>包括车辆中使用的中间件的版本和配置信息。</li>
<li>提供车辆中运行的应用程序的版本和相关信息。</li>
</ol>
<p>最后，还将整合漏洞数据，其中包括漏洞的名称、CVE编号、涉及平台、危害级别、漏洞类型和公开日期等关键信息。这些数据将与其他节点相互关联，以帮助系统分析漏洞对车辆和零部件的潜在威胁。整个知识图谱将为智能汽车网络靶场提供全面的视图，帮助分析和解决安全挑战。</p>
<ol>
<li>支持试验相关数据概括呈现，包括试验关联队伍、靶标、设备相关数据和试验资产漏洞、基础攻击、有效攻击、复杂攻击等相关安全攻防数据统计与直观展示，需提供产品功能截图证明。</li>
</ol>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/1d1cdddf78604325aa49f166f9693e86.png" alt="企业微信截图_6e2605f8-a886-43b7-9c5f-1125f1cffa5c"></p>
<ol>
<li>支持在微观拓扑中展示对应汽车靶标节点信息，包括车联网业务管理后台、TBOX、网关、车机、域控制器等类型，节点名称可编辑，需提供产品功能截图证明。</li>
</ol>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/ac0169e9b76ab1ef195b11550bcd6c31.png"></p>
<ol>
<li>支持图谱路径查询，可指定起始节点、目标节点、方向进行路径查询与展示，需提供产品功能截图证明。</li>
</ol>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/7520345467b4bc4c8cacb1e8787efaa8.png"></p>
<ol>
<li>支持对探测设备进行条件查询，包括名称、IP、型号等模糊查询，需提供产品功能截图。</li>
</ol>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/43e9252d7e99b6d31f4f0d853b7f3c1e.png"></p>
<ol>
<li>支持对探测结果进行解析，生成资产IP、漏洞ID、漏洞分数、漏洞类型、漏洞描述等信息，需提供产品功能截图证明。</li>
</ol>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/f2ebea3140b7af72282bbfc179e6164f.png"></p>
<ol>
<li>可探测漏洞数量不低于30000个，需提供产品功能截图证明，截图中需有具体的漏洞数量并能清晰识别。</li>
</ol>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/ec1a3f365da0eb7e21cd97b995e26bcb.png"></p>
<ol>
<li>支持流量抓包任务的控制操作，包括启动、停止、下载、删除，需提供产品功能截图证明。</li>
</ol>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/a999e605c96869d93efd0eef57258c9f.png"></p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/965808a935e43286f26f797c100d7675.png"></p>
<ol>
<li>支持通过文件上传、下载实现日志源设备的批量导入、批量导出，可快速、便捷地进行设备管理，需提供产品功能截图证明。</li>
</ol>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/4d8ae83c76467621de2a9fb89cb7339a.png"></p>
<h1 id="智能汽车网络靶场分布式适配分系统"><a href="#智能汽车网络靶场分布式适配分系统" class="headerlink" title="智能汽车网络靶场分布式适配分系统"></a>智能汽车网络靶场分布式适配分系统</h1><h2 id="分布式试验管控模块"><a href="#分布式试验管控模块" class="headerlink" title="分布式试验管控模块"></a>分布式试验管控模块</h2><ul>
<li>支持主靶场下达开始、暂停、停止分布式场景的控制命令，提供产品功能截图证明；</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/8581226f92c76dcd23a0e810455e4019.png" alt="IMG_256"></p>
<p>功能参数设计为，系统支持主靶场下达开始、暂停、停止分布式场景的控制命令。分靶场接收主靶场试验管控调度指令，控制靶场试验进度。分靶场向主靶场发送试验状态信息，包括人员接入状态和试验运行状态。分靶场向主靶场发送演练提交结果信息，接收主靶场的跨靶场结果验证信息。主靶场汇总用户提交记录信息同步到分靶场。主靶场下达分靶场实验资源调度生成指令，部署实验环境，实现主靶场用户访问分靶场资源。</p>
<h4 id="项目背景-2"><a href="#项目背景-2" class="headerlink" title="项目背景"></a>项目背景</h4><p>随着网络安全演练和教育的需求日益增长，分布式靶场系统成为了一种高效的解决方案，它允许多个靶场相互协作，共享资源，实现大规模、多节点的网络安全演练。本系统旨在提供一个集中管理的平台，以实现对分布式靶场环境中的试验管控、状态同步、结果提交和验证等功能的集成。</p>
<h4 id="功能-5"><a href="#功能-5" class="headerlink" title="功能"></a>功能</h4><p>靶场管控命令下达</p>
<p>管控命令下达：支持主靶场对分布式场景的开始、暂停、停止等控制命令的下达。</p>
<p>靶场试验进度管控</p>
<p>试验管控调度：支持分靶场接收主靶场的试验管控调度指令，以控制靶场的试验进度。</p>
<p>试验状态信息同步</p>
<p>状态信息反馈：支持分靶场向主靶场发送试验状态信息，如人员接入状态、试验运行状态等。</p>
<p>演练结果提交与验证</p>
<p>结果提交与验证：支持分靶场向主靶场发送演练提交结果，并接收主靶场的跨靶场结果验证信息。</p>
<p>实验资源调度与访问</p>
<p>实验资源调度：支持主靶场下达分靶场某个实验资源的调度生成指令。</p>
<p>实验资源访问：保证主靶场的用户能够访问分靶场生成好的实验资源。</p>
<h4 id="系统架构-2"><a href="#系统架构-2" class="headerlink" title="系统架构"></a>系统架构</h4><p>主靶场管理模块</p>
<p>负责整个分布式靶场系统的中心管理。</p>
<p>实现对分靶场的控制命令下达。</p>
<p>汇总分靶场的试验状态信息和演练结果。</p>
<p>分靶场管控模块</p>
<p>接收来自主靶场的试验管控调度指令。</p>
<p>反馈试验状态信息至主靶场。</p>
<p>提交演练结果至主靶场，并接收验证信息。</p>
<p>实验资源调度模块</p>
<p>接收主靶场的资源调度指令，部署实验环境。</p>
<p>管理实验资源的分配和访问权限。</p>
<p>网络通信模块</p>
<p>保障主靶场与分靶场之间的通信顺畅、安全。</p>
<p>实现数据的加密传输和身份验证。</p>
<h4 id="技术实施"><a href="#技术实施" class="headerlink" title="技术实施"></a>技术实施</h4><p>高可用性：确保系统稳定运行，能够及时响应各种管控命令。</p>
<p>实时性：状态信息和演练结果的反馈应具有较高的实时性。</p>
<p>安全性：通信过程中要保证数据的加密和系统的防护。</p>
<p>扩展性：系统设计应考虑未来靶场数量的增加和功能的拓展。</p>
<p>通过实施本方案，可以实现对分布式靶场环境的高效管理和管控，提高网络安全演练的协作性和灵活性。系统的设计兼顾了实时性和安全性，确保了各项数据的准确传输和处理。通过集中管理平台，主靶场能够有效地调度资源，同步信息，并验证演练结果，为用户提供一个统一的操作界面和体验。</p>
<h3 id="方案简介-17"><a href="#方案简介-17" class="headerlink" title="方案简介"></a>方案简介</h3><p>分布式试验管控模块支持向联邦靶场态势系统发送演练配置信息，支持接收联邦靶场态势系统的跨靶场结果验证信息。支持将本网络仿真平台配置分析采集数据、检测数据等发送到主靶场或其它分靶场做进一步分析。同时支持手动同步更新分靶场和主靶场数据。</p>
<p>分布式试验管控模块支持选择相关设备分别下发资产探测、漏洞探测、流量采集后，采集到的资产漏洞数据、流量数据等任务数据，以及检测到的攻击数据将上报到绿方系统，上报支持Kafka、Syslog等方式。</p>
<p>试验可对分靶场下发攻击子图注册任务，子图包括基础攻击子图和复杂攻击子图。从分靶场接收的安全事件数据经过融合得到不同类型的基础攻击子图，基础攻击子图将基于时空关系经由关联分析模块进一步组合得到复杂攻击子图。根据攻击数据与攻击子图进行匹配，将进一步得到有效基础攻击和有效复杂攻击。</p>
<p>全局数据支持根据试验或分靶场分类查看。数据传输过程中支持加密安全传输。</p>
<p>系统展示所有与主靶场互联的分靶场信息，包括分靶场名称、IP地址、地理位置、在线状态等，点击详情可查看分靶场的详细信息。系统还对主靶场下发到分靶场的试验进行汇总展示，包括试验名称、创建时间、试验进度、试验任务（资产探测、漏洞探测、流量采集、注册攻击子图）等，支持根据试验名称模糊查询，根据试验进度或创建时间精确查询。点击单个试验的资产探测/漏洞探测/流量采集查看任务详情，包括任务信息和任务对应的采集数据。每个试验可下发注册攻击子图任务，包括基础攻击子图和复杂攻击子图，用于攻击检测的关联分析。</p>
<p>所有分靶场的安全事件、基础攻击、复杂攻击、有效基础攻击和有效复杂攻击都将通过加密传输到主靶场进行全局攻击分析。</p>
<h2 id="分布式目标网络互联模块"><a href="#分布式目标网络互联模块" class="headerlink" title="分布式目标网络互联模块"></a>分布式目标网络互联模块</h2><ul>
<li>支持主靶场网络拓扑编辑时，使用分靶场中的资源进行拓扑编辑，并与主靶场的拓扑编辑融为一体互联互通，用以支撑联邦试验开展共享测试资源，至少支持10个异地靶场的互联，每个靶场至少提供10个被测节点，其中至少包含1个实物节点，同时接入进行测试的人员不低于1000人。</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/7d1d20731fcde6e55afc32b689bb5e19.png"></p>
<p>联邦靶场互联</p>
<p>为了迎合现代联邦试验的要求和支撑共享测试资源的需要，本系统具备强大的网络拓扑编辑功能。该功能不仅支持主靶场网络拓扑的编辑，还可以实现分靶场资源的整合和利用。通过这种设计，即便是分布在不同地理位置的靶场也能够将自己的资源投入到联合网络的拓扑结构中，这些靶场之间将能无缝联接，实现互联互通的高效能力。</p>
<p>通过本系统，用户可以在主靶场网络拓扑编辑中方便地使用来自分靶场的资源。这意味着无论资源位于何处，都可以被整合入总体测试网络中，从而为联邦试验提供所需的测试场景和网络环境。该系统的设计理念基于网络测试的共享和协作，进一步加强了不同测试靶场之间的合作机制。</p>
<p>系统支持10个异地靶场的互联互通，每个靶场提供10个被测节点，为用户带来了不同地点、不同环境下的测试体验和数据。每个靶场包含1个真实的实物节点，确保测试结果的实用性和真实性。实物节点的接入提供了有形资产的测试能力，对于物理网络环境下的安全漏洞分析与网络性能测试至关重要。</p>
<p>本系统能够支持1000名用户同时接入并进行测试。这一能力展示了系统出色的用户负载能力与资源管理效率。大规模用户接入模拟可以极大地模拟真实世界中网络的负载和压力情况，使得测试更加紧贴真实运营环境。</p>
<p>通过如此高效强大的网络设计和测试平台，能够极大地支援跨地区、跨网络环境的广泛测试需求。它不单单局限于汽车网络安全的测试，还可以拓展到其他需要联合网络资源共享以及大规模节点与用户测试的领域，如云计算、物联网等先进技术领域。这将有助于推动不同行业之间的技术交流与合作，同时也能确保网络环境和系统在面对各种挑战时的高度安全与稳定性。</p>
<p>功能参数设计为，系统支持资源注册到主靶场，分靶场可以管理分享给主靶场使用的资源范围和数量。主靶场对分靶场注册管理，授权分靶场可使用资源。主靶场查看分靶场镜像、靶标、赛题等资源，分靶场注册本地资源到联邦靶场。主靶场网络拓扑编辑时使用分靶场资源进行拓扑编辑，与主靶场拓扑编辑互联互通，支撑联邦试验共享测试资源。支持10个异地靶场互联，每个靶场提供10个被测节点，包含1个实物节点，同时接入测试人员1000人。驱动分靶场生成网络拓扑配置中用到的资源，生成分靶场与主靶场互联互通的试验环境。分靶场接受主靶场的互联调度，控制目标网络互联。</p>
<h4 id="项目背景-3"><a href="#项目背景-3" class="headerlink" title="项目背景"></a>项目背景</h4><p>在网络安全演练和联邦试验的背景下，多个靶场之间的资源共享和网络拓扑的互联互通变得至关重要。这不仅要求靶场之间能够高效地共享资源，还要求能够构建一个统一的网络拓扑，以支持大规模的网络安全测试和演练。本系统旨在实现主靶场与分靶场之间资源的注册、管理、共享以及网络拓扑的编辑和互联。</p>
<h4 id="功能-6"><a href="#功能-6" class="headerlink" title="功能"></a>功能</h4><p>资源注册与管理</p>
<p>资源注册：分靶场可管理并分享资源给主靶场使用，包括资源范围和数量。</p>
<p>靶场注册管理：主靶场支持对分靶场的注册管理，并对分靶场可使用的资源进行授权。</p>
<p>资源查看与注册</p>
<p>资源查看：主靶场能够查看分靶场的镜像、靶标、赛题等资源。</p>
<p>资源注册：分靶场支持将本地资源注册到联邦靶场。</p>
<p>网络拓扑编辑与互联</p>
<p>拓扑编辑：主靶场可使用分靶场资源进行网络拓扑编辑，实现与主靶场拓扑的互联互通。</p>
<p>联邦试验支持：系统支持10个异地靶场的互联，每个靶场提供10个被测节点，包括1个实物节点，支持1000人同时接入进行测试。</p>
<p>试验环境生成与控制</p>
<p>环境生成：支持驱动分靶场生成网络拓扑配置中使用的资源，生成互联互通的试验环境。</p>
<p>互联调度：分靶场支持接受主靶场的互联调度，控制目标网络之间的互联。</p>
<h4 id="系统架构-3"><a href="#系统架构-3" class="headerlink" title="系统架构"></a>系统架构</h4><p>主靶场管理模块</p>
<p>实现对分靶场资源的查看、注册管理和授权。</p>
<p>负责网络拓扑的编辑和联邦试验的支持。</p>
<p>分靶场管理模块</p>
<p>管理分享给主靶场的资源。</p>
<p>注册本地资源到联邦靶场。</p>
<p>生成与主靶场互联互通的试验环境。</p>
<p>网络拓扑编辑模块</p>
<p>使主靶场能够编辑一个包含分靶场资源的统一网络拓扑。</p>
<p>支持高级网络拓扑设计和配置。</p>
<p>互联调度控制模块</p>
<p>控制分靶场与主靶场之间互联互通的网络环境。</p>
<p>实现目标网络之间的互联调度。</p>
<h4 id="技术实施-1"><a href="#技术实施-1" class="headerlink" title="技术实施"></a>技术实施</h4><p>高并发性能：系统需要支持1000名用户同时接入进行测试。</p>
<p>高可靠性：确保互联互通的网络环境稳定运行。</p>
<p>灵活性：允许用户根据需要灵活配置和管理资源。</p>
<p>安全性：保障数据的安全传输和用户的安全接入。</p>
<p>通过实施本方案，可以实现主靶场与分靶场之间的高效资源管理与共享，以及网络拓扑的灵活编辑和稳定互联。系统将支持大规模的网络安全测试和演练，满足联邦试验的需求。主靶场与分靶场之间的高度集成和协调，将为用户提供一个无缝的测试和演练环境，促进网络安全教育和实践的发展。</p>
<h3 id="方案简介-18"><a href="#方案简介-18" class="headerlink" title="方案简介"></a>方案简介</h3><p>分布式目标网络互联模块具备最先进的设计理念和技术，在技术标准方面遵循国际通用和广泛采用的标准，网络通讯协议和接口需符合国际标准，支持国际上通用标准的网络协议（如TCP/IP）网络的路由转发符合国际标准的路由协议，这样有利于保证分布式网络能够有统一的标准，使得与其他网络之间的平滑连接互通，方便业务的需要接入不同厂商的设备和网络产品。在系统架构上，分布式网络平台应采用可扩展的架构，便于灵活扩展，以便根据未来业务的增长和变化，可以平滑的扩充和升级，最大程度的减少对网络架构和现有设备的调整。易于增加新设备、新用户，易于和各种公用网络连接，随系统应用的逐步成熟不断完善靶场的功能。网络靶场是一个复杂的系统，在易维护性方面，需要能对系统本身的运行状态及资源进行集中监测，分权管理，并能告警与远程维护与管理。在可靠性方面，具有容错能力，并长时间的运行能可靠稳定运行。系统采用分布式的冗余备份，合理设计网络架构，制订可靠的网络备份策略，保证网络具有故障自愈的能力，最大限度地支持系统的正常运行。</p>
<p>基于分布式中间件技术，及其资源调度、分布式试验控制、分布式数据共享以及负载均衡等基础服务，实现分布式靶场跨平台和跨地域的互联互通，以及试验资源统一调度、试验数据统一分析等功能。</p>
<p>系统选用Java、JavaScript等多种语言混合搭建，作为一个大型系统，混合语言编程已经被大家所认可，且有着活跃的社区和充分的技术支持的组件作为系统的技术组成，在保证了系统成熟稳定的同时，也保证了技术的先进、可持续以及系统化。</p>
<p>微服务架构：基于Spring Cloud Alibaba 2.x，该框架实现了微服务的核心功能，包括服务注册与发现、配置管理、负载均衡、熔断限流等。它能够将多个主靶场和分靶场作为独立的微服务进行管理，实现系统的高可用和弹性伸缩。</p>
<h2 id="分布式态势分析互联模块"><a href="#分布式态势分析互联模块" class="headerlink" title="分布式态势分析互联模块"></a>分布式态势分析互联模块</h2><ul>
<li>支持试验中分靶场上报汽车安全事件数据到主靶场，提供产品功能截图证明。</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/b0df777e8d0313bbca3cf042df5eeab6.png" alt="1703516707411"></p>
<h3 id="方案设计-14"><a href="#方案设计-14" class="headerlink" title="方案设计"></a>方案设计</h3><p>功能参数设计为，系统支持分靶场主动请求主靶场进行知识共享和主动共享知识到主靶场。主靶场接收分靶场的共享知识，包括汽车资产、漏洞、弱点、基础攻击和复杂攻击知识。主靶场共享知识到分靶场，融合已有知识与共享知识，包括去重、补全等。知识共享记录管理，包括共享数据类型、时间、共享知识条数等。知识共享靶场管理，添加、修改、删除共享靶场信息。试验前主靶场接收分靶场资产漏洞数据，关联对应试验任务。试验前分靶场上报标记靶场信息后的资产漏洞数据到主靶场。试验前主靶场接收分靶场同步的基础攻击子图和复杂攻击子图，关联试验任务注册到有效攻击检测。试验中主靶场接收分靶场的安全事件数据，基于攻击类型知识体系进行归一化解析与融合。试验中分靶场上报汽车安全事件数据到主靶场。试验中主靶场接收分靶场的汽车攻击分析数据，关联对应试验后发送到可视化进行展示。试验中主靶场分析攻击数据发送到分靶场。分靶场上报给主靶场数据传输方式包括API、Kafka、Syslog。数据同步共享靶场管理，全局数据管理，数据同步记录管理。</p>
<h4 id="项目背景-4"><a href="#项目背景-4" class="headerlink" title="项目背景"></a>项目背景</h4><p>在分布式的网络安全演练环境中，知识共享和数据同步是提高演练效率、完善安全防护体系的关键。本系统旨在实现主靶场与分靶场之间的知识与数据共享，包括漏洞、攻击模式和安全事件等信息的交换，以及相关数据的管理和同步，从而提高整个联邦靶场系统的响应能力和智能化水平。</p>
<h4 id="功能-7"><a href="#功能-7" class="headerlink" title="功能"></a>功能</h4><p>知识共享机制</p>
<p>主动共享请求：分靶场可主动请求主靶场进行知识共享，也可以主动共享知识到主靶场。</p>
<p>知识接收与共享：主靶场支持接收和共享分靶场的知识，涵盖汽车资产、漏洞、弱点、基础攻击和复杂攻击知识。</p>
<p>知识融合与管理</p>
<p>知识融合：支持融合已有知识与共享知识，采用去重、补全等方式。</p>
<p>共享记录管理：支持知识共享记录的管理，包括数据类型、共享时间、条数等。</p>
<p>靶场信息管理：支持共享靶场信息的管理，包括添加、修改、删除等操作。</p>
<p>试验前数据准备</p>
<p>资产漏洞数据关联：主靶场在试验前接收分靶场资产漏洞数据，并关联到对应试验任务。</p>
<p>攻击子图同步：主靶场接收分靶场同步的汽车基础攻击子图和复杂攻击子图，并注册到有效攻击检测中。</p>
<p>试验中数据处理</p>
<p>安全事件数据处理：主靶场接收分靶场的安全事件数据，并进行归一化解析与融合。</p>
<p>攻击分析数据关联：主靶场接收分靶场的攻击分析数据，并关联到试验后的可视化展示。</p>
<p>数据传输与同步</p>
<p>数据传输方式：支持分靶场通过API、Kafka、Syslog等方式上报数据给主靶场。</p>
<p>数据同步管理：支持数据同步共享靶场管理，包括靶场名称、共享地址、共享方式等。</p>
<p>全局数据管理</p>
<p>统一大数据平台：采用统一化大数据平台进行数据表示、存储，并支持高效计算。</p>
<p>数据同步记录管理：支持同步数据记录管理，包括数据类型、同步时间等。</p>
<h4 id="系统架构-4"><a href="#系统架构-4" class="headerlink" title="系统架构"></a>系统架构</h4><p>知识共享中心</p>
<p>负责管理和调度知识共享和数据同步任务。</p>
<p>实现知识的融合、去重和补全。</p>
<p>数据同步控制器</p>
<p>控制数据的传输方式和同步过程。</p>
<p>管理同步数据的记录和共享靶场信息。</p>
<p>试验任务管理器</p>
<p>在试验前后关联和处理资产漏洞数据、攻击子图、安全事件和攻击分析数据。</p>
<p>安全事件处理器</p>
<p>在试验中接收和归一化解析安全事件数据。</p>
<p>联合攻击类型知识体系进行数据融合。</p>
<p>可视化与分析模块</p>
<p>展示试验结果和攻击分析数据。</p>
<p>提供直观的界面和数据分析工具。</p>
<p>数据传输接口</p>
<p>提供API、Kafka、Syslog等多种数据传输接口。</p>
<p>大数据平台</p>
<p>统一表示和存储数据。</p>
<p>提供高效的数据处理和计算能力。</p>
<h4 id="技术实施-2"><a href="#技术实施-2" class="headerlink" title="技术实施"></a>技术实施</h4><p>数据安全性：确保知识共享和数据同步过程的安全性。</p>
<p>高性能处理：系统应能处理大规模数据和高并发请求。</p>
<p>可扩展性：系统架构支持靶场数量和数据量的增加。</p>
<p>用户友好性：提供易用的管理界面和可视化工具。</p>
<p>通过实施本方案，联邦靶场系统将实现高效的知识共享和数据同步，加强靶场间的协作与信息交换，提升整个系统的安全测试和演练能力。通过统一的大数据平台和高效的数据处理机制，系统将为用户提供一个强大、灵活且安全的网络安全演练环境。</p>
<h3 id="方案简介-19"><a href="#方案简介-19" class="headerlink" title="方案简介"></a>方案简介</h3><p>分布式态势分析是智能汽车网络靶场分布式适配分系统中的一个重要组件，主要用于实现资产与漏洞探测任务、攻击子图结合分析、其他靶场数据接收与转发。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/a5390fa3848a74507ec9f30b563e5328.png"></p>
<p>分布式态势分析具备最先进的设计理念和技术，在技术标准方面遵循国际通用和广泛采用的标准，网络通讯协议和接口需符合国际标准，支持国际上通用标准的网络协议（如TCP/IP）网络的路由转发符合国际标准的路由协议，这样有利于保证分布式网络能够有统一的标准，使得与其他网络之间的平滑连接互通，方便业务的需要接入不同厂商的设备和网络产品。在系统架构上，分布式网络平台应采用可扩展的架构，便于灵活扩展，以便根据未来业务的增长和变化，可以平滑的扩充和升级，最大程度的减少对网络架构和现有设备的调整。易于增加新设备、新用户，易于和各种公用网络连接，随系统应用的逐步成熟不断完善靶场的功能。网络靶场是一个复杂的系统，在易维护性方面，需要能对系统本身的运行状态及资源进行集中监测，分权管理，并能告警与远程维护与管理。在可靠性方面，具有容错能力，并长时间的运行能可靠稳定运行。系统采用分布式的冗余备份，合理设计网络架构，制订可靠的网络备份策略，保证网络具有故障自愈的能力，最大限度地支持系统的正常运行。</p>
<p>基于分布式中间件技术，及其资源调度、分布式试验控制、分布式数据共享以及负载均衡等基础服务，实现分布式靶场跨平台和跨地域的互联互通，以及试验资源统一调度、试验数据统一分析等功能。</p>
<p>系统选用Java、JavaScript等多种语言混合搭建，作为一个大型系统，混合语言编程已经被大家所认可，且有着活跃的社区和充分的技术支持的组件作为系统的技术组成，在保证了系统成熟稳定的同时，也保证了技术的先进、可持续以及系统化。</p>
<p>分布式态势分析功能架构如下图所示：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/6fd6742ae727bfbdc9bdd7377358217f.png"></p>
<ul>
<li>微服务架构：基于SpringCloudAlibaba2.x，该框架实现了微服务的核心功能，包括服务注册与发现、配置管理、负载均衡、熔断限流等。它能够将多个主靶场和分靶场作为独立的微服务进行管理，实现系统的高可用和弹性伸缩。</li>
<li>数据存储：采用MongoDB作为数据存储引擎，支持非结构化或半结构化数据的存储和查询。该框架提供了适配MongoDB的数据访问层，使得靶场之间可以方便地存储和共享数据，满足互联场景下的数据管理需求。采用统一的大数据平台进行全局数据管理，确保数据的一致性存储，并支持高效的统一计算。</li>
<li>安全认证和授权：框架通过深度定制SpringSecurity，实现了基于RBAC、JWT和OAuth2的无状态统一权限认证解决方案。它提供了统一的身份验证和权限控制机制，确保靶场之间的安全通信和数据保护。</li>
<li>弹性伸缩和负载均衡：框架支持水平扩展，可以根据需求动态增加或减少靶场的实例数量。利用SpringCloudAlibaba的负载均衡功能，框架能够自动将请求分发到不同的靶场实例，实现负载均衡和高可用性。</li>
<li>多环境部署和配置管理：该框架支持CI/CD多环境部署，可以方便地进行开发、测试和生产环境的切换。同时，它提供了配置管理功能，可根据不同环境的需求进行配置的灵活管理。</li>
<li>组件化设计和代码规范：框架采用组件化的思想，实现高内聚、低耦合和高核心功能</li>
</ul>
<p>系统平台支持向联邦靶场态势系统发送演练提交结果信息，支持接收联邦靶场态势系统的跨靶场结果验证信息。支持将本网络仿真平台态势分析采集数据、检测数据等发送到态势分析任务规定的主靶场或其它分靶场态势分析系统进行态势分析。同时支持手动同步更新分靶场和主靶场数据。</p>
<p>试验选择相关设备分别下发资产探测、漏洞探测、流量采集后，采集到的资产漏洞数据、流量数据等任务数据，以及检测到的攻击数据将上报到绿方系统，上报支持Kafka、Syslog等方式。</p>
<p>此外，试验前，可对分靶场下发攻击子图注册任务，子图包括基础攻击子图和复杂攻击子图。从分靶场接收的安全事件数据经过融合得到不同类型的基础攻击子图，基础攻击子图将基于时空关系经由关联分析模块进一步组合得到复杂攻击子图。根据攻击数据与攻击子图进行匹配，将进一步得到有效基础攻击和有效复杂攻击。</p>
<p>知识和数据同步共享靶场管理，可添加、修改、删除共享靶场信息，其中涵盖了共享方式、靶场共享地址以及靶场名称等。分靶场具备主动将自身所获知识主动共享到主靶场的能力，以促进整体知识体系的丰富和完善。这种双向的主动知识交流有助于构建更为协同、高效的安全防御体系，在知识融合过程中，系统将已有知识与共享知识进行综合整合。这一融合过程采用多种方式，其中包括去重处理，通过消除重复信息，确保知识的一致性和准确性。同时，还采用补全策略，填充缺失部分，以使知识更加完整和全面。这种融合方式能够提高知识库的质量，为后续安全分析提供更为可靠的基础，可以对共享记录进行管理，包括共享数据类型、共享时间、共享知识条数等。分靶场上报给主靶场数据传输方式包括API、Kafka、Syslog。</p>
<p>主靶场接收分靶场的共享知识，这有助于构建全面而深入的安全知识图谱，提升整体网络安全防护水平。其中涵盖了复杂攻击知识、基础攻击、漏洞、弱点、汽车资产。全局数据支持根据试验或分靶场分类查看。数据传输过程中支持加密安全传输。主靶场将经过分析的攻击数据发送至分靶场，同时接收分靶场的安全事件数据，然后根据攻击类型知识体系进行融合以及标准化解析，以及接收分靶场的汽车攻击分析数据，并与对应试验关联后将数据展示到可视化界面。</p>
<p>系统展示所有与主靶场互联的分靶场信息，包括分靶场名称、IP地址、地理位置、在线状态等，点击详情可查看分靶场的详细信息。系统还对主靶场下发到分靶场的试验进行汇总展示，包括试验名称、创建时间、试验进度、试验任务（资产探测、漏洞探测、流量采集、注册攻击子图）等，支持根据试验名称模糊查询，根据试验进度或创建时间精确查询。点击单个试验的资产探测/漏洞探测/流量采集查看任务详情，包括任务信息和任务对应的采集数据。攻击检测的关联分析每个试验可下发注册攻击子图任务，包括汽车基础攻击子图和复杂攻击子图。</p>
<p>所有分靶场的安全事件、基础攻击、复杂攻击、有效基础攻击和有效复杂攻击都将通过加密传输到主靶场进行全局攻击分析。管理数据同步记录，这些记录对于追踪数据同步过程和了解同步的内容至关重要，包括同步时间以及同步数据类型等。</p>
<h2 id="联邦互联模块"><a href="#联邦互联模块" class="headerlink" title="联邦互联模块"></a>联邦互联模块</h2><ul>
<li>支持BGP EVPN方式动态建立VXLAN隧道；</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/b809a28bd48d2c398ca02834200da3bd.png"></p>
<p>evpn隧道</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/7076afa337019014b2dd5df0c04d8192.png"><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/3812633b953ddfe435dc6be2de9d0e46.png"></p>
<p>evpn路由通告</p>
<p>BGP EVPN是一种使用BGP协议来传播EVPN信息的技术。EVPN提供了一种控制平面机制，用于管理VXLAN隧道和多点桥接。它允许不同网络设备（如交换机和路由器）之间共享关于网络拓扑和虚拟网络的信息。如上图，我司提供的联邦靶场支持BGP EVPN方式动态建立VXLAN隧道。</p>
<h3 id="方案设计-15"><a href="#方案设计-15" class="headerlink" title="方案设计"></a>方案设计</h3><p>功能参数设计为，系统支持BGP EVPN方式动态建立VXLAN隧道。双向身份认证功能，基于PKI证书进行身份认证。安全隧道传输，提供流量加密传输，保护数据完整性和真实性。基于源IP、目的IP等包过滤，提供黑白名单访问控制。接收其他联邦互联模块消息，采用消息中间件异步处理。互联路由虚拟化部署，路由支持SRv6功能，支持ospfv3 over srv6等。广域网加速功能，支持TFO、DRE、LZ算法。</p>
<p>性能参数设计为，处理转发（IPSec+Vxlan）时延≤70毫秒。</p>
<h4 id="项目背景-5"><a href="#项目背景-5" class="headerlink" title="项目背景"></a>项目背景</h4><p>在分布式靶场环境中，靶场之间的网络互联是确保各项试验能够顺利进行的基础。为了模拟真实的网络环境并进行有效的网络安全演练，需要构建一个安全、灵活且高效的网络互联框架。本方案旨在实现靶场之间的动态网络连接，提供安全可靠的数据传输，并支持高效的流量过滤和路由虚拟化。</p>
<h4 id="功能-8"><a href="#功能-8" class="headerlink" title="功能"></a>功能</h4><p>网络互联与动态隧道</p>
<p>BGP EVPN与VXLAN：支持通过BGP EVPN动态建立VXLAN隧道，实现跨越不同网络的靶场互联。</p>
<p>安全身份认证</p>
<p>双向身份认证：基于PKI证书进行身份认证，确保互联的靶场之间身份的真实性和安全性。</p>
<p>安全隧道传输</p>
<p>流量加密传输：提供加密传输，对数据包逐包进行认证，确保数据的完整性和真实性。</p>
<p>流量过滤与访问控制</p>
<p>包过滤：根据源IP、目的IP、源端口、目的端口、协议类型、时间段等进行流量过滤，实施黑白名单访问控制。</p>
<p>消息分发处理</p>
<p>消息分发：接收其他联邦互联模块的消息，并通过消息中间件异步处理，分发至不同的系统模块。</p>
<p>路由虚拟化与广域网加速</p>
<p>路由虚拟化：支持SRv6功能，并支持多种基于SRv6的路由协议和VPN。</p>
<p>广域网加速：提供TFO、DRE、LZ等算法支持的广域网加速功能。</p>
<h4 id="性能-7"><a href="#性能-7" class="headerlink" title="性能"></a>性能</h4><p>处理转发（IPSec+Vxlan）时延≤70毫秒。</p>
<p>系统架构</p>
<p>网络互联模块</p>
<p>实现BGP EVPN与VXLAN的动态隧道建立。</p>
<p>提供跨靶场之间的网络互联功能。</p>
<p>安全模块</p>
<p>实现双向身份认证和加密传输。</p>
<p>保护数据传输的安全性和私密性。</p>
<p>流量管理模块</p>
<p>提供包过滤和访问控制功能。</p>
<p>实现基于规则的流量控制。</p>
<p>消息处理模块</p>
<p>采用消息中间件进行消息的异步处理和分发。</p>
<p>路由虚拟化模块</p>
<p>支持SRv6功能和多种基于SRv6的网络协议。</p>
<p>实现路由的虚拟化部署。</p>
<p>广域网加速模块</p>
<p>提供TFO、DRE、LZ等算法支持的广域网加速功能。</p>
<h4 id="技术实施-3"><a href="#技术实施-3" class="headerlink" title="技术实施"></a>技术实施</h4><p>可靠性：确保网络连接的稳定性和数据传输的安全性。</p>
<p>灵活性：支持动态的网络拓扑变化和多种网络协议。</p>
<p>性能：满足低延迟的数据转发需求。</p>
<p>可扩展性：系统设计支持靶场数量和网络规模的增长。</p>
<p>本方案提供了一个高效、安全、可靠的分布式靶场网络互联解决方案。通过使用BGP EVPN和VXLAN技术，保证了靶场之间的动态互联和数据传输的安全性。同时，系统支持广域网加速和路由虚拟化，以适应不同的网络环境和性能需求。通过实施本方案，可以大大提升分布式靶场网络的互联能力和安全性，为网络安全演练提供坚实的基础设施支持。</p>
<h3 id="方案简介-20"><a href="#方案简介-20" class="headerlink" title="方案简介"></a>方案简介</h3><p>分布式互联：该框架引入了分布式互联模块，通过集成Zookeeper作为服务注册与发现中心，实现多个靶场之间的互联和通信。靶场之间可以动态注册和发现服务，实现跨靶场的服务调用和数据交互。</p>
<p>安全认证和授权：框架通过深度定制Spring Security，实现了基于RBAC、JWT和OAuth2的无状态统一权限认证解决方案。它提供了统一的身份验证和权限控制机制，确保靶场之间的安全通信和数据保护。</p>
<p>弹性伸缩和负载均衡：框架支持水平扩展，可以根据需求动态增加或减少靶场的实例数量。利用Spring Cloud Alibaba的负载均衡功能，框架能够自动将请求分发到不同的靶场实例，实现负载均衡和高可用性。</p>
<p>多环境部署和配置管理：该框架支持CI/CD多环境部署，可以方便地进行开发、测试和生产环境的切换。同时，它提供了配置管理功能，可根据不同环境的需求进行配置的灵活管理。</p>
<p>数据转发：支持IPSec、VxLan、BGP-EVPN、SRv6等多种方式互联互通。</p>
<p>组件化设计和代码规范：框架采用组件化的思想，实现高内聚、低耦合和高核心功能。</p>
<p>支持通过VXLAN方式与其它分靶场进行连接，并实现目标网络之间二层透明互联，界面如下图所示。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/acebf84e0d28b7ff8a1bd5801fa587a9.png"></p>
<p>VxLAN互联</p>
<p>支持通过IPsecVPN或SSLVPN与其它分靶场或异地仿真网络进行互联互通，实现目标网络之间三层互联，界面如下图所示。</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/8f526fd1f71bca03e11e271250dd96d7.png"></p>
<p>VPN互联</p>
<p>作为一个文本接口，我无法直接查看或显示图像。但是我可以跟你一起讨论理想的分靶场系统界面应该包含哪些功能，以及如何支持联邦靶场的目标网络调度要求和与其他分靶场网络的互联互通。</p>
<p>一个分靶场系统通常需要具备的关键界面和功能包括：</p>
<p>1. 场景目标网络生成:</p>
<p>功能参数如下：应有工具或模板快速创建或配置新的目标网络细节，包括网络设备、拓扑结构和安全设置。</p>
<p>功能参数如下：用户界面应提供拖拽式设计，便于非技术用户生成复杂网络场景。</p>
<p>2. 联邦靶场调度和管理:</p>
<p>功能参数如下：界面应该支持接入联邦靶场管理系统，允许用户请求和接收靶场网络调度任务。</p>
<p>功能参数如下：应有中心控制台集成所有分靶场活动，允许用户监控和协调各个靶场任务。</p>
<p>3. 互联互通设置:</p>
<p>功能参数如下：系统应提供网络路由配置工具，确保分靶场网络之间可以根据要求配置正确的联网路径和规则。</p>
<p>功能参数如下：应有检查工具验证网络连通性，并解决潜在的配置冲突。</p>
<p>4. 安全和隔离:</p>
<p>功能参数如下：界面应该支持配置靶场网络间的安全界限，例如通过隔离或虚拟专用网络(VPN)技术实现。</p>
<p>功能参数如下：对于联邦操作，应有清晰的安全协议设置和加密通信选项。</p>
<p>5. 用户权限和控制:</p>
<p>功能参数如下：系统应允许分配不同级别的用户权限，确保只有授权人员能够发起或变更靶场网络调度。</p>
<p>功能参数如下：界面中应包含用户操作的详细日志，方便审计和追溯。</p>
<p>6. 实时监控和响应:</p>
<p>功能参数如下：应有实时数据看板显示各分靶场当前状态，包括活跃连接、流量、攻击检测等。</p>
<p>功能参数如下：在遇到网络异常或安全事件时，应该有应急响应和通知机制。</p>
<p>请注意，这些功能的实现要根据实际操作环境的技术支持、网络安全政策和组织需求进行设计和调整。如果您可以提供更多的上下文或具体需求，我可以为您提供更加详细的资讯和建议。<img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/8562f571a049e625cfdb664e46fd7eb0.png"></p>
<p>分靶场目标网络调度</p>
<h1 id="智能汽车网络靶场安全特征采集设备"><a href="#智能汽车网络靶场安全特征采集设备" class="headerlink" title="智能汽车网络靶场安全特征采集设备"></a>智能汽车网络靶场安全特征采集设备</h1><h2 id="总体概述-1"><a href="#总体概述-1" class="headerlink" title="总体概述"></a>总体概述</h2><p>靶场安全特征采集设备主要由以下几部分组成:</p>
<ul>
<li>采集数据流智能分发设备,用于复制和分发攻防流量。</li>
<li>全流量威胁发现设备,对流量进行全面检测和分析。</li>
<li>应用协议威胁检测设备,分析应用层协议并检出威胁。</li>
<li>多层协议异常检测设备,识别各层协议的异常行为。</li>
<li>漏洞特征采集设备,对目标网络资产进行漏洞探测。</li>
</ul>
<p>这些设备可以收集目标网络的资产漏洞数据,并在试验过程中实时检测攻防流量的各类威胁特征和异常行为。</p>
<p>检测结果以安全事件的形式发送到态势子系统,用以构建知识图谱和进行安全关联分析。</p>
<p>通过多维度的流量分析和漏洞探测,可以全面收集网络的安全视图,辅助测试人员更好地进行靶场试验和态势评估。</p>
<h2 id="靶场安全特征采集设备"><a href="#靶场安全特征采集设备" class="headerlink" title="靶场安全特征采集设备"></a>靶场安全特征采集设备</h2><p>靶场安全特征采集设备系统架构图如下所示</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/d1d9b710599268ef43e424909234191e.png"></p>
<h3 id="采集数据流智能分发设备"><a href="#采集数据流智能分发设备" class="headerlink" title="采集数据流智能分发设备"></a>采集数据流智能分发设备</h3><p>功能参数如下：</p>
<ol>
<li><p>机架式盒式交换机，高度1U，管理专用端口2，console1，USB端口1。</p>
</li>
<li><p>配置24个千兆Base-T端口，4个万兆SFP+端口。</p>
</li>
<li><p>关键部件（CPU、转发芯片）采用国产产品。</p>
</li>
<li><p>支持基于端口的M:N流量复制功能，支持基于流的M:N流量复制功能。</p>
</li>
<li><p>支持普通IPv4、IPv6报文五元组流分类功能和内层（VXLAN）IPv4、IPv6报文五元组流分类功能。</p>
</li>
<li><p>支持基于Hash、轮询的报文分担功能。</p>
</li>
<li><p>支持报文截断、增加时间戳和以太网头部、增加源端口标识、修改报文头部、剥离隧道等功能。</p>
<p>性能参数如下：</p>
</li>
<li><p>吞吐能力1.92Tbps，转发能力1260Mpps。</p>
</li>
<li><p>配置2个交流电源，4个可插拔模块化风扇，24个万兆多模光模块。</p>
</li>
</ol>
<h4 id="方案"><a href="#方案" class="headerlink" title="方案"></a>方案</h4><p>功能参数设计为，机架式盒式交换机具备高度1U，拥有管理专用端口2个，console 1个，USB端口1个。配置24个千兆Base-T端口和4个万兆SFP+端口，采用国产关键部件（CPU、转发芯片）。支持端口和流基的M:N流量复制功能，IPv4/IPv6报文流分类功能，内层（VXLAN）报文流分类功能。提供基于Hash、轮询的报文分担功能，报文截断、增加时间戳、源端口标识、修改报文头部、剥离隧道等功能。</p>
<p>性能参数设计为，吞吐能力1.92Tbps，转发能力1260Mpps。配置2个交流电源，4个可插拔模块化风扇，24个万兆多模光模块。</p>
<p>设备选择：选择高度为1U的机架式盒式交换机，具备所需的管理专用端口、console端口和USB端口，其中包含两个管理专用端口。设备配置有24个千兆Base-T端口和4个万兆SFP+端口。设备关键部件采用国产化，包括CPU和转发芯片。以支持国产产业发展，提高系统的可靠性和安全性</p>
<p>功能支持：采集数据流智能分发设备支持内层（VXLAN）IPv4报文功能、支持剥离隧道功能、修改报文头部功能、支持普通IPv4、IPv6报文五元组流分类功能、增加源端口标识、IPv6报文五元组流分类功能、支持报文截断、基于端口和基于流的M:N流量复制功能、增加时间戳和以太网头部功能以及基于Hash和轮询的报文分担功能等功能。</p>
<p>性能支持：采集数据流智能分发设备的数据流处理速度1.92Tbps。设备的数据包转发速率1260Mpps。设备具备快速的数据包转发能力，能够支持高并发的网络流量传输</p>
<p>电源和风扇：采集数据流智能分发设备配置2个交流电源，以确保系统的可靠性和冗余性。拥有4个可插拔模块化风扇，以保证设备的散热性。</p>
<p>光模块：采集数据流智能分发设备配置24个万兆多模光模块，以满足连接需求。</p>
<h3 id="靶场定制全流量威胁检测"><a href="#靶场定制全流量威胁检测" class="headerlink" title="靶场定制全流量威胁检测"></a>靶场定制全流量威胁检测</h3><ul>
<li>支持基于工具特征的WEBSHELL检测，能通过系统调用、系统配置、文件的操作来及时发现威胁如：中国菜刀、小马上传工具、小马生成器等（请提供截图证明）</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/050f182aff97588cbe0135d560a05166.png"></p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/23f23f493334aae278bf388ec9addfb3.png"></p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/7c775f702b08bac8cc9e7fe5550e9e5e.png"></p>
<ul>
<li>支持告警的深度行为分析，行为包括DNS解析行为、TCP/UDP交互行为、WEB访问行为、传输文件行为（请提供截图证明）</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/20f3cc5d6be5dce311ccdf9c1fd33b62.png"></p>
<ul>
<li>支持以受害资产维度进行分析，分析内容包括失陷状态、受到的攻击类型、威胁级别、处于的攻击阶段、所属的资产分组（请提供截图证明）</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/e5c98d4badd8e1c39004c9bf595cac28.png"></p>
<ul>
<li>支持应用系统安全检测，应用安全的细分维度包括：WEB安全、数据库安全、中间件安全、邮件安全（请提供截图证明）</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/499270f45e3d15382f8478c39d57f53f.png"></p>
<ul>
<li>系统安全的细分维度包括：暴力破解、弱口令、未授权访问、挖矿行为（请提供截图证明）</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/33034a296b82d11e58c0deca3d709a1b.png"></p>
<ul>
<li>支持异常登录行为检测，检测内容包括：源ip、账号、登录资产IP、使用协议、登录结果等信息，且能进行异常时间配置（请提供截图证明）</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/de3b154826e702cb6200764d91dc9a13.png"></p>
<ul>
<li>支持明文密码泄露行为检测，检测内容包含：登录账号IP、账号、密码、使用协议（请提供截图证明）</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/fcf55d1d86630b29d48f2fc49c6397dc.png"></p>
<ul>
<li>支持对mysql、mssql、oracle、sybase等常见数据库高危操作行为分析，其能自定义规则（请提供截图证明）</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/1d1a5346bf5f73fdf5493a63d07946d0.png"></p>
<ul>
<li>支持可疑来源访问行为分析，能展示来源、源IP、资产IP、资产组、源地域、目的端口、URI等信息，且能自定义可疑来源（请提供截图证明）</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/4c556cae71b2529658b842e537c0241a.png"></p>
<ul>
<li>支持配置展示云端众测平台漏洞情报及资产漏洞信息（请提供截图证明）</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/ebd1f4d9253c1564951e22bcc29023b3.png" alt="表格 描述已自动生成"></p>
<ul>
<li>支持大屏展示整体资产风险态势，包含资产矩形树结构、资产分类、资产概况、开放服务统计、资产风险状态（请提供截图证明）</li>
</ul>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/6472dc85c1dbedcc909a9bb1b63a329a.png"></p>
<h4 id="方案设计-16"><a href="#方案设计-16" class="headerlink" title="方案设计"></a>方案设计</h4><p>功能参数设计为，流量采集性能为1Gb。配置有2个GE流量监听电口、2个10GE流量监听光口、2个GE管理电口、1个DB9 Console接口，20TB SATA存储硬盘。支持常见协议识别与还原，包括http、dns等。对流量中文件传输行为进行发现和还原，并记录文件MD5。</p>
<p>支持常见数据库协议识别与还原。记录TCP/UDP会话、异常流量会话、web访问等行为描述。支持自定义协议和端口，流量实时IOC匹配功能。检测WEB应用攻击，包括SQL注入、XSS等。支持其他WEB攻击检测。流量实时IOC匹配功能，总情报量370+万条。支持基于工具特征的WEBSHELL检测。多种攻击检测。支持文件还原，抓包分析。支持语义分析检测。自定义弱口令字典。旁路HTTPS解密、威胁检测。AES256、SM4数据传输加密。</p>
<p>支持威胁告警信息发送。云端威胁情报中心联动。告警深度行为分析。支持以受害资产维度和攻击者维度进行分析。应用系统安全检测。系统安全细分维度。支持DNS解析、疑似DNS服务器发现、DNS重绑定分析。异常登录行为检测。明文密码泄露行为检测。常见数据库高危操作行为分析。可疑来源访问行为分析。</p>
<p>展示云端众测平台漏洞情报及资产漏洞信息。大屏展示整体资产风险态势。</p>
<h5 id="项目背景-6"><a href="#项目背景-6" class="headerlink" title="项目背景"></a>项目背景</h5><p>随着智能汽车技术的发展，车载网络安全成为车辆信息系统中不可忽视的一环。为了保障智能汽车系统的安全性，需要对车载网络进行实时的监控和分析，以便能够及时发现并响应安全事件。本系统旨在提供一套完整的解决方案，用于智能汽车网络的安全事件检测、流量分析和威胁情报处理。</p>
<h5 id="功能-9"><a href="#功能-9" class="headerlink" title="功能"></a>功能</h5><p>流量采集与监听</p>
<p>流量采集性能：1Gb，包含多种流量监听接口和存储能力。</p>
<p>协议识别与还原</p>
<p>协议识别：支持常见协议的识别与网络流量还原，用于取证分析和威胁发现。</p>
<p>文件传输行为分析</p>
<p>文件传输检测：支持对流量中的文件传输行为进行发现、还原，并记录文件MD5。</p>
<p>数据库协议识别</p>
<p>数据库协议识别：支持常见数据库协议的识别和还原。</p>
<p>行为记录</p>
<p>行为描述记录：支持记录TCP/UDP会话、异常流量、Web访问等多种行为。</p>
<p>自定义协议与IOC匹配</p>
<p>自定义协议：支持自定义协议和端口配置，以及实时IOC匹配功能。</p>
<p>WEB应用攻击检测</p>
<p>WEB攻击检测：支持检测SQL注入、XSS、CSRF等WEB应用攻击。</p>
<p>文件还原</p>
<p>协议流量文件还原：支持对多种协议的流量进行文件还原。</p>
<p>抓包分析</p>
<p>抓包分析：支持对流量进行抓包分析，可自定义抓包参数。</p>
<p>语义分析检测</p>
<p>语义分析：支持基于网络请求的语义分析检测。</p>
<p>弱口令检测</p>
<p>弱口令字典：支持自定义弱口令字典和相关协议的弱口令检测。</p>
<p>HTTPS解密与威胁检测</p>
<p>HTTPS解密：支持旁路HTTPS解密和威胁检测。</p>
<p>数据传输加密</p>
<p>数据传输加密：支持AES256、SM4等加密算法保障数据安全。</p>
<p>威胁情报与联动</p>
<p>云端威胁情报：支持与云端威胁情报中心联动。</p>
<p>行为分析</p>
<p>深度行为分析：支持DNS解析、TCP/UDP交互、WEB访问等行为分析。</p>
<p>分析维度</p>
<p>受害资产分析：支持以受害资产和攻击者维度进行分析。</p>
<p>安全检测</p>
<p>应用系统安全检测：支持WEB、数据库、中间件、邮件等安全检测。</p>
<p>DNS分析</p>
<p>DNS解析检测：支持可疑DNS解析和DNS服务器发现分析。</p>
<p>登录与密码泄露检测</p>
<p>异常登录检测：支持检测明文密码泄露和异常登录行为。</p>
<p>数据库高危操作分析</p>
<p>数据库操作分析：支持对常见数据库高危操作的行为分析。</p>
<p>可疑来源分析</p>
<p>可疑来源分析：支持可疑来源访问行为的分析。</p>
<p>漏洞信息与态势展示</p>
<p>漏洞信息展示：支持配置展示云端众测平台漏洞情报及资产漏洞信息。</p>
<p>资产风险态势：支持大屏展示整体资产风险态势。</p>
<h5 id="系统架构-5"><a href="#系统架构-5" class="headerlink" title="系统架构"></a>系统架构</h5><p>流量采集模块</p>
<p>负责从网络中采集流量，并进行初步的分类和存储。</p>
<p>协议分析模块</p>
<p>对采集到的流量进行深度协议分析，实现数据还原和行为记录。</p>
<p>威胁检测模块</p>
<p>根据已知的攻击模式和IOC，对流量进行分析，识别潜在的威胁。</p>
<p>行为分析模块</p>
<p>对网络行为进行深度分析，包括DNS解析、文件传输、登录行为等。</p>
<p>加密与解密模块</p>
<p>对流量进行加密传输，并在需要时进行解密处理。</p>
<p>威胁情报管理模块</p>
<p>与云端威胁情报中心联动，管理和应用威胁情报。</p>
<p>可视化与报告模块</p>
<p>提供用户界面，展示威胁检测结果和网络安全态势。</p>
<p>数据管理与同步模块</p>
<p>管理采集到的数据，支持与其他系统的数据同步。</p>
<h5 id="技术实施-4"><a href="#技术实施-4" class="headerlink" title="技术实施"></a>技术实施</h5><p>高性能处理：系统应能处理高速网络流量并保持低延迟。</p>
<p>准确性：协议识别和威胁检测需要高准确率。</p>
<p>易用性：系统应提供直观的用户界面和报告。</p>
<p>可扩展性：系统支持新增的威胁情报和自定义规则。</p>
<p>本方案提供了一个全面的智能汽车网络安全事件检测与流量分析解决方案，涵盖了从流量采集到威胁分析的完整流程。通过实施本方案，能够有效提升智能汽车网络的安全防护能力，及时发现并响应安全威胁，保障车载网络环境的安全稳定。</p>
<h4 id="方案简介-21"><a href="#方案简介-21" class="headerlink" title="方案简介"></a>方案简介</h4><p>设备选择：靶场定制全流量威胁检测设备是一台高性能的流量采集设备，其流量采集性能不低于1Gb。设备配置有1个DB9 Console接口、2个10千兆以太网流量监听光口、2个千兆以太网流量监听电口、2个千兆以太网管理电口。此外，设备还搭载了20TB SATA存储硬盘，并且支持扩容，以满足对大容量数据存储的需求。</p>
<p>功能支持：靶场定制全流量威胁检测设备支持对常见协议的识别与还原，包括但不限于FTP协议、SNMP协议、Telnet协议、NFS协议、ICMP协议、SSL协议、SSH协议、HTTP协议、DNS协议、SMTP协议、POP3协议、IMAP协议、Webmail协议、DB2协议、Oracle协议、MySQL协议、SQL Server协议、Sybase协议以及SMB协议等。可以通过对流量进行解析，能够还原出协议的具体内容，方便后续的取证分析和威胁发现。</p>
<p>文件传输行为进行发现和还原：记录文件的MD5值，以便后续的分析和对比。支持的文件类型应包括可执行文件包括但不限于EXE文件、DLL文件、OCX文件、SYS文件、COM文件、APK文件、BIN文件等、压缩格式文件包括但不限于RAR文件、ZIP文件、GZ文件、7Z文件、TAR文件等、文档类型文件包括但不限于Word文件、Excel文件、PDF文件、RTF文件、PPT文件、TXT文件等、多媒体文件包括但不限于Flash文件、JPG文件、JPEG文件、PNG文件、FLV文件、SWF文件等、脚本文件包括但不限于HTML文件、HTM文件、Java文件、MHTML文件、MHT文件等。</p>
<p>数据库协议解析：支持常见数据库协议包括但不限于DB2数据库协议、Oracle数据库协议、SQL Server数据库协议、MySQL数据库协议、PostgreSQL数据库协议的识别或还原。通过解析数据库协议的流量，能够还原出具体的数据库操作，方便进行数据库安全分析和威胁检测。</p>
<p>流量威胁检测：并提供详细的行为描述。支持的检测内容包括IM通信、Telnet行为、FTP控制通道、异常流量会话记录、SSL加密协商、Web访问记录、登录情况、TCP/UDP会话记录、邮件行为、域名解析、SQL访问记录以及文件传输等。通过对流量中的行为进行描述，能够帮助使用者更好地理解和分析威胁事件。</p>
<p>自定义功能：靶场定制全流量威胁检测设备支持自定义协议和端口，以满足特殊场景下的流量抓取需求。这使的设备可以适应不同网络环境和应用场景的需求，提高系统的灵活性和适应性。此外，还拥有基于流量的实时IOC匹配功能，情报总量不低于50万条，且包含具备主流的IOC。通过实时匹配IOC，能够及时发现已知的威胁，提高威胁检测的准确性和及时性。</p>
<p>攻击检测与分析功能：靶场定制全流量威胁检测设备支持检测针对WEB应用的攻击，涵盖了跨站请求伪造CSRF攻击、注入型攻击如系统配置注入、XSS注入、SQL注入攻击检测。通过对流量中的攻击行为进行检测和分析，能够及时发现并阻止潜在的攻击行为。</p>
<p>靶场定制全流量威胁检测设备支持检测如文件写入、文件包含、信息泄露、权限绕过、弱口令、目录遍历攻击等。能够全面覆盖各种WEB攻击场景，提高系统的安全性和防护能力。还可以进行其他攻击检测，例如代码执行、黑市攻击、协议异常、网络欺骗等。</p>
<p>能够根据文件相关的操作、修改系统配置、进行系统调用等方式及时发现威胁，如小马生成器、小马上传工具、中国菜刀等。可以及时发现并阻止恶意工具的使用，保护系统的安全。并且支持基于代理程序的攻击检测，如HTTP代理程序、TCP代理程序等。通过对代理程序的行为进行分析，能够发现并阻止代理程序的恶意行为。以下是基于基于工具特征的WEBSHELL检测截图证明：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/050f182aff97588cbe0135d560a05166.png"></p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/23f23f493334aae278bf388ec9addfb3.png"></p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/7c775f702b08bac8cc9e7fe5550e9e5e.png"></p>
<p>数据分析与还原功能：靶场定制全流量威胁检测设备支持对NFS协议、QQ协议、HTTP协议、IMAP协议、FTP_DATA协议、SMB协议、POP3协议、SMTP协议、TFTP协议以及WEBMAIL协议的流量进行文件还原，帮助分析人员更好地理解和分析威胁事件，进一步提高威胁检测的准确性和效率。</p>
<p>流量抓包分析：为了能够根据具体的需求进行抓包分析，提高分析的针对性和有效性，能够自行选择需要的协议类型、端口或IP地址、数量、单向或双向。</p>
<p>基于网络请求的语义分析检测：通过对网络请求的语义进行分析，能够更准确地判断是否存在恶意行为。且能够从流量中获取响应体、请求体、响应头、请求头四方面详细展示请求内容，并能提升对未知威胁的检测能力。</p>
<p>告警及传输功能：靶场定制全流量威胁检测设备支持自定义弱口令字典，能够检测IMAP协议、SMTP协议、FTP协议、HTTP协议、Telnet协议、HTTPS协议以及POP协议的自定义弱口令。通过对弱口令的检测，能够及时发现并阻止潜在的安全风险。支持旁路HTTPS解密与威胁检测，通过对HTTPS流量的解密和分析，能够发现潜在的威胁并提供相应的防护措施。支持AES256、SM4数据传输加密。通过对数据传输进行加密，能够防止数据被篡改或泄露，保护系统的安全。</p>
<p>威胁告警：支持将信息发送给syslog服务器以及kafka服务器，日志信息包括威胁类型、攻击结果、网络日志、威胁告警、威胁等级等。具备集中管理和分析威胁事件的能力，并及时采取相应的防护措施，使传输方式更为多样。</p>
<p>与云端威胁情报中心联动：靶场定制全流量威胁检测设备支持与云端威胁情报中心联动，能够对文件MD5、IOC/规则ID、攻击IP以及受害IP进行一键搜索，并可通过查看数字证书、域名解析、可视化分析、文件MD5、IOC/规则ID、攻击IP、受害IP以及一键搜索等。通过与云端威胁情报中心的联动，能够及时获取最新的威胁情报，提高威胁检测的准确性和效果。</p>
<p>还支持对资产漏洞信息以及云端众测平台漏洞情报进行配置展示。以下是截图证明：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/ebd1f4d9253c1564951e22bcc29023b3.png" alt="表格 描述已自动生成"></p>
<p>大屏展示与资产分析：靶场定制全流量威胁检测设备支持采用大屏展示整体资产风险态势，包括资产矩形树结构、资产分类、资产概况、开放服务统计、资产风险状态。通过大屏展示，能够全面了解和分析系统的资产状况，及时发现并解决潜在的安全风险。以下是截图证明：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/6472dc85c1dbedcc909a9bb1b63a329a.png"></p>
<p>攻击者的维度进行分析：通过对攻击者的分析，能够更好地了解威胁的来源和特征，提高威胁检测的准确性和效率。攻击者进行画像包括：</p>
<ol>
<li>地理位置信息</li>
<li>国家信息</li>
<li>所属组织</li>
<li>使用的攻击手段</li>
<li>攻击的所有资产</li>
</ol>
<p>应用系统进行安全检测：通过对应用系统的安全检测，能够发现并修复潜在的安全漏洞和安全威胁，提高系统的安全性。包括的类型有：</p>
<ol>
<li>WEB安全</li>
<li>数据库安全</li>
<li>中间件安全</li>
<li>邮件安全</li>
</ol>
<p>以下是截图证明：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/240779b180c4717501d5a1143732367e.png"></p>
<p>DNS相关功能：能够通过自定义域名总长度、请求次数以及时间范围来DNS隧道检测规则。通过对可疑DNS解析的检测，能够发现并阻止潜在的恶意域名的使用，提高系统的安全性。并且能够发现DGA域名与DNS隧道域名。</p>
<p>疑似DNS服务器发现：通过对DNS服务器的行为进行分析，能够发现并阻止潜在的DNS服务器的使用，提高系统的安全性。可以通过发起DNS请求以及响应DNS请求进行行为分类。</p>
<p>DNS重绑定分析：支持呈现访问时间、DNS解析记录、域名、攻击IP、受害IP等内容。通过对DNS重绑定的分析，能够发现并阻止潜在的DNS重绑定攻击，提高系统的安全性。</p>
<p>异常登录行为检测：靶场定制全流量威胁检测设备支持检测异常登录行为，能进行异常时间配置并包括信息：</p>
<ol>
<li>源IP</li>
<li>账号</li>
<li>登录资产IP</li>
<li>使用协议</li>
<li>登录结果</li>
</ol>
<p>以下是截图证明：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/0c9a9a04e95447b30a98f559b8c57f9f.png"></p>
<p>明文密码泄露行为检测：靶场定制全流量威胁检测设备支持检测明文密码泄露行为，包括信息：</p>
<ol>
<li>登录账号IP</li>
<li>账号</li>
<li>密码</li>
<li>使用协议</li>
</ol>
<p>以下是截图证明：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/09e974969db2fb368cde6075dcf0c0e0.png"></p>
<p>常见数据库高危操作行为分析：靶场定制全流量威胁检测设备支持对下列数据库的高危操作行为进行分析，并能自定义规则：</p>
<ol>
<li>mysql数据库</li>
<li>mssql数据库</li>
<li>oracle数据库</li>
<li>sybase数据库</li>
</ol>
<p>以下是截图证明：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/f703320a11c149d25e79d1f2171683b9.png"></p>
<p>可疑来源访问行为分析：靶场定制全流量威胁检测设备支持对可疑来源访问行为进行分析，展示下列信息并能自定义可疑来源：</p>
<ol>
<li>来源</li>
<li>源IP</li>
<li>资产IP</li>
<li>资产组</li>
<li>源地域</li>
<li>目的端口</li>
<li>URI</li>
</ol>
<p>以下是截图证明：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/89445655f91cf3460530ee59ed54bac7.png"><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/89445655f91cf3460530ee59ed54bac7.png"></p>
<p>告警的深度行为分析：靶场定制全流量威胁检测设备支持告警的深度行为分析，其中包括：</p>
<ol>
<li>DNS解析行为</li>
<li>TCP/UDP交互行为</li>
<li>WEB访问行为</li>
<li>传输文件行为</li>
</ol>
<p>以下是截图证明：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/20f3cc5d6be5dce311ccdf9c1fd33b62.png"></p>
<p>受害资产分析：靶场定制全流量威胁检测设备支持以受害资产维度进行分析包括：</p>
<ol>
<li>资产分组</li>
<li>威胁级别</li>
<li>处于的攻击阶段</li>
<li>失陷状态</li>
<li>受到的攻击类型。</li>
</ol>
<p>以下是截图证明：</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/59a0f6a9b26239ae72fda36fd7c1e91d.png"></p>
<p>攻击者画像分析：靶场定制全流量威胁检测设备支持对攻击者进行画像分析包括信息：</p>
<ol>
<li>资产的所有攻击</li>
<li>使用的攻击手段</li>
<li>所属组织</li>
<li>国家信息</li>
<li>地理位置</li>
</ol>
<p>系统安全检测：靶场定制全流量威胁检测设备支持系统安全检测，包括挖矿行为、未授权访问、暴力破解以及弱口令等细分维度。以下是截图证明</p>
<p><img src= "https://i.loli.net/2020/07/14/shCfncNLw9axrt8.gif" data-lazy-src="https://focu5.oss-cn-beijing.aliyuncs.com/media/92b4b9b57d93182f37d8739f8ecbb51c.png"></p>
<h3 id="靶场定制应用协议威胁特征检测"><a href="#靶场定制应用协议威胁特征检测" class="headerlink" title="靶场定制应用协议威胁特征检测"></a>靶场定制应用协议威胁特征检测</h3><p>功能参数如下：</p>
<ol>
<li>内存16G，硬盘1T，以太网千兆管理接口2个，万兆以太网SFP+光接口（含万兆多模光模块）2个，接口扩展槽位3个。</li>
<li>HTTP吞吐量5Gbps，HTTP并发连接数100万、HTTP每秒新建连接数8万，保护网站站点数量无限制。</li>
<li>支持透明流模式、透明代理模式、反向代理模式、路由牵引模式、镜像检测模式及镜像阻断模式。</li>
<li>支持通过BGP方式对流量进行牵引，并在清洗攻击后回注，回注过程支持设置SNAT策略。</li>
<li>支持静态及动态ARP管理。</li>
<li>支持HTTP协议校验，可根据实际网络状况自定义协议参数合规标准，过滤非法数据。</li>
<li>支持设置扫描陷阱，防止恶意扫描。</li>
<li>支持页面访问顺序规则防护。</li>
<li>提供流量安全事件与漏洞（CVE/BID/MSB）的对应关系，并支持对应关系的更新。</li>
<li>提供流量安全事件与弱点（CWE）的对应关系，并支持对应关系的更新。</li>
<li>提供流量安全事件的可理解描述。</li>
<li>流量安全事件标识源MAC地址、目的MAC地址、VLAN号。</li>
</ol>
<h4 id="方案-1"><a href="#方案-1" class="headerlink" title="方案"></a>方案</h4><p>功能参数设计为，内存16G，硬盘1T，以太网千兆管理接口2个，万兆以太网SFP+光接口（含万兆多模光模块）2个，接口扩展槽位3个。HTTP吞吐量5Gbps，HTTP并发连接数100万、每秒新建连接数8万，无限制保护网站站点数量。支持透明流模式、透明代理模式等多种部署模式。通过BGP方式对流量进行牵引，静态及动态ARP管理。HTTP协议校验，设置扫描陷阱，页面访问顺序规则防护。流量安全事件与漏洞、弱点的对应关系更新，流量安全事件标识。</p>
<p>设备选择：靶场定制应用协议威胁特征检测设备采用内存容量16GB，硬盘容量1TB。设备支持配备两个千兆以太网管理接口，三个接口扩展槽位以及两个万兆以太网SFP+光接口（包括万兆多模光模块）。</p>
<p>性能参数：靶场定制应用协议威胁特征检测设备支持无限制的网站站点数量。且HTTP处理速度可达到每秒5G字节。并且HTTP并发连接数不低于100万。同时经过检测，该设备可支持的HTTP每秒新建连接数大于等于8万。</p>
<p>模式与功能支持：靶场定制应用协议威胁特征检测设备能够通过BGP方式对流量进行牵引，在通过攻击清洗后再将其返回。它还能提供动态ARP管理以及静态ARP管理的功能。还能够支持镜像阻断、镜像检测、路由牵引、透明流、透明代理以及反向代理模式。并且在回注的过程中，可以配置SNAT策略。</p>
<p>协议校验与防护：靶场定制应用协议威胁特征检测设备能够设置扫描陷阱，以防止恶意扫描。还能够进行HTTP协议校验，用户可以自定义协议参数要求合规标准，并过滤非法数据。此外还能够进行页面访问顺序规则防护。</p>
<p>安全事件与漏洞对应关系：靶场定制应用协议威胁特征检测设备提供流量安全事件与漏洞的对应关系，其中包括了CVE漏洞编号、BID漏洞编号以及MSB漏洞编号。除此之外，该系统还能够给出流量安全事件与弱点，也就是CWE编号的对应关系，提供对流量安全事件的的清晰描述，并且这些对应关系都能够实时更新。</p>
<p>流量安全事件标识：靶场定制应用协议威胁特征检测设备支持识别流量中的安全事件，并给出安全事件的VLAN号、目的MAC地址以及源MAC地址等标识信息。</p>
<h3 id="靶场定制多层协议异常特征检测"><a href="#靶场定制多层协议异常特征检测" class="headerlink" title="靶场定制多层协议异常特征检测"></a>靶场定制多层协议异常特征检测</h3><p>功能参数如下：</p>
<ol>
<li>配置千兆电口8个，千兆光口8个，万兆光口8个，设备扩展槽位5个，支持40G光接口扩展。</li>
<li>配置2块 480GB SSD硬盘，2块可插拔模块化交流电源，2块可插拔模块化风扇。</li>
<li>整机应用层吞吐量（全威胁应用层吞吐）15Gbps，并发连接数1500万，新建连接数20万/秒；</li>
<li>配置虚拟授权数量16，配置全接口防护授权，支持路由模式、透明模式、混合模式部署。</li>
<li>攻击特征库数量8000、病毒特征库数量600W、支持的协议识别数量5500。</li>
<li>支持病毒检测功能，集成第三方专业防病毒厂商的专业病毒库。</li>
<li>支持IPv6协议，支持基于IPv6的流量威胁识别功能；特征库支持手动、自动升级两种方式。</li>
<li>支持报文示踪功能，支持真实流量、导入报文、构造报文三种模式进行失踪诊断，支持报文捕获，并支持以cap包导出供其他系统分析。</li>
<li>提供流量安全事件与漏洞（CVE/BID/MSB）的对应关系，并支持对应关系的更新。</li>
<li>提供流量安全事件与弱点（CWE）的对应关系，并支持对应关系的更新。</li>
<li>提供流量安全事件的可理解描述。</li>
<li>流量安全事件标识源MAC地址、目的MAC地址、VLAN号。</li>
</ol>
<h4 id="方案-2"><a href="#方案-2" class="headerlink" title="方案"></a>方案</h4><p>功能参数设计为，配置千兆电口8个，千兆光口8个，万兆光口8个，设备扩展槽位5个，支持40G光接口扩展。配置2块480GB SSD硬盘，2块可插拔模块化交流电源，2块可插拔模块化风扇。整机应用层吞吐量15Gbps，支持并发连接数1500万，新建连接数20万/秒。虚拟授权数量16，全接口防护授权。攻击特征库数量8000，病毒特征库数量600W。支持病毒检测功能，IPv6协议支持。报文示踪功能。流量安全事件与漏洞、弱点的对应关系更新。</p>
<p>硬件配置：配备了八个万兆光口、八个千兆电口以及八个千兆光口，同时还具备五个可扩展设备槽位，拥有四十个G光接口扩展。其配置还包括两块480GB SSD硬盘，支持灵活扩容，以满足数据存储需求。此外，该设备还搭载了两块可以轻松更换的模块化交流电源和两块可插拔的模块化风扇，以增强系统的可维护性和稳定性。</p>
<p>性能要求：靶场定制多层协议异常特征检测设备应用层吞吐量（全威胁应用层吞吐）大于15Gbps，满足高吞吐量的数据采集需求。并发连接不低于1500万，新建连接数支持不少于20万/秒，设备满足对大量并发连接的负载及处理。</p>
<p>授权与防护：靶场定制多层协议异常特征检测设备配置虚拟授权数量不低于16个，并提供全接口防护授权，以确保系统的安全性和可靠性。</p>
<p>部署模式：支持混合模式部署、透明模式部署以及路由模式部署，以适应各种网络环境。</p>
<p>特征库与病毒检测：靶场定制多层协议异常特征检测设备拥有超过600万个病毒特征库以及8000个以上的攻击特征库，以提供全面的安全防护能力。同时可以对接第三方病毒库，如专业防病毒厂商，集成操作步骤简便，使设备的专业的病毒检测功能更加完善。</p>
<p>升级方式：支持手动、自动升级两种方式，以确保特征库的及时更新。</p>
<p>IPv6支持与报文分析：靶场定制多层协议异常特征检测设备具备通过IPv6的流量进行威胁识别功能，以适应不同网络环境的需求。具备报文示踪功能，失踪诊断可以通过构造报文、导入报文以及真实流量这几种模式来诊断。还能够进行以cap包格式导出捕获的报文，以方便流量分析和安全事件的识别。</p>
<p>安全事件与漏洞对应关系：靶场定制多层协议异常特征检测设备支持查看流量安全事件与漏洞的对应关系，其中漏洞包括了CVE漏洞编号、BID漏洞编号以及MSB漏洞编号，并支持对应关系的更新，以提供全面的安全事件识别和漏洞管理能力。</p>
<p>安全事件描述：靶场定制多层协议异常特征检测设备提供流量安全事件的可理解描述，以便用户能够更好地理解和处理安全事件。</p>
<h3 id="靶场定制漏洞特征采集"><a href="#靶场定制漏洞特征采集" class="headerlink" title="靶场定制漏洞特征采集"></a>靶场定制漏洞特征采集</h3><p>功能参数如下：</p>
<ol>
<li>1U高机架式硬件架构，8G内存，2T硬盘，配置6个以太网千兆电口，支持1个接口扩展槽位。</li>
<li>最大可扫描128~1024个IP地址，配置128个IP地址或域名授权。</li>
<li>系统支持国产操作系统、数据库的扫描，国产操作系统包含中标麒麟、凝思、华为欧拉、深度、XXXX，国产数据库包括神通、人大金仓、南大通用、达梦。</li>
<li>系统支持自适应网络扫描，根据网络状况自动调整发包速率，减少对用户网络的影响。</li>
<li>系统支持和微软WSUS补丁系统联动，方便进行自动化的补丁修补。</li>
<li>系统支持自带诊断工具，包含PING、Traceroute、端口探测、Tcpdump抓包、故障信息收集、一键诊断，方便用户快速定位问题。</li>
</ol>
<h4 id="方案-3"><a href="#方案-3" class="headerlink" title="方案"></a>方案</h4><p>功能参数设计为，1U高机架式硬件架构，8G内存，2T硬盘，6个以太网千兆电口，1个接口扩展槽位。可扫描128~1024个IP地址，配置128个IP地址或域名授权。支持国产操作系统、数据库扫描。自适应网络扫描，微软WSUS补丁系统联动。自带诊断工具，方便快速定位问题。</p>
<p>硬件配置：靶场定制漏洞特征采集设备采用1U高的机架式硬件架构，硬盘容量配置不低于2T，内存配置大于等于8G，该设备完全满足数据存储需求。并且配置了6个以太网千兆电口，并且具备1个可扩展的接口槽。</p>
<p>扫描能力与授权：靶场定制漏洞特征采集设备最大可扫描128~1024个IP地址，提供灵活的IP地址范围配置。可配置不少于128个IP地址或域名授权，以满足对目标网络的全面扫描需求。</p>
<p>国产操作系统与数据库支持：靶场定制漏洞特征采集设备可用于扫描国产操作系统，涵盖了XXXX操作系统、深度操作系统、中标麒麟操作系统、凝思操作系统以及华为欧拉操作系统。还支持扫描数据库，涵盖了达梦、南大通用、神通和人大金仓等数据库</p>
<p>自适应网络扫描与补丁联动：靶场定制漏洞特征采集设备支持自适应网络扫描功能，可以通过智能的调整发包频率，从而降低对用户网络的影响。此外，它还兼容微软WSUS补丁系统，使得补丁修复能够自动进行，从而增进系统的整体安全性。</p>
<p>自带诊断工具：靶场专用漏洞特征采集设备内置了一套诊断工具，涵盖了一键诊断功能、Traceroute工具、Tcpdump抓包功端口探测工具、故障信息收集功能以及PING工具等功能，以方便用户快速定位和解决问题。</p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">0xfocu5</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://0xfocu5.github.io/posts/e9d5364/">https://0xfocu5.github.io/posts/e9d5364/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://0xfocu5.github.io" target="_blank">0xfocu5</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://focu5.oss-accelerate.aliyuncs.com/blog/20200927102719.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/4e430e29/"><img class="prev-cover" data-lazy-src="https://focu5.oss-accelerate.aliyuncs.com/blog/20200927102719.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">国利网安汽车接入系统技术白皮书</div></div></a></div><div class="next-post pull-right"><a href="/posts/42c3081f/"><img class="next-cover" data-lazy-src="https://focu5.oss-accelerate.aliyuncs.com/blog/20200927102719.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">Chromium IPC</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> comment</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By 0xfocu5</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">search</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    window.valine = new Valine({
      el: '#vcomment',
      appId: 'P9GVfs1MeERE7LeK2DFsJXmn-gzGzoHsz',
      appKey: 'hzbjuPyWPjwk5HpiLPf3csE9',
      placeholder: 'Please leave your footprints',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'en',
      recordIP: false,
      serverURLs: '',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: false,
      path: window.location.pathname,
    });
    if ('nick,mail') { valine.config.requiredFields= 'nick,mail'.split(',') }
  }

  if (typeof Valine === 'function') initValine() 
  else $.getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js', initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.querySelector('#vcomment'),loadValine)
  else setTimeout(() => loadValine(), 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/js/focu5.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="100" mobile="true" src="/js/third-party/canvas-nest.js"></script><script src="/js/third-party/click_heart.js" async="async"></script></div></body></html>